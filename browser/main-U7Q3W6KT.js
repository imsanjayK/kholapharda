var cm=Object.create;var Pa=Object.defineProperty,um=Object.defineProperties,dm=Object.getOwnPropertyDescriptor,hm=Object.getOwnPropertyDescriptors,fm=Object.getOwnPropertyNames,Wu=Object.getOwnPropertySymbols,pm=Object.getPrototypeOf,qu=Object.prototype.hasOwnProperty,gm=Object.prototype.propertyIsEnumerable;var Gu=(t,e,i)=>e in t?Pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,ue=(t,e)=>{for(var i in e||={})qu.call(e,i)&&Gu(t,i,e[i]);if(Wu)for(var i of Wu(e))gm.call(e,i)&&Gu(t,i,e[i]);return t},Fe=(t,e)=>um(t,hm(e));var Ra=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var hn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mm=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of fm(e))!qu.call(t,r)&&r!==i&&Pa(t,r,{get:()=>e[r],enumerable:!(n=dm(e,r))||n.enumerable});return t};var Yu=(t,e,i)=>(i=t!=null?cm(pm(t)):{},mm(e||!t||!t.__esModule?Pa(i,"default",{value:t,enumerable:!0}):i,t));var oe=(t,e,i)=>new Promise((n,r)=>{var s=h=>{try{a(i.next(h))}catch(d){r(d)}},o=h=>{try{a(i.throw(h))}catch(d){r(d)}},a=h=>h.done?n(h.value):Promise.resolve(h.value).then(s,o);a((i=i.apply(t,e)).next())});var ba=hn(()=>{"use strict"});var Jg=hn((aR,Zg)=>{"use strict";var BC="bold|bolder|lighter|[1-9]00",VC="italic|oblique",UC="small-caps",HC="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",$C="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",Qg=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,zC=new RegExp(`(${BC}) +`,"i"),WC=new RegExp(`(${VC}) +`,"i"),GC=new RegExp(`(${UC}) +`,"i"),qC=new RegExp(`(${HC}) +`,"i"),YC=new RegExp(`([\\d\\.]+)(${$C}) *((?:${Qg})( *, *(?:${Qg}))*)`),ju={},XC=16;Zg.exports=t=>{if(ju[t])return ju[t];let e=YC.exec(t);if(!e)return;let i={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")},n,r,s,o,a=t.substring(0,e.index);switch((n=zC.exec(a))&&(i.weight=n[1]),(r=WC.exec(a))&&(i.style=r[1]),(s=GC.exec(a))&&(i.variant=s[1]),(o=qC.exec(a))&&(i.stretch=o[1]),i.unit){case"pt":i.size/=.75;break;case"pc":i.size*=16;break;case"in":i.size*=96;break;case"cm":i.size*=96/2.54;break;case"mm":i.size*=96/25.4;break;case"%":break;case"em":case"rem":i.size*=XC/.75;break;case"q":i.size*=96/25.4/4;break}return ju[t]=i}});var em=hn(ps=>{"use strict";var KC=Jg();ps.parseFont=KC;ps.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};ps.createImageData=function(t,e,i){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,i)}};ps.loadImage=function(t,e){return new Promise(function(i,n){let r=Object.assign(document.createElement("img"),e);function s(){r.onload=null,r.onerror=null}r.onload=function(){s(),i(r)},r.onerror=function(){s(),n(new Error('Failed to load the image "'+t+'"'))},r.src=t})}});var tm=hn(()=>{"use strict"});var Bu=hn(()=>{"use strict"});var Vu=hn(()=>{"use strict"});var nm=hn(()=>{"use strict"});var im=hn((exports,module)=>{"use strict";(function(e,i){typeof exports=="object"&&typeof module=="object"?module.exports=e.pdfjsLib=i():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>e.pdfjsLib=i()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=e.pdfjsLib=i():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=i()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=C,e.bytesToString=$,e.createValidAbsoluteUrl=M,e.getModificationDate=it,e.getUuid=kt,e.getVerbosityLevel=j,e.info=H,e.isArrayBuffer=Pe,e.isArrayEqual=ft,e.isNodeJS=void 0,e.normalizeUnicode=hr,e.objectFromMap=z,e.objectSize=Z,e.setVerbosityLevel=X,e.shadow=L,e.string32=ne,e.stringToBytes=q,e.stringToPDFString=de,e.stringToUTF8String=he,e.unreachable=_,e.utf8StringToString=ve,e.warn=P;let i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=i;let n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;let r=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=r;let s=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=s;let o=1.35;e.LINE_FACTOR=o;let a=.35;e.LINE_DESCENT_FACTOR=a;let h=a/o;e.BASELINE_FACTOR=h;let d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=d;let u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=u;let l="pdfjs_internal_editor_";e.AnnotationEditorPrefix=l;let c={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=c;let g={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=g;let f={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=f;let p={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=p;let y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=y;let v={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=v;let A={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=A;let m={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=m;let b={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=b;let w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=w;let D={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=D;let I={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=I;let R={O:"PageOpen",C:"PageClose"};e.PageActionEventType=R;let O={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=O;let U={NONE:0,BINARY:1};e.CMapCompressionType=U;let W={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=W;let G={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=G;let Q=O.WARNINGS;function X(re){Number.isInteger(re)&&(Q=re)}function j(){return Q}function H(re){Q>=O.INFOS&&console.log(`Info: ${re}`)}function P(re){Q>=O.WARNINGS&&console.log(`Warning: ${re}`)}function _(re){throw new Error(re)}function C(re,te){re||_(te)}function S(re){switch(re?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M(re,te=null,ee=null){if(!re)return null;try{if(ee&&typeof re=="string"&&(ee.addDefaultProtocol&&re.startsWith("www.")&&re.match(/\./g)?.length>=2&&(re=`http://${re}`),ee.tryConvertEncoding))try{re=he(re)}catch{}let ce=te?new URL(re,te):new URL(re);if(S(ce))return ce}catch{}return null}function L(re,te,ee,ce=!1){return Object.defineProperty(re,te,{value:ee,enumerable:!ce,configurable:!0,writable:!1}),ee}let N=function(){function te(ee,ce){this.constructor===te&&_("Cannot initialize BaseException."),this.message=ee,this.name=ce}return te.prototype=new Error,te.constructor=te,te}();e.BaseException=N;class V extends N{constructor(te,ee){super(te,"PasswordException"),this.code=ee}}e.PasswordException=V;class F extends N{constructor(te,ee){super(te,"UnknownErrorException"),this.details=ee}}e.UnknownErrorException=F;class E extends N{constructor(te){super(te,"InvalidPDFException")}}e.InvalidPDFException=E;class x extends N{constructor(te){super(te,"MissingPDFException")}}e.MissingPDFException=x;class T extends N{constructor(te,ee){super(te,"UnexpectedResponseException"),this.status=ee}}e.UnexpectedResponseException=T;class k extends N{constructor(te){super(te,"FormatError")}}e.FormatError=k;class B extends N{constructor(te){super(te,"AbortException")}}e.AbortException=B;function $(re){(typeof re!="object"||re?.length===void 0)&&_("Invalid argument for bytesToString");let te=re.length,ee=8192;if(te<ee)return String.fromCharCode.apply(null,re);let ce=[];for(let Re=0;Re<te;Re+=ee){let Je=Math.min(Re+ee,te),Ye=re.subarray(Re,Je);ce.push(String.fromCharCode.apply(null,Ye))}return ce.join("")}function q(re){typeof re!="string"&&_("Invalid argument for stringToBytes");let te=re.length,ee=new Uint8Array(te);for(let ce=0;ce<te;++ce)ee[ce]=re.charCodeAt(ce)&255;return ee}function ne(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,re&255)}function Z(re){return Object.keys(re).length}function z(re){let te=Object.create(null);for(let[ee,ce]of re)te[ee]=ce;return te}function K(){let re=new Uint8Array(4);return re[0]=1,new Uint32Array(re.buffer,0,1)[0]===1}function Y(){try{return new Function(""),!0}catch{return!1}}class J{static get isLittleEndian(){return L(this,"isLittleEndian",K())}static get isEvalSupported(){return L(this,"isEvalSupported",Y())}static get isOffscreenCanvasSupported(){return L(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?L(this,"platform",{isWin:!1,isMac:!1}):L(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return L(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}e.FeatureTest=J;let ie=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class se{static makeHexColor(te,ee,ce){return`#${ie[te]}${ie[ee]}${ie[ce]}`}static scaleMinMax(te,ee){let ce;te[0]?(te[0]<0&&(ce=ee[0],ee[0]=ee[1],ee[1]=ce),ee[0]*=te[0],ee[1]*=te[0],te[3]<0&&(ce=ee[2],ee[2]=ee[3],ee[3]=ce),ee[2]*=te[3],ee[3]*=te[3]):(ce=ee[0],ee[0]=ee[2],ee[2]=ce,ce=ee[1],ee[1]=ee[3],ee[3]=ce,te[1]<0&&(ce=ee[2],ee[2]=ee[3],ee[3]=ce),ee[2]*=te[1],ee[3]*=te[1],te[2]<0&&(ce=ee[0],ee[0]=ee[1],ee[1]=ce),ee[0]*=te[2],ee[1]*=te[2]),ee[0]+=te[4],ee[1]+=te[4],ee[2]+=te[5],ee[3]+=te[5]}static transform(te,ee){return[te[0]*ee[0]+te[2]*ee[1],te[1]*ee[0]+te[3]*ee[1],te[0]*ee[2]+te[2]*ee[3],te[1]*ee[2]+te[3]*ee[3],te[0]*ee[4]+te[2]*ee[5]+te[4],te[1]*ee[4]+te[3]*ee[5]+te[5]]}static applyTransform(te,ee){let ce=te[0]*ee[0]+te[1]*ee[2]+ee[4],Re=te[0]*ee[1]+te[1]*ee[3]+ee[5];return[ce,Re]}static applyInverseTransform(te,ee){let ce=ee[0]*ee[3]-ee[1]*ee[2],Re=(te[0]*ee[3]-te[1]*ee[2]+ee[2]*ee[5]-ee[4]*ee[3])/ce,Je=(-te[0]*ee[1]+te[1]*ee[0]+ee[4]*ee[1]-ee[5]*ee[0])/ce;return[Re,Je]}static getAxialAlignedBoundingBox(te,ee){let ce=this.applyTransform(te,ee),Re=this.applyTransform(te.slice(2,4),ee),Je=this.applyTransform([te[0],te[3]],ee),Ye=this.applyTransform([te[2],te[1]],ee);return[Math.min(ce[0],Re[0],Je[0],Ye[0]),Math.min(ce[1],Re[1],Je[1],Ye[1]),Math.max(ce[0],Re[0],Je[0],Ye[0]),Math.max(ce[1],Re[1],Je[1],Ye[1])]}static inverseTransform(te){let ee=te[0]*te[3]-te[1]*te[2];return[te[3]/ee,-te[1]/ee,-te[2]/ee,te[0]/ee,(te[2]*te[5]-te[4]*te[3])/ee,(te[4]*te[1]-te[5]*te[0])/ee]}static singularValueDecompose2dScale(te){let ee=[te[0],te[2],te[1],te[3]],ce=te[0]*ee[0]+te[1]*ee[2],Re=te[0]*ee[1]+te[1]*ee[3],Je=te[2]*ee[0]+te[3]*ee[2],Ye=te[2]*ee[1]+te[3]*ee[3],In=(ce+Ye)/2,Mn=Math.sqrt((ce+Ye)**2-4*(ce*Ye-Je*Re))/2,dn=In+Mn||1,at=In-Mn||1;return[Math.sqrt(dn),Math.sqrt(at)]}static normalizeRect(te){let ee=te.slice(0);return te[0]>te[2]&&(ee[0]=te[2],ee[2]=te[0]),te[1]>te[3]&&(ee[1]=te[3],ee[3]=te[1]),ee}static intersect(te,ee){let ce=Math.max(Math.min(te[0],te[2]),Math.min(ee[0],ee[2])),Re=Math.min(Math.max(te[0],te[2]),Math.max(ee[0],ee[2]));if(ce>Re)return null;let Je=Math.max(Math.min(te[1],te[3]),Math.min(ee[1],ee[3])),Ye=Math.min(Math.max(te[1],te[3]),Math.max(ee[1],ee[3]));return Je>Ye?null:[ce,Je,Re,Ye]}static bezierBoundingBox(te,ee,ce,Re,Je,Ye,In,Mn){let dn=[],at=[[],[]],xn,Tn,ms,rt,vs,ys,Ma,xa;for(let Ta=0;Ta<2;++Ta){if(Ta===0?(Tn=6*te-12*ce+6*Je,xn=-3*te+9*ce-9*Je+3*In,ms=3*ce-3*te):(Tn=6*ee-12*Re+6*Ye,xn=-3*ee+9*Re-9*Ye+3*Mn,ms=3*Re-3*ee),Math.abs(xn)<1e-12){if(Math.abs(Tn)<1e-12)continue;rt=-ms/Tn,0<rt&&rt<1&&dn.push(rt);continue}Ma=Tn*Tn-4*ms*xn,xa=Math.sqrt(Ma),!(Ma<0)&&(vs=(-Tn+xa)/(2*xn),0<vs&&vs<1&&dn.push(vs),ys=(-Tn-xa)/(2*xn),0<ys&&ys<1&&dn.push(ys))}let fr=dn.length,At,pr=fr;for(;fr--;)rt=dn[fr],At=1-rt,at[0][fr]=At*At*At*te+3*At*At*rt*ce+3*At*rt*rt*Je+rt*rt*rt*In,at[1][fr]=At*At*At*ee+3*At*At*rt*Re+3*At*rt*rt*Ye+rt*rt*rt*Mn;return at[0][pr]=te,at[1][pr]=ee,at[0][pr+1]=In,at[1][pr+1]=Mn,at[0].length=at[1].length=pr+2,[Math.min(...at[0]),Math.min(...at[1]),Math.max(...at[0]),Math.max(...at[1])]}}e.Util=se;let le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function de(re){if(re[0]>="\xEF"){let ee;if(re[0]==="\xFE"&&re[1]==="\xFF"?ee="utf-16be":re[0]==="\xFF"&&re[1]==="\xFE"?ee="utf-16le":re[0]==="\xEF"&&re[1]==="\xBB"&&re[2]==="\xBF"&&(ee="utf-8"),ee)try{let ce=new TextDecoder(ee,{fatal:!0}),Re=q(re);return ce.decode(Re)}catch(ce){P(`stringToPDFString: "${ce}".`)}}let te=[];for(let ee=0,ce=re.length;ee<ce;ee++){let Re=le[re.charCodeAt(ee)];te.push(Re?String.fromCharCode(Re):re.charAt(ee))}return te.join("")}function he(re){return decodeURIComponent(escape(re))}function ve(re){return unescape(encodeURIComponent(re))}function Pe(re){return typeof re=="object"&&re?.byteLength!==void 0}function ft(re,te){if(re.length!==te.length)return!1;for(let ee=0,ce=re.length;ee<ce;ee++)if(re[ee]!==te[ee])return!1;return!0}function it(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")}class Nt{#e=!1;constructor(){this.promise=new Promise((te,ee)=>{this.resolve=ce=>{this.#e=!0,te(ce)},this.reject=ce=>{this.#e=!0,ee(ce)}})}get settled(){return this.#e}}e.PromiseCapability=Nt;let nt=null,$t=null;function hr(re){return nt||(nt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$t=new Map([["\uFB05","\u017Ft"]])),re.replaceAll(nt,(te,ee,ce)=>ee?ee.normalize("NFKC"):$t.get(ce))}function kt(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let re=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(re);else for(let te=0;te<32;te++)re[te]=Math.floor(Math.random()*255);return $(re)}let ot="pdfjs_internal_id_";e.AnnotationPrefix=ot},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(t){if(typeof t=="string"||t instanceof URL?t={url:t}:(0,_util.isArrayBuffer)(t)&&(t={data:t}),typeof t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let e=new PDFDocumentLoadingTask,{docId:i}=e,n=t.url?getUrlProp(t.url):null,r=t.data?getDataProp(t.data):null,s=t.httpHeaders||null,o=t.withCredentials===!0,a=t.password??null,h=t.range instanceof PDFDataRangeTransport?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,u=t.worker instanceof PDFWorker?t.worker:null,l=t.verbosity,c=typeof t.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(t.docBaseUrl)?t.docBaseUrl:null,g=typeof t.cMapUrl=="string"?t.cMapUrl:null,f=t.cMapPacked!==!1,p=t.CMapReaderFactory||DefaultCMapReaderFactory,y=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,v=t.StandardFontDataFactory||DefaultStandardFontDataFactory,A=t.stopAtErrors!==!0,m=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,b=t.isEvalSupported!==!1,w=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!_util.isNodeJS,D=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,I=typeof t.disableFontFace=="boolean"?t.disableFontFace:_util.isNodeJS,R=t.fontExtraProperties===!0,O=t.enableXfa===!0,U=t.ownerDocument||globalThis.document,W=t.disableRange===!0,G=t.disableStream===!0,Q=t.disableAutoFetch===!0,X=t.pdfBug===!0,j=h?h.length:t.length??NaN,H=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!_util.isNodeJS&&!I,P=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&g&&y&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(y,document.baseURI),_=t.canvasFactory||new DefaultCanvasFactory({ownerDocument:U}),C=t.filterFactory||new DefaultFilterFactory({docId:i,ownerDocument:U}),S=null;(0,_util.setVerbosityLevel)(l);let M={canvasFactory:_,filterFactory:C};if(P||(M.cMapReaderFactory=new p({baseUrl:g,isCompressed:f}),M.standardFontDataFactory=new v({baseUrl:y})),!u){let V={verbosity:l,port:_worker_options.GlobalWorkerOptions.workerPort};u=V.port?PDFWorker.fromPort(V):new PDFWorker(V),e._worker=u}let L={docId:i,apiVersion:"3.11.174",data:r,password:a,disableAutoFetch:Q,rangeChunkSize:d,length:j,docBaseUrl:c,enableXfa:O,evaluatorOptions:{maxImageSize:m,disableFontFace:I,ignoreErrors:A,isEvalSupported:b,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:D,fontExtraProperties:R,useSystemFonts:H,cMapUrl:P?g:null,standardFontDataUrl:P?y:null}},N={ignoreErrors:A,isEvalSupported:b,disableFontFace:I,fontExtraProperties:R,enableXfa:O,ownerDocument:U,disableAutoFetch:Q,pdfBug:X,styleElement:S};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let V=_fetchDocument(u,L),F=new Promise(function(E){let x;h?x=new _transport_stream.PDFDataTransportStream({length:j,initialData:h.initialData,progressiveDone:h.progressiveDone,contentDispositionFilename:h.contentDispositionFilename,disableRange:W,disableStream:G},h):r||(x=(k=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(k):(0,_display_utils.isValidFetchUrl)(k.url)?new _displayFetch_stream.PDFFetchStream(k):new _displayNetwork.PDFNetworkStream(k))({url:n,length:j,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:W,disableStream:G})),E(x)});return Promise.all([V,F]).then(function([E,x]){if(e.destroyed)throw new Error("Loading aborted");let T=new _message_handler.MessageHandler(i,E,u.port),k=new WorkerTransport(T,e,x,N,M);e._transport=k,T.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(t,e){return oe(this,null,function*(){if(t.destroyed)throw new Error("Worker was destroyed");let i=yield t.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(t.destroyed)throw new Error("Worker was destroyed");return i})}function getUrlProp(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(_util.isNodeJS&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(t){if(_util.isNodeJS&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return(0,_util.stringToBytes)(t);if(typeof t=="object"&&!isNaN(t?.length)||(0,_util.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return oe(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,i,n=!1,r=null){this.length=e,this.initialData=i,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(let n of this._rangeListeners)n(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(let n of this._progressListeners)n(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,i){this._pdfInfo=e,this._transport=i,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(n=>{if(!n)return n;let r=[];for(let s in n)r.push(...n[s]);return r}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(e,i,n,r=!1){this._pageIndex=e,this._pageInfo=i,this._transport=n,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:i,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){let i=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return oe(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:i,intent:n="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:u=null}){this._stats?.time("Overall");let l=this._transport.getRenderingIntent(n,r,u);this.#t=!1,this.#i(),a||(a=this._transport.getOptionalContentConfig());let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c)),c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null);let g=!!(l.renderingIntent&_util.RenderingIntentFlag.PRINT);c.displayReadyCapability||(c.displayReadyCapability=new _util.PromiseCapability,c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l));let f=v=>{c.renderTasks.delete(p),(this._maybeCleanupAfterRender||g)&&(this.#t=!0),this.#n(!g),v?(p.capability.reject(v),this._abortOperatorList({intentState:c,reason:v instanceof Error?v:new Error(v)})):p.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},p=new InternalRenderTask({callback:f,params:{canvasContext:e,viewport:i,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:c.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:d});(c.renderTasks||=new Set).add(p);let y=p.task;return Promise.all([c.displayReadyCapability.promise,a]).then(([v,A])=>{if(this.destroyed){f();return}this._stats?.time("Rendering"),p.initializeGraphics({transparency:v,optionalContentConfig:A}),p.operatorListChanged()}).catch(f),y}getOperatorList({intent:e="display",annotationMode:i=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}let s=this._transport.getRenderingIntent(e,i,n,!0),o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,o.opListReadCapability=new _util.PromiseCapability,(o.renderTasks||=new Set).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));let i=this.streamTextContent(e);return new Promise(function(n,r){function s(){o.read().then(function({value:h,done:d}){if(d){n(a);return}Object.assign(a.styles,h.styles),a.items.push(...h.items),s()},r)}let o=i.getReader(),a={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(let n of i.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let i=this.#n(!1);return e&&i&&(this._stats&&=new _display_utils.StatTimer),i}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:i,operatorList:n}of this._intentStates.values())if(i.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,i){let n=this._intentStates.get(i);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,i){for(let n=0,r=e.length;n<r;n++)i.operatorList.fnArray.push(e.fnArray[n]),i.operatorList.argsArray.push(e.argsArray[n]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(let n of i.renderTasks)n.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:n}){let{map:r,transfers:s}=n,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:r},s).getReader(),h=this._intentStates.get(i);h.streamReader=a;let d=()=>{a.read().then(({value:u,done:l})=>{if(l){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,h),d())},u=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(let l of h.renderTasks)l.operatorListChanged();this.#n(!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(u);else if(h.opListReadCapability)h.opListReadCapability.reject(u);else throw u}})};d()}_abortOperatorList({intentState:e,reason:i,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException){let r=RENDERING_CANCELLED_TIMEOUT;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},r);return}}if(e.streamReader.cancel(new _util.AbortException(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(e,i){let n={data:structuredClone(e,i?{transfer:i}:null)};this.#t.then(()=>{for(let r of this.#e)r.call(this,n)})}addEventListener(e,i){this.#e.add(i)}removeEventListener(e,i){this.#e.delete(i)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof Ra=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}let n=new URL(e,i);return i.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(t){let e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts;constructor({name:t=null,port:e=null,verbosity:i=(0,_util.getVerbosityLevel)()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(PDFWorker.#workerPorts?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t),i=new _message_handler.MessageHandler("main","worker",e),n=()=>{e.removeEventListener("error",r),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||n()};e.addEventListener("error",r),i.on("test",o=>{if(e.removeEventListener("error",r),this.destroyed){n();return}o?(this._messageHandler=i,this._port=e,this._webWorker=e,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),e.terminate())}),i.on("ready",o=>{if(e.removeEventListener("error",r),this.destroyed){n();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let o=new Uint8Array;i.send("test",o,[o.buffer])};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let i=`fake${PDFWorkerUtil.fakeWorkerId++}`,n=new _message_handler.MessageHandler(i+"_worker",i,e);t.setup(n,e);let r=new _message_handler.MessageHandler(i,i+"_worker",e);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#workerPorts?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>oe(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof Ra=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#i=null;constructor(e,i,n,r,s){this.messageHandler=e,this.loadingTask=i,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(e,i=null){let n=this.#e.get(e);if(n)return n;let r=this.messageHandler.sendWithPromise(e,i);return this.#e.set(e,r),r}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,i=_util.AnnotationMode.ENABLE,n=null,r=!1){let s=_util.RenderingIntentFlag.DISPLAY,o=_annotation_storage.SerializableEmpty;switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(i){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(s&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${i}`)}return r&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(n,r)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}(0,_util.assert)(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",n=>{let r=new _util.PromiseCapability,s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&i.onProgress?.(this._lastProgress),s.onProgress=o=>{i.onProgress?.({loaded:o.loaded,total:o.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(n,r)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}(0,_util.assert)(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,i._capability.resolve(new PDFDocumentProxy(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":r=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}i._capability.reject(r)}),e.on("PasswordRequest",n=>{if(this.#i=new _util.PromiseCapability,i.onPassword){let r=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};try{i.onPassword(r,n.code)}catch(s){this.#i.reject(s)}}else this.#i.reject(new _util.PasswordException(n.message,n.code));return this.#i.promise}),e.on("DataLoaded",n=>{i.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(r){case"Font":let o=this._params;if("error"in s){let d=s.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}let a=o.pdfBug&&globalThis.FontInspector?.enabled?(d,u)=>globalThis.FontInspector.fontAdded(d,u):null,h=new _font_loader.FontFaceObject(s,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,inspectFont:a});this.fontLoader.bind(h).catch(d=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}}),e.on("obj",([n,r,s,o])=>{if(this.destroyed)return;let a=this.#t.get(r);if(!a.objs.has(n))switch(s){case"Image":if(a.objs.resolve(n,o),o){let h;if(o.bitmap){let{width:d,height:u}=o;h=d*u*4}else h=o.data?.length||0;h>_util.MAX_IMAGE_SIZE_TO_CACHE&&(a._maybeCleanupAfterRender=!0)}break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}),e.on("DocProgress",n=>{this.destroyed||i.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfers:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let i=e-1,n=this.#n.get(i);if(n)return n;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");let o=new PDFPageProxy(i,s,this,this._params.pdfBug);return this.#t.set(i,o),o});return this.#n.set(i,r),r}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",i=this.#e.get(e);if(i)return i;let n=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return oe(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let i of this.#t.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}})}get loadingParams(){let{disableAutoFetch:e,enableXfa:i}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:i})}}class PDFObjects{#e=Object.create(null);#t(e){return this.#e[e]||={capability:new _util.PromiseCapability,data:null}}get(e,i=null){if(i){let r=this.#t(e);return r.capability.promise.then(()=>i(r.data)),null}let n=this.#e[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,i=null){let n=this.#t(e);n.data=i,n.capability.resolve()}clear(){for(let e in this.#e){let{data:i}=this.#e[e];i?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:i}=this.#e;return e.form||e.canvas&&i?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:i,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:u=!1,pdfBug:l=!1,pageColors:c=null}){this.callback=e,this.params=i,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=l,this.pageColors=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:n,viewport:r,transform:s,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,i=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return oe(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=i(1),r=i(4),s=i(8);let o=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=o;class a{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(u,l){let c=this.#t.get(u);return c===void 0?l:Object.assign(l,c)}getRawValue(u){return this.#t.get(u)}remove(u){if(this.#t.delete(u),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let l of this.#t.values())if(l instanceof r.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(u,l){let c=this.#t.get(u),g=!1;if(c!==void 0)for(let[f,p]of Object.entries(l))c[f]!==p&&(g=!0,c[f]=p);else g=!0,this.#t.set(u,l);g&&this.#n(),l instanceof r.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(l.constructor._type)}has(u){return this.#t.has(u)}getAll(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}setAll(u){for(let[l,c]of Object.entries(u))this.setValue(l,c)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(this.#t.size===0)return o;let u=new Map,l=new s.MurmurHash3_64,c=[],g=Object.create(null),f=!1;for(let[p,y]of this.#t){let v=y instanceof r.AnnotationEditor?y.serialize(!1,g):y;v&&(u.set(p,v),l.update(`${p}:${JSON.stringify(v)}`),f||=!!v.bitmap)}if(f)for(let p of u.values())p.bitmap&&c.push(p.bitmap);return u.size>0?{map:u,hash:l.hexdigest(),transfers:c}:o}}e.AnnotationStorage=a;class h extends a{#e;constructor(u){super();let{map:l,hash:c,transfers:g}=u.serializable,f=structuredClone(l,g?{transfer:g}:null);this.#e={map:f,hash:c,transfers:g}}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=h},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=i(5),r=i(1),s=i(6);class o{#e="";#t=!1;#n=null;#i=null;#a=null;#s=!1;#o=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#r=!1;#u=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#f=!1;#p=o._zIndex++;static _borderLineWidth=-1;static _colorManager=new n.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===o&&(0,r.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;let{rotation:u,rawDims:{pageWidth:l,pageHeight:c,pageX:g,pageY:f}}=this.parent.viewport;this.rotation=u,this.pageRotation=(360+u-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[l,c],this.pageTranslation=[g,f];let[p,y]=this.parentDimensions;this.x=d.x/p,this.y=d.y/y,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,r.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){let u=new a({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});u.annotationElementId=d.annotationElementId,u.deleted=!0,u._uiManager.addToAnnotationStorage(u)}static initialize(d,u=null){if(o._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(c=>[c,d.get(c)])),u?.strings)for(let c of u.strings)o._l10nPromise.set(c,d.get(c));if(o._borderLineWidth!==-1)return;let l=getComputedStyle(document.documentElement);o._borderLineWidth=parseFloat(l.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,u){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,u){(0,r.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#f}set _isDraggable(d){this.#f=d,this.div?.classList.toggle("draggable",d)}center(){let[d,u]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*u/(d*2),this.y+=this.width*d/(u*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*u/(d*2),this.y-=this.width*d/(u*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#r?this.#r=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,u,l,c){let[g,f]=this.parentDimensions;[l,c]=this.screenToPageTranslation(l,c),this.x=(d+l)/g,this.y=(u+c)/f,this.fixAndSetPosition()}#g([d,u],l,c){[l,c]=this.screenToPageTranslation(l,c),this.x+=l/d,this.y+=c/u,this.fixAndSetPosition()}translate(d,u){this.#g(this.parentDimensions,d,u)}translateInPage(d,u){this.#g(this.pageDimensions,d,u),this.div.scrollIntoView({block:"nearest"})}drag(d,u){let[l,c]=this.parentDimensions;if(this.x+=d/l,this.y+=u/c,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:v,y:A}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,A)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:g,y:f}=this,[p,y]=this.#m();g+=p,f+=y,this.div.style.left=`${(100*g).toFixed(2)}%`,this.div.style.top=`${(100*f).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){let[d,u]=this.parentDimensions,{_borderLineWidth:l}=o,c=l/d,g=l/u;switch(this.rotation){case 90:return[-c,g];case 180:return[c,g];case 270:return[c,-g];default:return[-c,-g]}}fixAndSetPosition(){let[d,u]=this.pageDimensions,{x:l,y:c,width:g,height:f}=this;switch(g*=d,f*=u,l*=d,c*=u,this.rotation){case 0:l=Math.max(0,Math.min(d-g,l)),c=Math.max(0,Math.min(u-f,c));break;case 90:l=Math.max(0,Math.min(d-f,l)),c=Math.min(u,Math.max(g,c));break;case 180:l=Math.min(d,Math.max(g,l)),c=Math.min(u,Math.max(f,c));break;case 270:l=Math.min(d,Math.max(f,l)),c=Math.max(0,Math.min(u-g,c));break}this.x=l/=d,this.y=c/=u;let[p,y]=this.#m();l+=p,c+=y;let{style:v}=this.div;v.left=`${(100*l).toFixed(2)}%`,v.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#v(d,u,l){switch(l){case 90:return[u,-d];case 180:return[-d,-u];case 270:return[-u,d];default:return[d,u]}}screenToPageTranslation(d,u){return o.#v(d,u,this.parentRotation)}pageTranslationToScreen(d,u){return o.#v(d,u,360-this.parentRotation)}#h(d){switch(d){case 90:{let[u,l]=this.pageDimensions;return[0,-u/l,l/u,0]}case 180:return[-1,0,0,-1];case 270:{let[u,l]=this.pageDimensions;return[0,u/l,-l/u,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:d,pageDimensions:[u,l]}=this,c=u*d,g=l*d;return r.FeatureTest.isCSSRoundSupported?[Math.round(c),Math.round(g)]:[c,g]}setDims(d,u){let[l,c]=this.parentDimensions;this.div.style.width=`${(100*d/l).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*u/c).toFixed(2)}%`),this.#n?.classList.toggle("small",d<o.SMALL_EDITOR_SIZE||u<o.SMALL_EDITOR_SIZE)}fixDims(){let{style:d}=this.div,{height:u,width:l}=d,c=l.endsWith("%"),g=!this.#s&&u.endsWith("%");if(c&&g)return;let[f,p]=this.parentDimensions;c||(d.width=`${(100*parseFloat(l)/f).toFixed(2)}%`),!this.#s&&!g&&(d.height=`${(100*parseFloat(u)/p).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let u of d){let l=document.createElement("div");this.#o.append(l),l.classList.add("resizer",u),l.addEventListener("pointerdown",this.#A.bind(this,u)),l.addEventListener("contextmenu",s.noContextMenu)}this.div.prepend(this.#o)}#A(d,u){u.preventDefault();let{isMac:l}=r.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&l)return;let c=this.#_.bind(this,d),g=this._isDraggable;this._isDraggable=!1;let f={passive:!0,capture:!0};window.addEventListener("pointermove",c,f);let p=this.x,y=this.y,v=this.width,A=this.height,m=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(u.target).cursor;let w=()=>{this._isDraggable=g,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",c,f),this.parent.div.style.cursor=m,this.div.style.cursor=b;let D=this.x,I=this.y,R=this.width,O=this.height;D===p&&I===y&&R===v&&O===A||this.addCommands({cmd:()=>{this.width=R,this.height=O,this.x=D,this.y=I;let[U,W]=this.parentDimensions;this.setDims(U*R,W*O),this.fixAndSetPosition()},undo:()=>{this.width=v,this.height=A,this.x=p,this.y=y;let[U,W]=this.parentDimensions;this.setDims(U*v,W*A),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",w),window.addEventListener("blur",w)}#_(d,u){let[l,c]=this.parentDimensions,g=this.x,f=this.y,p=this.width,y=this.height,v=o.MIN_SIZE/l,A=o.MIN_SIZE/c,m=F=>Math.round(F*1e4)/1e4,b=this.#h(this.rotation),w=(F,E)=>[b[0]*F+b[2]*E,b[1]*F+b[3]*E],D=this.#h(360-this.rotation),I=(F,E)=>[D[0]*F+D[2]*E,D[1]*F+D[3]*E],R,O,U=!1,W=!1;switch(d){case"topLeft":U=!0,R=(F,E)=>[0,0],O=(F,E)=>[F,E];break;case"topMiddle":R=(F,E)=>[F/2,0],O=(F,E)=>[F/2,E];break;case"topRight":U=!0,R=(F,E)=>[F,0],O=(F,E)=>[0,E];break;case"middleRight":W=!0,R=(F,E)=>[F,E/2],O=(F,E)=>[0,E/2];break;case"bottomRight":U=!0,R=(F,E)=>[F,E],O=(F,E)=>[0,0];break;case"bottomMiddle":R=(F,E)=>[F/2,E],O=(F,E)=>[F/2,0];break;case"bottomLeft":U=!0,R=(F,E)=>[0,E],O=(F,E)=>[F,0];break;case"middleLeft":W=!0,R=(F,E)=>[0,E/2],O=(F,E)=>[F,E/2];break}let G=R(p,y),Q=O(p,y),X=w(...Q),j=m(g+X[0]),H=m(f+X[1]),P=1,_=1,[C,S]=this.screenToPageTranslation(u.movementX,u.movementY);if([C,S]=I(C/l,S/c),U){let F=Math.hypot(p,y);P=_=Math.max(Math.min(Math.hypot(Q[0]-G[0]-C,Q[1]-G[1]-S)/F,1/p,1/y),v/p,A/y)}else W?P=Math.max(v,Math.min(1,Math.abs(Q[0]-G[0]-C)))/p:_=Math.max(A,Math.min(1,Math.abs(Q[1]-G[1]-S)))/y;let M=m(p*P),L=m(y*_);X=w(...O(M,L));let N=j-X[0],V=H-X[1];this.width=M,this.height=L,this.x=N,this.y=V,this.setDims(l*M,c*L),this.fixAndSetPosition()}addAltTextButton(){return oe(this,null,function*(){if(this.#n)return;let d=this.#n=document.createElement("button");d.className="altText";let u=yield o._l10nPromise.get("editor_alt_text_button_label");d.textContent=u,d.setAttribute("aria-label",u),d.tabIndex="0",d.addEventListener("contextmenu",s.noContextMenu),d.addEventListener("pointerdown",l=>l.stopPropagation()),d.addEventListener("click",l=>{l.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",l=>{l.target===d&&l.key==="Enter"&&(l.preventDefault(),this._uiManager.editAltText(this))}),this.#w(),this.div.append(d),o.SMALL_EDITOR_SIZE||(o.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))})}#w(){return oe(this,null,function*(){let d=this.#n;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#i?.remove();return}o._l10nPromise.get("editor_alt_text_edit_button_label").then(l=>{d.setAttribute("aria-label",l)});let u=this.#i;if(!u){this.#i=u=document.createElement("span"),u.className="tooltip",u.setAttribute("role","tooltip");let l=u.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",l);let c=100;d.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},c)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#i?.classList.remove("show")})}d.classList.add("done"),u.innerText=this.#t?yield o._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,u.parentNode||d.append(u)})}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:d,decorative:u}){this.#e===d&&this.#t===u||(this.#e=d,this.#t=u,this.#w())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);let[d,u]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*u/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/u).toFixed(2)}%`);let[l,c]=this.getInitialTranslation();return this.translate(l,c),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){let{isMac:u}=r.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&u){d.preventDefault();return}this.#r=!0,this.#E(d)}#E(d){if(!this._isDraggable)return;let u=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let l,c;u&&(l={passive:!0,capture:!0},c=f=>{let[p,y]=this.screenToPageTranslation(f.movementX,f.movementY);this._uiManager.dragSelectedEditors(p,y)},window.addEventListener("pointermove",c,l));let g=()=>{if(window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),u&&window.removeEventListener("pointermove",c,l),this.#r=!1,!this._uiManager.endDragSession()){let{isMac:f}=r.FeatureTest.platform;d.ctrlKey&&!f||d.shiftKey||d.metaKey&&f?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",g),window.addEventListener("blur",g)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,u,l){d.changeParent(this),this.x=u,this.y=l,this.fixAndSetPosition()}getRect(d,u){let l=this.parentScale,[c,g]=this.pageDimensions,[f,p]=this.pageTranslation,y=d/l,v=u/l,A=this.x*c,m=this.y*g,b=this.width*c,w=this.height*g;switch(this.rotation){case 0:return[A+y+f,g-m-v-w+p,A+y+b+f,g-m-v+p];case 90:return[A+v+f,g-m+y+p,A+v+w+f,g-m+y+b+p];case 180:return[A-y-b+f,g-m+v+p,A-y+f,g-m+v+w+p];case 270:return[A-v-w+f,g-m-y-b+p,A-v+f,g-m-y+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,u){let[l,c,g,f]=d,p=g-l,y=f-c;switch(this.rotation){case 0:return[l,u-f,p,y];case 90:return[l,u-c,y,p];case 180:return[g,u-c,p,y];case 270:return[g,u-f,y,p];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(d=!1,u=null){(0,r.unreachable)("An editor must be serializable")}static deserialize(d,u,l){let c=new this.prototype.constructor({parent:u,id:u.getNextId(),uiManager:l});c.rotation=d.rotation;let[g,f]=c.pageDimensions,[p,y,v,A]=c.getRectInCurrentCoords(d.rect,f);return c.x=p/g,c.y=y/f,c.width=v/g,c.height=A/f,c}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#i=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#o.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,u){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#u}set isEditing(d){this.#u=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,u){this.#s=!0;let l=d/u,{style:c}=this.div;c.aspectRatio=l,c.height="auto"}static get MIN_SIZE(){return 16}}e.AnnotationEditor=o;class a extends o{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=s,e.opacityToHex=o;var n=i(1),r=i(6);function s(g,f,p){for(let y of p)f.addEventListener(y,g[y].bind(g))}function o(g){return Math.round(Math.min(255,Math.max(1,255*g))).toString(16).padStart(2,"0")}class a{#e=0;getId(){return`${n.AnnotationEditorPrefix}${this.#e++}`}}class h{#e=(0,n.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){let f='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',y=new OffscreenCanvas(1,3).getContext("2d"),v=new Image;v.src=f;let A=v.decode().then(()=>(y.drawImage(v,0,0,1,1,0,0,1,3),new Uint32Array(y.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",A)}#i(f,p){return oe(this,null,function*(){this.#n||=new Map;let y=this.#n.get(f);if(y===null)return null;if(y?.bitmap)return y.refCounter+=1,y;try{y||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let v;if(typeof p=="string"){y.url=p;let A=yield fetch(p);if(!A.ok)throw new Error(A.statusText);v=yield A.blob()}else v=y.file=p;if(v.type==="image/svg+xml"){let A=h._isSVGFittingCanvas,m=new FileReader,b=new Image,w=new Promise((D,I)=>{b.onload=()=>{y.bitmap=b,y.isSvg=!0,D()},m.onload=()=>oe(this,null,function*(){let R=y.svgUrl=m.result;b.src=(yield A)?`${R}#svgView(preserveAspectRatio(none))`:R}),b.onerror=m.onerror=I});m.readAsDataURL(v),yield w}else y.bitmap=yield createImageBitmap(v);y.refCounter=1}catch(v){console.error(v),y=null}return this.#n.set(f,y),y&&this.#n.set(y.id,y),y})}getFromFile(f){return oe(this,null,function*(){let{lastModified:p,name:y,size:v,type:A}=f;return this.#i(`${p}_${y}_${v}_${A}`,f)})}getFromUrl(f){return oe(this,null,function*(){return this.#i(f,f)})}getFromId(f){return oe(this,null,function*(){this.#n||=new Map;let p=this.#n.get(f);return p?p.bitmap?(p.refCounter+=1,p):p.file?this.getFromFile(p.file):this.getFromUrl(p.url):null})}getSvgUrl(f){let p=this.#n.get(f);return p?.isSvg?p.svgUrl:null}deleteId(f){this.#n||=new Map;let p=this.#n.get(f);p&&(p.refCounter-=1,p.refCounter===0&&(p.bitmap=null))}isValidId(f){return f.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#n;#i=-1;constructor(f=128){this.#n=f}add({cmd:f,undo:p,mustExec:y,type:v=NaN,overwriteIfSameType:A=!1,keepUndo:m=!1}){if(y&&f(),this.#t)return;let b={cmd:f,undo:p,type:v};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(b);return}if(A&&this.#e[this.#i].type===v){m&&(b.undo=this.#e[this.#i].undo),this.#e[this.#i]=b;return}let w=this.#i+1;w===this.#n?this.#e.splice(0,1):(this.#i=w,w<this.#e.length&&this.#e.splice(w)),this.#e.push(b)}undo(){this.#i!==-1&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=d;class u{constructor(f){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:p}=n.FeatureTest.platform;for(let[y,v,A={}]of f)for(let m of y){let b=m.startsWith("mac+");p&&b?(this.callbacks.set(m.slice(4),{callback:v,options:A}),this.allKeys.add(m.split("+").at(-1))):!p&&!b&&(this.callbacks.set(m,{callback:v,options:A}),this.allKeys.add(m.split("+").at(-1)))}}#e(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);let p=this.buffer.join("+");return this.buffer.length=0,p}exec(f,p){if(!this.allKeys.has(p.key))return;let y=this.callbacks.get(this.#e(p));if(!y)return;let{callback:v,options:{bubbles:A=!1,args:m=[],checker:b=null}}=y;b&&!b(f,p)||(v.bind(f,...m)(),A||(p.stopPropagation(),p.preventDefault()))}}e.KeyboardManager=u;class l{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let f=new Map([["CanvasText",null],["Canvas",null]]);return(0,r.getColorValues)(f),(0,n.shadow)(this,"_colors",f)}convert(f){let p=(0,r.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return p;for(let[y,v]of this._colors)if(v.every((A,m)=>A===p[m]))return l._colorsMapping.get(y);return p}getHexCode(f){let p=this._colors.get(f);return p?n.Util.makeHexColor(...p):f}}e.ColorManager=l;let c=(()=>{class g{#e=null;#t=new Map;#n=new Map;#i=null;#a=null;#s=new d;#o=0;#l=new Set;#c=null;#r=null;#u=new Set;#d=null;#f=new a;#p=!1;#g=!1;#m=null;#v=n.AnnotationEditorType.NONE;#h=new Set;#y=null;#A=this.blur.bind(this);#_=this.focus.bind(this);#w=this.copy.bind(this);#E=this.cut.bind(this);#O=this.paste.bind(this);#R=this.keydown.bind(this);#N=this.onEditingAction.bind(this);#b=this.onPageChanging.bind(this);#I=this.onScaleChanging.bind(this);#M=this.onRotationChanging.bind(this);#x={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#C=[0,0];#D=null;#T=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let p=g.prototype,y=m=>{let{activeElement:b}=document;return b&&m.#T.contains(b)&&m.hasSomethingToControl()},v=this.TRANSLATE_SMALL,A=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new u([[["ctrl+a","mac+meta+a"],p.selectAll],[["ctrl+z","mac+meta+z"],p.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],p.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],p.delete],[["Escape","mac+Escape"],p.unselectAll],[["ArrowLeft","mac+ArrowLeft"],p.translateSelectedEditors,{args:[-v,0],checker:y}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],p.translateSelectedEditors,{args:[-A,0],checker:y}],[["ArrowRight","mac+ArrowRight"],p.translateSelectedEditors,{args:[v,0],checker:y}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],p.translateSelectedEditors,{args:[A,0],checker:y}],[["ArrowUp","mac+ArrowUp"],p.translateSelectedEditors,{args:[0,-v],checker:y}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],p.translateSelectedEditors,{args:[0,-A],checker:y}],[["ArrowDown","mac+ArrowDown"],p.translateSelectedEditors,{args:[0,v],checker:y}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],p.translateSelectedEditors,{args:[0,A],checker:y}]]))}constructor(p,y,v,A,m,b){this.#T=p,this.#F=y,this.#i=v,this._eventBus=A,this._eventBus._on("editingaction",this.#N),this._eventBus._on("pagechanging",this.#b),this._eventBus._on("scalechanging",this.#I),this._eventBus._on("rotationchanging",this.#M),this.#a=m.annotationStorage,this.#d=m.filterFactory,this.#y=b,this.viewParameters={realScale:r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#k(),this.#B(),this._eventBus._off("editingaction",this.#N),this._eventBus._off("pagechanging",this.#b),this._eventBus._off("scalechanging",this.#I),this._eventBus._off("rotationchanging",this.#M);for(let p of this.#n.values())p.destroy();this.#n.clear(),this.#t.clear(),this.#u.clear(),this.#e=null,this.#h.clear(),this.#s.destroy(),this.#i.destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(this.#T).direction)}editAltText(p){this.#i?.editAltText(this,p)}onPageChanging({pageNumber:p}){this.#o=p-1}focusMainContainer(){this.#T.focus()}findParent(p,y){for(let v of this.#n.values()){let{x:A,y:m,width:b,height:w}=v.div.getBoundingClientRect();if(p>=A&&p<=A+b&&y>=m&&y<=m+w)return v}return null}disableUserSelect(p=!1){this.#F.classList.toggle("noUserSelect",p)}addShouldRescale(p){this.#u.add(p)}removeShouldRescale(p){this.#u.delete(p)}onScaleChanging({scale:p}){this.commitOrRemove(),this.viewParameters.realScale=p*r.PixelsPerInch.PDF_TO_CSS_UNITS;for(let y of this.#u)y.onScaleChanging()}onRotationChanging({pagesRotation:p}){this.commitOrRemove(),this.viewParameters.rotation=p}addToAnnotationStorage(p){!p.isEmpty()&&this.#a&&!this.#a.has(p.id)&&this.#a.setValue(p.id,p)}#j(){window.addEventListener("focus",this.#_),window.addEventListener("blur",this.#A)}#B(){window.removeEventListener("focus",this.#_),window.removeEventListener("blur",this.#A)}blur(){if(!this.hasSelection)return;let{activeElement:p}=document;for(let y of this.#h)if(y.div.contains(p)){this.#m=[y,p],y._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;let[p,y]=this.#m;this.#m=null,y.addEventListener("focusin",()=>{p._focusEventsAllowed=!0},{once:!0}),y.focus()}#V(){window.addEventListener("keydown",this.#R,{capture:!0})}#k(){window.removeEventListener("keydown",this.#R,{capture:!0})}#L(){document.addEventListener("copy",this.#w),document.addEventListener("cut",this.#E),document.addEventListener("paste",this.#O)}#P(){document.removeEventListener("copy",this.#w),document.removeEventListener("cut",this.#E),document.removeEventListener("paste",this.#O)}addEditListeners(){this.#V(),this.#L()}removeEditListeners(){this.#k(),this.#P()}copy(p){if(p.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let y=[];for(let v of this.#h){let A=v.serialize(!0);A&&y.push(A)}y.length!==0&&p.clipboardData.setData("application/pdfjs",JSON.stringify(y))}cut(p){this.copy(p),this.delete()}paste(p){p.preventDefault();let{clipboardData:y}=p;for(let m of y.items)for(let b of this.#r)if(b.isHandlingMimeForPasting(m.type)){b.paste(m,this.currentLayer);return}let v=y.getData("application/pdfjs");if(!v)return;try{v=JSON.parse(v)}catch(m){(0,n.warn)(`paste: "${m.message}".`);return}if(!Array.isArray(v))return;this.unselectAll();let A=this.currentLayer;try{let m=[];for(let D of v){let I=A.deserialize(D);if(!I)return;m.push(I)}let b=()=>{for(let D of m)this.#$(D);this.#z(m)},w=()=>{for(let D of m)D.remove()};this.addCommands({cmd:b,undo:w,mustExec:!0})}catch(m){(0,n.warn)(`paste: "${m.message}".`)}}keydown(p){this.getActive()?.shouldGetKeyboardEvents()||g._keyboardManager.exec(this,p)}onEditingAction(p){["undo","redo","delete","selectAll"].includes(p.name)&&this[p.name]()}#S(p){Object.entries(p).some(([v,A])=>this.#x[v]!==A)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#x,p)})}#U(p){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:p})}setEditingState(p){p?(this.#j(),this.#V(),this.#L(),this.#S({isEditing:this.#v!==n.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#B(),this.#k(),this.#P(),this.#S({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(p){if(!this.#r){this.#r=p;for(let y of this.#r)this.#U(y.defaultPropertiesToUpdate)}}getId(){return this.#f.getId()}get currentLayer(){return this.#n.get(this.#o)}getLayer(p){return this.#n.get(p)}get currentPageIndex(){return this.#o}addLayer(p){this.#n.set(p.pageIndex,p),this.#p?p.enable():p.disable()}removeLayer(p){this.#n.delete(p.pageIndex)}updateMode(p,y=null){if(this.#v!==p){if(this.#v=p,p===n.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#W(),this.unselectAll();for(let v of this.#n.values())v.updateMode(p);if(y){for(let v of this.#t.values())if(v.annotationElementId===y){this.setSelected(v),v.enterInEditMode();break}}}}updateToolbar(p){p!==this.#v&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:p})}updateParams(p,y){if(this.#r){if(p===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(p);return}for(let v of this.#h)v.updateParams(p,y);for(let v of this.#r)v.updateDefaultParams(p,y)}}enableWaiting(p=!1){if(this.#g!==p){this.#g=p;for(let y of this.#n.values())p?y.disableClick():y.enableClick(),y.div.classList.toggle("waiting",p)}}#W(){if(!this.#p){this.#p=!0;for(let p of this.#n.values())p.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(let p of this.#n.values())p.disable()}}getEditors(p){let y=[];for(let v of this.#t.values())v.pageIndex===p&&y.push(v);return y}getEditor(p){return this.#t.get(p)}addEditor(p){this.#t.set(p.id,p)}removeEditor(p){this.#t.delete(p.id),this.unselect(p),(!p.annotationElementId||!this.#l.has(p.annotationElementId))&&this.#a?.remove(p.id)}addDeletedAnnotationElement(p){this.#l.add(p.annotationElementId),p.deleted=!0}isDeletedAnnotationElement(p){return this.#l.has(p)}removeDeletedAnnotationElement(p){this.#l.delete(p.annotationElementId),p.deleted=!1}#$(p){let y=this.#n.get(p.pageIndex);y?y.addOrRebuild(p):this.addEditor(p)}setActiveEditor(p){this.#e!==p&&(this.#e=p,p&&this.#U(p.propertiesToUpdate))}toggleSelected(p){if(this.#h.has(p)){this.#h.delete(p),p.unselect(),this.#S({hasSelectedEditor:this.hasSelection});return}this.#h.add(p),p.select(),this.#U(p.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}setSelected(p){for(let y of this.#h)y!==p&&y.unselect();this.#h.clear(),this.#h.add(p),p.select(),this.#U(p.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}isSelected(p){return this.#h.has(p)}unselect(p){p.unselect(),this.#h.delete(p),this.#S({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#h.size!==0}undo(){this.#s.undo(),this.#S({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#s.redo(),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(p){this.#s.add(p),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let p of this.#t.values())return p.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let p=[...this.#h],y=()=>{for(let A of p)A.remove()},v=()=>{for(let A of p)this.#$(A)};this.addCommands({cmd:y,undo:v,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#z(p){this.#h.clear();for(let y of p)y.isEmpty()||(this.#h.add(y),y.select());this.#S({hasSelectedEditor:!0})}selectAll(){for(let p of this.#h)p.commit();this.#z(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let p of this.#h)p.unselect();this.#h.clear(),this.#S({hasSelectedEditor:!1})}}translateSelectedEditors(p,y,v=!1){if(v||this.commitOrRemove(),!this.hasSelection)return;this.#C[0]+=p,this.#C[1]+=y;let[A,m]=this.#C,b=[...this.#h],w=1e3;this.#D&&clearTimeout(this.#D),this.#D=setTimeout(()=>{this.#D=null,this.#C[0]=this.#C[1]=0,this.addCommands({cmd:()=>{for(let D of b)this.#t.has(D.id)&&D.translateInPage(A,m)},undo:()=>{for(let D of b)this.#t.has(D.id)&&D.translateInPage(-A,-m)},mustExec:!1})},w);for(let D of b)D.translateInPage(p,y)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(let p of this.#h)this.#c.set(p,{savedX:p.x,savedY:p.y,savedPageIndex:p.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);let p=this.#c;this.#c=null;let y=!1;for(let[{x:A,y:m,pageIndex:b},w]of p)w.newX=A,w.newY=m,w.newPageIndex=b,y||=A!==w.savedX||m!==w.savedY||b!==w.savedPageIndex;if(!y)return!1;let v=(A,m,b,w)=>{if(this.#t.has(A.id)){let D=this.#n.get(w);D?A._setParentAndPosition(D,m,b):(A.pageIndex=w,A.x=m,A.y=b)}};return this.addCommands({cmd:()=>{for(let[A,{newX:m,newY:b,newPageIndex:w}]of p)v(A,m,b,w)},undo:()=>{for(let[A,{savedX:m,savedY:b,savedPageIndex:w}]of p)v(A,m,b,w)},mustExec:!0}),!0}dragSelectedEditors(p,y){if(this.#c)for(let v of this.#c.keys())v.drag(p,y)}rebuild(p){if(p.parent===null){let y=this.getLayer(p.pageIndex);y?(y.changeParent(p),y.addOrRebuild(p)):(this.addEditor(p),this.addToAnnotationStorage(p),p.rebuild())}else p.parent.addOrRebuild(p)}isActive(p){return this.#e===p}getActive(){return this.#e}getMode(){return this.#v}get imageManager(){return(0,n.shadow)(this,"imageManager",new h)}}return g})();e.AnnotationEditorUIManager=c},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=I,e.getColorValues=G,e.getCurrentTransform=Q,e.getCurrentTransformInverse=X,e.getFilenameFromUrl=v,e.getPdfFilenameFromUrl=A,e.getRGB=W,e.getXfaPageViewport=U,e.isDataScheme=p,e.isPdfFile=y,e.isValidFetchUrl=b,e.loadScript=D,e.noContextMenu=w,e.setLayerDimensions=j;var n=i(7),r=i(1);let s="http://www.w3.org/2000/svg";class o{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=o;class a extends n.BaseFilterFactory{#e;#t;#n;#i;#a;#s;#o;#l;#c;#r;#u=0;constructor({docId:P,ownerDocument:_=globalThis.document}={}){super(),this.#n=P,this.#i=_}get#d(){return this.#e||=new Map}get#f(){if(!this.#t){let P=this.#i.createElement("div"),{style:_}=P;_.visibility="hidden",_.contain="strict",_.width=_.height=0,_.position="absolute",_.top=_.left=0,_.zIndex=-1;let C=this.#i.createElementNS(s,"svg");C.setAttribute("width",0),C.setAttribute("height",0),this.#t=this.#i.createElementNS(s,"defs"),P.append(C),C.append(this.#t),this.#i.body.append(P)}return this.#t}addFilter(P){if(!P)return"none";let _=this.#d.get(P);if(_)return _;let C,S,M,L;if(P.length===1){let E=P[0],x=new Array(256);for(let T=0;T<256;T++)x[T]=E[T]/255;L=C=S=M=x.join(",")}else{let[E,x,T]=P,k=new Array(256),B=new Array(256),$=new Array(256);for(let q=0;q<256;q++)k[q]=E[q]/255,B[q]=x[q]/255,$[q]=T[q]/255;C=k.join(","),S=B.join(","),M=$.join(","),L=`${C}${S}${M}`}if(_=this.#d.get(L),_)return this.#d.set(P,_),_;let N=`g_${this.#n}_transfer_map_${this.#u++}`,V=`url(#${N})`;this.#d.set(P,V),this.#d.set(L,V);let F=this.#g(N);return this.#v(C,S,M,F),V}addHCMFilter(P,_){let C=`${P}-${_}`;if(this.#s===C)return this.#o;if(this.#s=C,this.#o="none",this.#a?.remove(),!P||!_)return this.#o;let S=this.#h(P);P=r.Util.makeHexColor(...S);let M=this.#h(_);if(_=r.Util.makeHexColor(...M),this.#f.style.color="",P==="#000000"&&_==="#ffffff"||P===_)return this.#o;let L=new Array(256);for(let x=0;x<=255;x++){let T=x/255;L[x]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}let N=L.join(","),V=`g_${this.#n}_hcm_filter`,F=this.#l=this.#g(V);this.#v(N,N,N,F),this.#p(F);let E=(x,T)=>{let k=S[x]/255,B=M[x]/255,$=new Array(T+1);for(let q=0;q<=T;q++)$[q]=k+q/T*(B-k);return $.join(",")};return this.#v(E(0,5),E(1,5),E(2,5),F),this.#o=`url(#${V})`,this.#o}addHighlightHCMFilter(P,_,C,S){let M=`${P}-${_}-${C}-${S}`;if(this.#c===M)return this.#r;if(this.#c=M,this.#r="none",this.#l?.remove(),!P||!_)return this.#r;let[L,N]=[P,_].map(this.#h.bind(this)),V=Math.round(.2126*L[0]+.7152*L[1]+.0722*L[2]),F=Math.round(.2126*N[0]+.7152*N[1]+.0722*N[2]),[E,x]=[C,S].map(this.#h.bind(this));F<V&&([V,F,E,x]=[F,V,x,E]),this.#f.style.color="";let T=($,q,ne)=>{let Z=new Array(256),z=(F-V)/ne,K=$/255,Y=(q-$)/(255*ne),J=0;for(let ie=0;ie<=ne;ie++){let se=Math.round(V+ie*z),le=K+ie*Y;for(let de=J;de<=se;de++)Z[de]=le;J=se+1}for(let ie=J;ie<256;ie++)Z[ie]=Z[J-1];return Z.join(",")},k=`g_${this.#n}_hcm_highlight_filter`,B=this.#l=this.#g(k);return this.#p(B),this.#v(T(E[0],x[0],5),T(E[1],x[1],5),T(E[2],x[2],5),B),this.#r=`url(#${k})`,this.#r}destroy(P=!1){P&&(this.#o||this.#r)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#u=0)}#p(P){let _=this.#i.createElementNS(s,"feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),P.append(_)}#g(P){let _=this.#i.createElementNS(s,"filter");return _.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("id",P),this.#f.append(_),_}#m(P,_,C){let S=this.#i.createElementNS(s,_);S.setAttribute("type","discrete"),S.setAttribute("tableValues",C),P.append(S)}#v(P,_,C,S){let M=this.#i.createElementNS(s,"feComponentTransfer");S.append(M),this.#m(M,"feFuncR",P),this.#m(M,"feFuncG",_),this.#m(M,"feFuncB",C)}#h(P){return this.#f.style.color=P,W(getComputedStyle(this.#f).getPropertyValue("color"))}}e.DOMFilterFactory=a;class h extends n.BaseCanvasFactory{constructor({ownerDocument:P=globalThis.document}={}){super(),this._document=P}_createCanvas(P,_){let C=this._document.createElement("canvas");return C.width=P,C.height=_,C}}e.DOMCanvasFactory=h;function d(H,P=!1){return oe(this,null,function*(){if(b(H,document.baseURI)){let _=yield fetch(H);if(!_.ok)throw new Error(_.statusText);return P?new Uint8Array(yield _.arrayBuffer()):(0,r.stringToBytes)(yield _.text())}return new Promise((_,C)=>{let S=new XMLHttpRequest;S.open("GET",H,!0),P&&(S.responseType="arraybuffer"),S.onreadystatechange=()=>{if(S.readyState===XMLHttpRequest.DONE){if(S.status===200||S.status===0){let M;if(P&&S.response?M=new Uint8Array(S.response):!P&&S.responseText&&(M=(0,r.stringToBytes)(S.responseText)),M){_(M);return}}C(new Error(S.statusText))}},S.send(null)})})}class u extends n.BaseCMapReaderFactory{_fetchData(P,_){return d(P,this.isCompressed).then(C=>({cMapData:C,compressionType:_}))}}e.DOMCMapReaderFactory=u;class l extends n.BaseStandardFontDataFactory{_fetchData(P){return d(P,!0)}}e.DOMStandardFontDataFactory=l;class c extends n.BaseSVGFactory{_createSVG(P){return document.createElementNS(s,P)}}e.DOMSVGFactory=c;class g{constructor({viewBox:P,scale:_,rotation:C,offsetX:S=0,offsetY:M=0,dontFlip:L=!1}){this.viewBox=P,this.scale=_,this.rotation=C,this.offsetX=S,this.offsetY=M;let N=(P[2]+P[0])/2,V=(P[3]+P[1])/2,F,E,x,T;switch(C%=360,C<0&&(C+=360),C){case 180:F=-1,E=0,x=0,T=1;break;case 90:F=0,E=1,x=1,T=0;break;case 270:F=0,E=-1,x=-1,T=0;break;case 0:F=1,E=0,x=0,T=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}L&&(x=-x,T=-T);let k,B,$,q;F===0?(k=Math.abs(V-P[1])*_+S,B=Math.abs(N-P[0])*_+M,$=(P[3]-P[1])*_,q=(P[2]-P[0])*_):(k=Math.abs(N-P[0])*_+S,B=Math.abs(V-P[1])*_+M,$=(P[2]-P[0])*_,q=(P[3]-P[1])*_),this.transform=[F*_,E*_,x*_,T*_,k-F*_*N-x*_*V,B-E*_*N-T*_*V],this.width=$,this.height=q}get rawDims(){let{viewBox:P}=this;return(0,r.shadow)(this,"rawDims",{pageWidth:P[2]-P[0],pageHeight:P[3]-P[1],pageX:P[0],pageY:P[1]})}clone({scale:P=this.scale,rotation:_=this.rotation,offsetX:C=this.offsetX,offsetY:S=this.offsetY,dontFlip:M=!1}={}){return new g({viewBox:this.viewBox.slice(),scale:P,rotation:_,offsetX:C,offsetY:S,dontFlip:M})}convertToViewportPoint(P,_){return r.Util.applyTransform([P,_],this.transform)}convertToViewportRectangle(P){let _=r.Util.applyTransform([P[0],P[1]],this.transform),C=r.Util.applyTransform([P[2],P[3]],this.transform);return[_[0],_[1],C[0],C[1]]}convertToPdfPoint(P,_){return r.Util.applyInverseTransform([P,_],this.transform)}}e.PageViewport=g;class f extends r.BaseException{constructor(P,_=0){super(P,"RenderingCancelledException"),this.extraDelay=_}}e.RenderingCancelledException=f;function p(H){let P=H.length,_=0;for(;_<P&&H[_].trim()==="";)_++;return H.substring(_,_+5).toLowerCase()==="data:"}function y(H){return typeof H=="string"&&/\.pdf$/i.test(H)}function v(H,P=!1){return P||([H]=H.split(/[#?]/,1)),H.substring(H.lastIndexOf("/")+1)}function A(H,P="document.pdf"){if(typeof H!="string")return P;if(p(H))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),P;let _=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,C=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,S=_.exec(H),M=C.exec(S[1])||C.exec(S[2])||C.exec(S[3]);if(M&&(M=M[0],M.includes("%")))try{M=C.exec(decodeURIComponent(M))[0]}catch{}return M||P}class m{started=Object.create(null);times=[];time(P){P in this.started&&(0,r.warn)(`Timer is already running for ${P}`),this.started[P]=Date.now()}timeEnd(P){P in this.started||(0,r.warn)(`Timer has not been started for ${P}`),this.times.push({name:P,start:this.started[P],end:Date.now()}),delete this.started[P]}toString(){let P=[],_=0;for(let{name:C}of this.times)_=Math.max(C.length,_);for(let{name:C,start:S,end:M}of this.times)P.push(`${C.padEnd(_)} ${M-S}ms
`);return P.join("")}}e.StatTimer=m;function b(H,P){try{let{protocol:_}=P?new URL(H,P):new URL(H);return _==="http:"||_==="https:"}catch{return!1}}function w(H){H.preventDefault()}function D(H,P=!1){return new Promise((_,C)=>{let S=document.createElement("script");S.src=H,S.onload=function(M){P&&S.remove(),_(M)},S.onerror=function(){C(new Error(`Cannot load script at: ${S.src}`))},(document.head||document.documentElement).append(S)})}function I(H){console.log("Deprecated API usage: "+H)}let R;class O{static toDateObject(P){if(!P||typeof P!="string")return null;R||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let _=R.exec(P);if(!_)return null;let C=parseInt(_[1],10),S=parseInt(_[2],10);S=S>=1&&S<=12?S-1:0;let M=parseInt(_[3],10);M=M>=1&&M<=31?M:1;let L=parseInt(_[4],10);L=L>=0&&L<=23?L:0;let N=parseInt(_[5],10);N=N>=0&&N<=59?N:0;let V=parseInt(_[6],10);V=V>=0&&V<=59?V:0;let F=_[7]||"Z",E=parseInt(_[8],10);E=E>=0&&E<=23?E:0;let x=parseInt(_[9],10)||0;return x=x>=0&&x<=59?x:0,F==="-"?(L+=E,N+=x):F==="+"&&(L-=E,N-=x),new Date(Date.UTC(C,S,M,L,N,V))}}e.PDFDateString=O;function U(H,{scale:P=1,rotation:_=0}){let{width:C,height:S}=H.attributes.style,M=[0,0,parseInt(C),parseInt(S)];return new g({viewBox:M,scale:P,rotation:_})}function W(H){if(H.startsWith("#")){let P=parseInt(H.slice(1),16);return[(P&16711680)>>16,(P&65280)>>8,P&255]}return H.startsWith("rgb(")?H.slice(4,-1).split(",").map(P=>parseInt(P)):H.startsWith("rgba(")?H.slice(5,-1).split(",").map(P=>parseInt(P)).slice(0,3):((0,r.warn)(`Not a valid color format: "${H}"`),[0,0,0])}function G(H){let P=document.createElement("span");P.style.visibility="hidden",document.body.append(P);for(let _ of H.keys()){P.style.color=_;let C=window.getComputedStyle(P).color;H.set(_,W(C))}P.remove()}function Q(H){let{a:P,b:_,c:C,d:S,e:M,f:L}=H.getTransform();return[P,_,C,S,M,L]}function X(H){let{a:P,b:_,c:C,d:S,e:M,f:L}=H.getTransform().invertSelf();return[P,_,C,S,M,L]}function j(H,P,_=!1,C=!0){if(P instanceof g){let{pageWidth:S,pageHeight:M}=P.rawDims,{style:L}=H,N=r.FeatureTest.isCSSRoundSupported,V=`var(--scale-factor) * ${S}px`,F=`var(--scale-factor) * ${M}px`,E=N?`round(${V}, 1px)`:`calc(${V})`,x=N?`round(${F}, 1px)`:`calc(${F})`;!_||P.rotation%180===0?(L.width=E,L.height=x):(L.width=x,L.height=E)}C&&H.setAttribute("data-main-rotation",P.rotation)}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=i(1);class r{constructor(){this.constructor===r&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(u){return"none"}addHCMFilter(u,l){return"none"}addHighlightHCMFilter(u,l,c,g){return"none"}destroy(u=!1){}}e.BaseFilterFactory=r;class s{constructor(){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,l){if(u<=0||l<=0)throw new Error("Invalid canvas size");let c=this._createCanvas(u,l);return{canvas:c,context:c.getContext("2d")}}reset(u,l,c){if(!u.canvas)throw new Error("Canvas is not specified");if(l<=0||c<=0)throw new Error("Invalid canvas size");u.canvas.width=l,u.canvas.height=c}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,l){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=s;class o{constructor({baseUrl:u=null,isCompressed:l=!0}){this.constructor===o&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=l}fetch(l){return oe(this,arguments,function*({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");let c=this.baseUrl+u+(this.isCompressed?".bcmap":""),g=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(c,g).catch(f=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${c}`)})})}_fetchData(u,l){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class a{constructor({baseUrl:u=null}){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}fetch(l){return oe(this,arguments,function*({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");let c=`${this.baseUrl}${u}`;return this._fetchData(c).catch(g=>{throw new Error(`Unable to load font data at: ${c}`)})})}_fetchData(u){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=a;class h{constructor(){this.constructor===h&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,l,c=!1){if(u<=0||l<=0)throw new Error("Invalid SVG dimensions");let g=this._createSVG("svg:svg");return g.setAttribute("version","1.1"),c||(g.setAttribute("width",`${u}px`),g.setAttribute("height",`${l}px`)),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("viewBox",`0 0 ${u} ${l}`),g}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=h},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=i(1);let r=3285377520,s=4294901760,o=65535;class a{constructor(d){this.h1=d?d&4294967295:r,this.h2=d?d&4294967295:r}update(d){let u,l;if(typeof d=="string"){u=new Uint8Array(d.length*2),l=0;for(let I=0,R=d.length;I<R;I++){let O=d.charCodeAt(I);O<=255?u[l++]=O:(u[l++]=O>>>8,u[l++]=O&255)}}else if((0,n.isArrayBuffer)(d))u=d.slice(),l=u.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let c=l>>2,g=l-c*4,f=new Uint32Array(u.buffer,0,c),p=0,y=0,v=this.h1,A=this.h2,m=3432918353,b=461845907,w=m&o,D=b&o;for(let I=0;I<c;I++)I&1?(p=f[I],p=p*m&s|p*w&o,p=p<<15|p>>>17,p=p*b&s|p*D&o,v^=p,v=v<<13|v>>>19,v=v*5+3864292196):(y=f[I],y=y*m&s|y*w&o,y=y<<15|y>>>17,y=y*b&s|y*D&o,A^=y,A=A<<13|A>>>19,A=A*5+3864292196);switch(p=0,g){case 3:p^=u[c*4+2]<<16;case 2:p^=u[c*4+1]<<8;case 1:p^=u[c*4],p=p*m&s|p*w&o,p=p<<15|p>>>17,p=p*b&s|p*D&o,c&1?v^=p:A^=p}this.h1=v,this.h2=A}hexdigest(){let d=this.h1,u=this.h2;return d^=u>>>1,d=d*3981806797&s|d*36045&o,u=u*4283543511&s|((u<<16|d>>>16)*2950163797&s)>>>16,d^=u>>>1,d=d*444984403&s|d*60499&o,u=u*3301882366&s|((u<<16|d>>>16)*3120437893&s)>>>16,d^=u>>>1,(d>>>0).toString(16).padStart(8,"0")+(u>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=i(1);class r{#e=new Set;constructor({ownerDocument:a=globalThis.document,styleElement:h=null}){this._document=a,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(a){this.nativeFontFaces.add(a),this._document.fonts.add(a)}removeNativeFontFace(a){this.nativeFontFaces.delete(a),this._document.fonts.delete(a)}insertRule(a){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let h=this.styleElement.sheet;h.insertRule(a,h.cssRules.length)}clear(){for(let a of this.nativeFontFaces)this._document.fonts.delete(a);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(a){return oe(this,null,function*(){if(!(!a||this.#e.has(a.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:h,src:d,style:u}=a,l=new FontFace(h,d,u);this.addNativeFontFace(l);try{yield l.load(),this.#e.add(h)}catch{(0,n.warn)(`Cannot load system font: ${a.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(a){return oe(this,null,function*(){if(a.attached||a.missingFile&&!a.systemFontInfo)return;if(a.attached=!0,a.systemFontInfo){yield this.loadSystemFont(a.systemFontInfo);return}if(this.isFontLoadingAPISupported){let d=a.createNativeFontFace();if(d){this.addNativeFontFace(d);try{yield d.loaded}catch(u){throw(0,n.warn)(`Failed to load font '${d.family}': '${u}'.`),a.disableFontFace=!0,u}}return}let h=a.createFontFaceRule();if(h){if(this.insertRule(h),this.isSyncFontLoadingSupported)return;yield new Promise(d=>{let u=this._queueLoadingCallback(d);this._prepareFontLoadEvent(a,u)})}})}get isFontLoadingAPISupported(){let a=!!this._document?.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",a)}get isSyncFontLoadingSupported(){let a=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(a=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",a)}_queueLoadingCallback(a){function h(){for((0,n.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;d.length>0&&d[0].done;){let l=d.shift();setTimeout(l.callback,0)}}let{loadingRequests:d}=this,u={done:!1,complete:h,callback:a};return d.push(u),u}get _loadTestFont(){let a=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",a)}_prepareFontLoadEvent(a,h){function d(U,W){return U.charCodeAt(W)<<24|U.charCodeAt(W+1)<<16|U.charCodeAt(W+2)<<8|U.charCodeAt(W+3)&255}function u(U,W,G,Q){let X=U.substring(0,W),j=U.substring(W+G);return X+Q+j}let l,c,g=this._document.createElement("canvas");g.width=1,g.height=1;let f=g.getContext("2d"),p=0;function y(U,W){if(++p>30){(0,n.warn)("Load test font never loaded."),W();return}if(f.font="30px "+U,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(y.bind(null,U,W))}let v=`lt${Date.now()}${this.loadTestFontId++}`,A=this._loadTestFont;A=u(A,976,v.length,v);let b=16,w=1482184792,D=d(A,b);for(l=0,c=v.length-3;l<c;l+=4)D=D-w+d(v,l)|0;l<v.length&&(D=D-w+d(v+"XXX",l)|0),A=u(A,b,4,(0,n.string32)(D));let I=`url(data:font/opentype;base64,${btoa(A)});`,R=`@font-face {font-family:"${v}";src:${I}}`;this.insertRule(R);let O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(let U of[a.loadedName,v]){let W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=U,O.append(W)}this._document.body.append(O),y(v,()=>{O.remove(),h.complete()})}}e.FontLoader=r;class s{constructor(a,{isEvalSupported:h=!0,disableFontFace:d=!1,ignoreErrors:u=!1,inspectFont:l=null}){this.compiledGlyphs=Object.create(null);for(let c in a)this[c]=a[c];this.isEvalSupported=h!==!1,this.disableFontFace=d===!0,this.ignoreErrors=u===!0,this._inspectFont=l}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let a;if(!this.cssFontInfo)a=new FontFace(this.loadedName,this.data,{});else{let h={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(h.style=`oblique ${this.cssFontInfo.italicAngle}deg`),a=new FontFace(this.cssFontInfo.fontFamily,this.data,h)}return this._inspectFont?.(this),a}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let a=(0,n.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(a)});`,d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${h}}`;else{let u=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(u+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${u}src:${h}}`}return this._inspectFont?.(this,h),d}getPathGenerator(a,h){if(this.compiledGlyphs[h]!==void 0)return this.compiledGlyphs[h];let d;try{d=a.get(this.loadedName+"_path_"+h)}catch(u){if(!this.ignoreErrors)throw u;return(0,n.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[h]=function(l,c){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){let u=[];for(let l of d){let c=l.args!==void 0?l.args.join(","):"";u.push("c.",l.cmd,"(",c,`);
`)}return this.compiledGlyphs[h]=new Function("c","size",u.join(""))}return this.compiledGlyphs[h]=function(u,l){for(let c of d)c.cmd==="scale"&&(c.args=[l,-l]),u[c.cmd].apply(u,c.args)}}}e.FontFaceObject=s},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=i(7),r=i(1);let s=function(u){return new Promise((l,c)=>{ba().readFile(u,(f,p)=>{if(f||!p){c(new Error(f));return}l(new Uint8Array(p))})})};class o extends n.BaseFilterFactory{}e.NodeFilterFactory=o;class a extends n.BaseCanvasFactory{_createCanvas(l,c){return em().createCanvas(l,c)}}e.NodeCanvasFactory=a;class h extends n.BaseCMapReaderFactory{_fetchData(l,c){return s(l).then(g=>({cMapData:g,compressionType:c}))}}e.NodeCMapReaderFactory=h;class d extends n.BaseStandardFontDataFactory{_fetchData(l){return s(l)}}e.NodeStandardFontDataFactory=d},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=i(1),r=i(6),s=i(12),o=i(13);let a=16,h=100,d=4096,u=15,l=10,c=1e3,g=16;function f(_,C){if(_._removeMirroring)throw new Error("Context is already forwarding operations.");_.__originalSave=_.save,_.__originalRestore=_.restore,_.__originalRotate=_.rotate,_.__originalScale=_.scale,_.__originalTranslate=_.translate,_.__originalTransform=_.transform,_.__originalSetTransform=_.setTransform,_.__originalResetTransform=_.resetTransform,_.__originalClip=_.clip,_.__originalMoveTo=_.moveTo,_.__originalLineTo=_.lineTo,_.__originalBezierCurveTo=_.bezierCurveTo,_.__originalRect=_.rect,_.__originalClosePath=_.closePath,_.__originalBeginPath=_.beginPath,_._removeMirroring=()=>{_.save=_.__originalSave,_.restore=_.__originalRestore,_.rotate=_.__originalRotate,_.scale=_.__originalScale,_.translate=_.__originalTranslate,_.transform=_.__originalTransform,_.setTransform=_.__originalSetTransform,_.resetTransform=_.__originalResetTransform,_.clip=_.__originalClip,_.moveTo=_.__originalMoveTo,_.lineTo=_.__originalLineTo,_.bezierCurveTo=_.__originalBezierCurveTo,_.rect=_.__originalRect,_.closePath=_.__originalClosePath,_.beginPath=_.__originalBeginPath,delete _._removeMirroring},_.save=function(){C.save(),this.__originalSave()},_.restore=function(){C.restore(),this.__originalRestore()},_.translate=function(M,L){C.translate(M,L),this.__originalTranslate(M,L)},_.scale=function(M,L){C.scale(M,L),this.__originalScale(M,L)},_.transform=function(M,L,N,V,F,E){C.transform(M,L,N,V,F,E),this.__originalTransform(M,L,N,V,F,E)},_.setTransform=function(M,L,N,V,F,E){C.setTransform(M,L,N,V,F,E),this.__originalSetTransform(M,L,N,V,F,E)},_.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},_.rotate=function(M){C.rotate(M),this.__originalRotate(M)},_.clip=function(M){C.clip(M),this.__originalClip(M)},_.moveTo=function(S,M){C.moveTo(S,M),this.__originalMoveTo(S,M)},_.lineTo=function(S,M){C.lineTo(S,M),this.__originalLineTo(S,M)},_.bezierCurveTo=function(S,M,L,N,V,F){C.bezierCurveTo(S,M,L,N,V,F),this.__originalBezierCurveTo(S,M,L,N,V,F)},_.rect=function(S,M,L,N){C.rect(S,M,L,N),this.__originalRect(S,M,L,N)},_.closePath=function(){C.closePath(),this.__originalClosePath()},_.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}class p{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,S,M){let L;return this.cache[C]!==void 0?(L=this.cache[C],this.canvasFactory.reset(L,S,M)):(L=this.canvasFactory.create(S,M),this.cache[C]=L),L}delete(C){delete this.cache[C]}clear(){for(let C in this.cache){let S=this.cache[C];this.canvasFactory.destroy(S),delete this.cache[C]}}}function y(_,C,S,M,L,N,V,F,E,x){let[T,k,B,$,q,ne]=(0,r.getCurrentTransform)(_);if(k===0&&B===0){let K=V*T+q,Y=Math.round(K),J=F*$+ne,ie=Math.round(J),se=(V+E)*T+q,le=Math.abs(Math.round(se)-Y)||1,de=(F+x)*$+ne,he=Math.abs(Math.round(de)-ie)||1;return _.setTransform(Math.sign(T),0,0,Math.sign($),Y,ie),_.drawImage(C,S,M,L,N,0,0,le,he),_.setTransform(T,k,B,$,q,ne),[le,he]}if(T===0&&$===0){let K=F*B+q,Y=Math.round(K),J=V*k+ne,ie=Math.round(J),se=(F+x)*B+q,le=Math.abs(Math.round(se)-Y)||1,de=(V+E)*k+ne,he=Math.abs(Math.round(de)-ie)||1;return _.setTransform(0,Math.sign(k),Math.sign(B),0,Y,ie),_.drawImage(C,S,M,L,N,0,0,he,le),_.setTransform(T,k,B,$,q,ne),[he,le]}_.drawImage(C,S,M,L,N,V,F,E,x);let Z=Math.hypot(T,k),z=Math.hypot(B,$);return[Z*E,z*x]}function v(_){let{width:C,height:S}=_;if(C>c||S>c)return null;let M=1e3,L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=C+1,V=new Uint8Array(N*(S+1)),F,E,x,T=C+7&-8,k=new Uint8Array(T*S),B=0;for(let z of _.data){let K=128;for(;K>0;)k[B++]=z&K?0:255,K>>=1}let $=0;for(B=0,k[B]!==0&&(V[0]=1,++$),E=1;E<C;E++)k[B]!==k[B+1]&&(V[E]=k[B]?2:1,++$),B++;for(k[B]!==0&&(V[E]=2,++$),F=1;F<S;F++){B=F*T,x=F*N,k[B-T]!==k[B]&&(V[x]=k[B]?1:8,++$);let z=(k[B]?4:0)+(k[B-T]?8:0);for(E=1;E<C;E++)z=(z>>2)+(k[B+1]?4:0)+(k[B-T+1]?8:0),L[z]&&(V[x+E]=L[z],++$),B++;if(k[B-T]!==k[B]&&(V[x+E]=k[B]?2:4,++$),$>M)return null}for(B=T*(S-1),x=F*N,k[B]!==0&&(V[x]=8,++$),E=1;E<C;E++)k[B]!==k[B+1]&&(V[x+E]=k[B]?4:8,++$),B++;if(k[B]!==0&&(V[x+E]=4,++$),$>M)return null;let q=new Int32Array([0,N,-1,0,-N,0,0,0,1]),ne=new Path2D;for(F=0;$&&F<=S;F++){let z=F*N,K=z+C;for(;z<K&&!V[z];)z++;if(z===K)continue;ne.moveTo(z%N,F);let Y=z,J=V[z];do{let ie=q[J];do z+=ie;while(!V[z]);let se=V[z];se!==5&&se!==10?(J=se,V[z]=0):(J=se&51*J>>4,V[z]&=J>>2|J<<2),ne.lineTo(z%N,z/N|0),V[z]||--$}while(Y!==z);--F}return k=null,V=null,function(z){z.save(),z.scale(1/C,-1/S),z.translate(0,-S),z.fill(ne),z.beginPath(),z.restore()}}class A{constructor(C,S){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,C,S])}clone(){let C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,S){this.x=C,this.y=S}updatePathMinMax(C,S,M){[S,M]=n.Util.applyTransform([S,M],C),this.minX=Math.min(this.minX,S),this.minY=Math.min(this.minY,M),this.maxX=Math.max(this.maxX,S),this.maxY=Math.max(this.maxY,M)}updateRectMinMax(C,S){let M=n.Util.applyTransform(S,C),L=n.Util.applyTransform(S.slice(2),C);this.minX=Math.min(this.minX,M[0],L[0]),this.minY=Math.min(this.minY,M[1],L[1]),this.maxX=Math.max(this.maxX,M[0],L[0]),this.maxY=Math.max(this.maxY,M[1],L[1])}updateScalingPathMinMax(C,S){n.Util.scaleMinMax(C,S),this.minX=Math.min(this.minX,S[0]),this.maxX=Math.max(this.maxX,S[1]),this.minY=Math.min(this.minY,S[2]),this.maxY=Math.max(this.maxY,S[3])}updateCurvePathMinMax(C,S,M,L,N,V,F,E,x,T){let k=n.Util.bezierBoundingBox(S,M,L,N,V,F,E,x);if(T){T[0]=Math.min(T[0],k[0],k[2]),T[1]=Math.max(T[1],k[0],k[2]),T[2]=Math.min(T[2],k[1],k[3]),T[3]=Math.max(T[3],k[1],k[3]);return}this.updateRectMinMax(C,k)}getPathBoundingBox(C=s.PathType.FILL,S=null){let M=[this.minX,this.minY,this.maxX,this.maxY];if(C===s.PathType.STROKE){S||(0,n.unreachable)("Stroke bounding box must include transform.");let L=n.Util.singularValueDecompose2dScale(S),N=L[0]*this.lineWidth/2,V=L[1]*this.lineWidth/2;M[0]-=N,M[1]-=V,M[2]+=N,M[3]+=V}return M}updateClipFromPath(){let C=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(C=s.PathType.FILL,S=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(C,S))}}function m(_,C){if(typeof ImageData<"u"&&C instanceof ImageData){_.putImageData(C,0,0);return}let S=C.height,M=C.width,L=S%g,N=(S-L)/g,V=L===0?N:N+1,F=_.createImageData(M,g),E=0,x,T=C.data,k=F.data,B,$,q,ne;if(C.kind===n.ImageKind.GRAYSCALE_1BPP){let Z=T.byteLength,z=new Uint32Array(k.buffer,0,k.byteLength>>2),K=z.length,Y=M+7>>3,J=4294967295,ie=n.FeatureTest.isLittleEndian?4278190080:255;for(B=0;B<V;B++){for(q=B<N?g:L,x=0,$=0;$<q;$++){let se=Z-E,le=0,de=se>Y?M:se*8-7,he=de&-8,ve=0,Pe=0;for(;le<he;le+=8)Pe=T[E++],z[x++]=Pe&128?J:ie,z[x++]=Pe&64?J:ie,z[x++]=Pe&32?J:ie,z[x++]=Pe&16?J:ie,z[x++]=Pe&8?J:ie,z[x++]=Pe&4?J:ie,z[x++]=Pe&2?J:ie,z[x++]=Pe&1?J:ie;for(;le<de;le++)ve===0&&(Pe=T[E++],ve=128),z[x++]=Pe&ve?J:ie,ve>>=1}for(;x<K;)z[x++]=0;_.putImageData(F,0,B*g)}}else if(C.kind===n.ImageKind.RGBA_32BPP){for($=0,ne=M*g*4,B=0;B<N;B++)k.set(T.subarray(E,E+ne)),E+=ne,_.putImageData(F,0,$),$+=g;B<V&&(ne=M*L*4,k.set(T.subarray(E,E+ne)),_.putImageData(F,0,$))}else if(C.kind===n.ImageKind.RGB_24BPP)for(q=g,ne=M*q,B=0;B<V;B++){for(B>=N&&(q=L,ne=M*q),x=0,$=ne;$--;)k[x++]=T[E++],k[x++]=T[E++],k[x++]=T[E++],k[x++]=255;_.putImageData(F,0,B*g)}else throw new Error(`bad image kind: ${C.kind}`)}function b(_,C){if(C.bitmap){_.drawImage(C.bitmap,0,0);return}let S=C.height,M=C.width,L=S%g,N=(S-L)/g,V=L===0?N:N+1,F=_.createImageData(M,g),E=0,x=C.data,T=F.data;for(let k=0;k<V;k++){let B=k<N?g:L;({srcPos:E}=(0,o.convertBlackAndWhiteToRGBA)({src:x,srcPos:E,dest:T,width:M,height:B,nonBlackColor:0})),_.putImageData(F,0,k*g)}}function w(_,C){let S=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let M of S)_[M]!==void 0&&(C[M]=_[M]);_.setLineDash!==void 0&&(C.setLineDash(_.getLineDash()),C.lineDashOffset=_.lineDashOffset)}function D(_){if(_.strokeStyle=_.fillStyle="#000000",_.fillRule="nonzero",_.globalAlpha=1,_.lineWidth=1,_.lineCap="butt",_.lineJoin="miter",_.miterLimit=10,_.globalCompositeOperation="source-over",_.font="10px sans-serif",_.setLineDash!==void 0&&(_.setLineDash([]),_.lineDashOffset=0),!n.isNodeJS){let{filter:C}=_;C!=="none"&&C!==""&&(_.filter="none")}}function I(_,C,S,M){let L=_.length;for(let N=3;N<L;N+=4){let V=_[N];if(V===0)_[N-3]=C,_[N-2]=S,_[N-1]=M;else if(V<255){let F=255-V;_[N-3]=_[N-3]*V+C*F>>8,_[N-2]=_[N-2]*V+S*F>>8,_[N-1]=_[N-1]*V+M*F>>8}}}function R(_,C,S){let M=_.length,L=1/255;for(let N=3;N<M;N+=4){let V=S?S[_[N]]:_[N];C[N]=C[N]*V*L|0}}function O(_,C,S){let M=_.length;for(let L=3;L<M;L+=4){let N=_[L-3]*77+_[L-2]*152+_[L-1]*28;C[L]=S?C[L]*S[N>>8]>>8:C[L]*N>>16}}function U(_,C,S,M,L,N,V,F,E,x,T){let k=!!N,B=k?N[0]:0,$=k?N[1]:0,q=k?N[2]:0,ne=L==="Luminosity"?O:R,z=Math.min(M,Math.ceil(1048576/S));for(let K=0;K<M;K+=z){let Y=Math.min(z,M-K),J=_.getImageData(F-x,K+(E-T),S,Y),ie=C.getImageData(F,K+E,S,Y);k&&I(J.data,B,$,q),ne(J.data,ie.data,V),C.putImageData(ie,F,K+E)}}function W(_,C,S,M){let L=M[0],N=M[1],V=M[2]-L,F=M[3]-N;V===0||F===0||(U(C.context,S,V,F,C.subtype,C.backdrop,C.transferMap,L,N,C.offsetX,C.offsetY),_.save(),_.globalAlpha=1,_.globalCompositeOperation="source-over",_.setTransform(1,0,0,1,0,0),_.drawImage(S.canvas,0,0),_.restore())}function G(_,C){let S=n.Util.singularValueDecompose2dScale(_);S[0]=Math.fround(S[0]),S[1]=Math.fround(S[1]);let M=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return C!==void 0?C:S[0]<=M||S[1]<=M}let Q=["butt","round","square"],X=["miter","round","bevel"],j={},H={};class P{constructor(C,S,M,L,N,{optionalContentConfig:V,markedContentStack:F=null},E,x){this.ctx=C,this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=S,this.objs=M,this.canvasFactory=L,this.filterFactory=N,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=F||[],this.optionalContentConfig=V,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=E,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=x,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C,S=null){return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):S}beginDrawing({transform:C,viewport:S,transparency:M=!1,background:L=null}){let N=this.ctx.canvas.width,V=this.ctx.canvas.height,F=this.ctx.fillStyle;if(this.ctx.fillStyle=L||"#ffffff",this.ctx.fillRect(0,0,N,V),this.ctx.fillStyle=F,M){let E=this.cachedCanvases.getCanvas("transparent",N,V);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),D(this.ctx),C&&(this.ctx.transform(...C),this.outputScaleX=C[0],this.outputScaleY=C[0]),this.ctx.transform(...S.transform),this.viewportScale=S.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx)}executeOperatorList(C,S,M,L){let N=C.argsArray,V=C.fnArray,F=S||0,E=N.length;if(E===F)return F;let x=E-F>l&&typeof M=="function",T=x?Date.now()+u:0,k=0,B=this.commonObjs,$=this.objs,q;for(;;){if(L!==void 0&&F===L.nextBreakPoint)return L.breakIt(F,M),F;if(q=V[F],q!==n.OPS.dependency)this[q].apply(this,N[F]);else for(let ne of N[F]){let Z=ne.startsWith("g_")?B:$;if(!Z.has(ne))return Z.get(ne,M),F}if(F++,F===E)return F;if(x&&++k>l){if(Date.now()>T)return M(),F;k=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let C of this._cachedBitmapsMap.values()){for(let S of C.values())typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement&&(S.width=S.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let C=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(C!=="none"){let S=this.ctx.filter;this.ctx.filter=C,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=S}}}_scaleImage(C,S){let M=C.width,L=C.height,N=Math.max(Math.hypot(S[0],S[1]),1),V=Math.max(Math.hypot(S[2],S[3]),1),F=M,E=L,x="prescale1",T,k;for(;N>2&&F>1||V>2&&E>1;){let B=F,$=E;N>2&&F>1&&(B=F>=16384?Math.floor(F/2)-1||1:Math.ceil(F/2),N/=F/B),V>2&&E>1&&($=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E)/2,V/=E/$),T=this.cachedCanvases.getCanvas(x,B,$),k=T.context,k.clearRect(0,0,B,$),k.drawImage(C,0,0,F,E,0,0,B,$),C=T.canvas,F=B,E=$,x=x==="prescale1"?"prescale2":"prescale1"}return{img:C,paintWidth:F,paintHeight:E}}_createMaskCanvas(C){let S=this.ctx,{width:M,height:L}=C,N=this.current.fillColor,V=this.current.patternFill,F=(0,r.getCurrentTransform)(S),E,x,T,k;if((C.bitmap||C.data)&&C.count>1){let le=C.bitmap||C.data.buffer;x=JSON.stringify(V?F:[F.slice(0,4),N]),E=this._cachedBitmapsMap.get(le),E||(E=new Map,this._cachedBitmapsMap.set(le,E));let de=E.get(x);if(de&&!V){let he=Math.round(Math.min(F[0],F[2])+F[4]),ve=Math.round(Math.min(F[1],F[3])+F[5]);return{canvas:de,offsetX:he,offsetY:ve}}T=de}T||(k=this.cachedCanvases.getCanvas("maskCanvas",M,L),b(k.context,C));let B=n.Util.transform(F,[1/M,0,0,-1/L,0,0]);B=n.Util.transform(B,[1,0,0,1,0,-L]);let $=n.Util.applyTransform([0,0],B),q=n.Util.applyTransform([M,L],B),ne=n.Util.normalizeRect([$[0],$[1],q[0],q[1]]),Z=Math.round(ne[2]-ne[0])||1,z=Math.round(ne[3]-ne[1])||1,K=this.cachedCanvases.getCanvas("fillCanvas",Z,z),Y=K.context,J=Math.min($[0],q[0]),ie=Math.min($[1],q[1]);Y.translate(-J,-ie),Y.transform(...B),T||(T=this._scaleImage(k.canvas,(0,r.getCurrentTransformInverse)(Y)),T=T.img,E&&V&&E.set(x,T)),Y.imageSmoothingEnabled=G((0,r.getCurrentTransform)(Y),C.interpolate),y(Y,T,0,0,T.width,T.height,0,0,M,L),Y.globalCompositeOperation="source-in";let se=n.Util.transform((0,r.getCurrentTransformInverse)(Y),[1,0,0,1,-J,-ie]);return Y.fillStyle=V?N.getPattern(S,this,se,s.PathType.FILL):N,Y.fillRect(0,0,M,L),E&&!V&&(this.cachedCanvases.delete("fillCanvas"),E.set(x,K.canvas)),{canvas:K.canvas,offsetX:Math.round(J),offsetY:Math.round(ie)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=Q[C]}setLineJoin(C){this.ctx.lineJoin=X[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,S){let M=this.ctx;M.setLineDash!==void 0&&(M.setLineDash(C),M.lineDashOffset=S)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(let[S,M]of C)switch(S){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=M;break;case"ca":this.current.fillAlpha=M,this.ctx.globalAlpha=M;break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(M);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let C=this.ctx.canvas.width,S=this.ctx.canvas.height,M="smaskGroupAt"+this.groupLevel,L=this.cachedCanvases.getCanvas(M,C,S);this.suspendedCtx=this.ctx,this.ctx=L.context;let N=this.ctx;N.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,N),f(N,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){if(!this.current.activeSMask)return;C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let S=this.current.activeSMask,M=this.suspendedCtx;W(M,S,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(C,S,M,L,N,V){this.ctx.transform(C,S,M,L,N,V),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(C,S,M){let L=this.ctx,N=this.current,V=N.x,F=N.y,E,x,T=(0,r.getCurrentTransform)(L),k=T[0]===0&&T[3]===0||T[1]===0&&T[2]===0,B=k?M.slice(0):null;for(let $=0,q=0,ne=C.length;$<ne;$++)switch(C[$]|0){case n.OPS.rectangle:V=S[q++],F=S[q++];let Z=S[q++],z=S[q++],K=V+Z,Y=F+z;L.moveTo(V,F),Z===0||z===0?L.lineTo(K,Y):(L.lineTo(K,F),L.lineTo(K,Y),L.lineTo(V,Y)),k||N.updateRectMinMax(T,[V,F,K,Y]),L.closePath();break;case n.OPS.moveTo:V=S[q++],F=S[q++],L.moveTo(V,F),k||N.updatePathMinMax(T,V,F);break;case n.OPS.lineTo:V=S[q++],F=S[q++],L.lineTo(V,F),k||N.updatePathMinMax(T,V,F);break;case n.OPS.curveTo:E=V,x=F,V=S[q+4],F=S[q+5],L.bezierCurveTo(S[q],S[q+1],S[q+2],S[q+3],V,F),N.updateCurvePathMinMax(T,E,x,S[q],S[q+1],S[q+2],S[q+3],V,F,B),q+=6;break;case n.OPS.curveTo2:E=V,x=F,L.bezierCurveTo(V,F,S[q],S[q+1],S[q+2],S[q+3]),N.updateCurvePathMinMax(T,E,x,V,F,S[q],S[q+1],S[q+2],S[q+3],B),V=S[q+2],F=S[q+3],q+=4;break;case n.OPS.curveTo3:E=V,x=F,V=S[q+2],F=S[q+3],L.bezierCurveTo(S[q],S[q+1],V,F,V,F),N.updateCurvePathMinMax(T,E,x,S[q],S[q+1],V,F,V,F,B),q+=4;break;case n.OPS.closePath:L.closePath();break}k&&N.updateScalingPathMinMax(T,B),N.setCurrentPoint(V,F)}closePath(){this.ctx.closePath()}stroke(C=!0){let S=this.ctx,M=this.current.strokeColor;S.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof M=="object"&&M?.getPattern?(S.save(),S.strokeStyle=M.getPattern(S,this,(0,r.getCurrentTransformInverse)(S),s.PathType.STROKE),this.rescaleAndStroke(!1),S.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),S.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C=!0){let S=this.ctx,M=this.current.fillColor,L=this.current.patternFill,N=!1;L&&(S.save(),S.fillStyle=M.getPattern(S,this,(0,r.getCurrentTransformInverse)(S),s.PathType.FILL),N=!0);let V=this.current.getClippedPathBoundingBox();this.contentVisible&&V!==null&&(this.pendingEOFill?(S.fill("evenodd"),this.pendingEOFill=!1):S.fill()),N&&S.restore(),C&&this.consumePath(V)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=j}eoClip(){this.pendingClip=H}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let C=this.pendingTextPaths,S=this.ctx;if(C===void 0){S.beginPath();return}S.save(),S.beginPath();for(let M of C)S.setTransform(...M.transform),S.translate(M.x,M.y),M.addToPath(S,M.fontSize);S.restore(),S.clip(),S.beginPath(),delete this.pendingTextPaths}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,S){let M=this.commonObjs.get(C),L=this.current;if(!M)throw new Error(`Can't find font for ${C}`);if(L.fontMatrix=M.fontMatrix||n.FONT_IDENTITY_MATRIX,(L.fontMatrix[0]===0||L.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+C),S<0?(S=-S,L.fontDirection=-1):L.fontDirection=1,this.current.font=M,this.current.fontSize=S,M.isType3Font)return;let N=M.loadedName||"sans-serif",V=M.systemFontInfo?.css||`"${N}", ${M.fallbackName}`,F="normal";M.black?F="900":M.bold&&(F="bold");let E=M.italic?"italic":"normal",x=S;S<a?x=a:S>h&&(x=h),this.current.fontSizeScale=S/x,this.ctx.font=`${E} ${F} ${x}px ${V}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,S){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=S}setLeadingMoveText(C,S){this.setLeading(-S),this.moveText(C,S)}setTextMatrix(C,S,M,L,N,V){this.current.textMatrix=[C,S,M,L,N,V],this.current.textMatrixScale=Math.hypot(C,S),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,S,M,L){let N=this.ctx,V=this.current,F=V.font,E=V.textRenderingMode,x=V.fontSize/V.fontSizeScale,T=E&n.TextRenderingMode.FILL_STROKE_MASK,k=!!(E&n.TextRenderingMode.ADD_TO_PATH_FLAG),B=V.patternFill&&!F.missingFile,$;(F.disableFontFace||k||B)&&($=F.getPathGenerator(this.commonObjs,C)),F.disableFontFace||B?(N.save(),N.translate(S,M),N.beginPath(),$(N,x),L&&N.setTransform(...L),(T===n.TextRenderingMode.FILL||T===n.TextRenderingMode.FILL_STROKE)&&N.fill(),(T===n.TextRenderingMode.STROKE||T===n.TextRenderingMode.FILL_STROKE)&&N.stroke(),N.restore()):((T===n.TextRenderingMode.FILL||T===n.TextRenderingMode.FILL_STROKE)&&N.fillText(C,S,M),(T===n.TextRenderingMode.STROKE||T===n.TextRenderingMode.FILL_STROKE)&&N.strokeText(C,S,M)),k&&(this.pendingTextPaths||=[]).push({transform:(0,r.getCurrentTransform)(N),x:S,y:M,fontSize:x,addToPath:$})}get isFontSubpixelAAEnabled(){let{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);let S=C.getImageData(0,0,10,10).data,M=!1;for(let L=3;L<S.length;L+=4)if(S[L]>0&&S[L]<255){M=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",M)}showText(C){let S=this.current,M=S.font;if(M.isType3Font)return this.showType3Text(C);let L=S.fontSize;if(L===0)return;let N=this.ctx,V=S.fontSizeScale,F=S.charSpacing,E=S.wordSpacing,x=S.fontDirection,T=S.textHScale*x,k=C.length,B=M.vertical,$=B?1:-1,q=M.defaultVMetrics,ne=L*S.fontMatrix[0],Z=S.textRenderingMode===n.TextRenderingMode.FILL&&!M.disableFontFace&&!S.patternFill;N.save(),N.transform(...S.textMatrix),N.translate(S.x,S.y+S.textRise),x>0?N.scale(T,-1):N.scale(T,1);let z;if(S.patternFill){N.save();let se=S.fillColor.getPattern(N,this,(0,r.getCurrentTransformInverse)(N),s.PathType.FILL);z=(0,r.getCurrentTransform)(N),N.restore(),N.fillStyle=se}let K=S.lineWidth,Y=S.textMatrixScale;if(Y===0||K===0){let se=S.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(se===n.TextRenderingMode.STROKE||se===n.TextRenderingMode.FILL_STROKE)&&(K=this.getSinglePixelWidth())}else K/=Y;if(V!==1&&(N.scale(V,V),K/=V),N.lineWidth=K,M.isInvalidPDFjsFont){let se=[],le=0;for(let de of C)se.push(de.unicode),le+=de.width;N.fillText(se.join(""),0,0),S.x+=le*ne*T,N.restore(),this.compose();return}let J=0,ie;for(ie=0;ie<k;++ie){let se=C[ie];if(typeof se=="number"){J+=$*se*L/1e3;continue}let le=!1,de=(se.isSpace?E:0)+F,he=se.fontChar,ve=se.accent,Pe,ft,it=se.width;if(B){let nt=se.vmetric||q,$t=-(se.vmetric?nt[1]:it*.5)*ne,hr=nt[2]*ne;it=nt?-nt[0]:it,Pe=$t/V,ft=(J+hr)/V}else Pe=J/V,ft=0;if(M.remeasure&&it>0){let nt=N.measureText(he).width*1e3/L*V;if(it<nt&&this.isFontSubpixelAAEnabled){let $t=it/nt;le=!0,N.save(),N.scale($t,1),Pe/=$t}else it!==nt&&(Pe+=(it-nt)/2e3*L/V)}if(this.contentVisible&&(se.isInFont||M.missingFile)){if(Z&&!ve)N.fillText(he,Pe,ft);else if(this.paintChar(he,Pe,ft,z),ve){let nt=Pe+L*ve.offset.x/V,$t=ft-L*ve.offset.y/V;this.paintChar(ve.fontChar,nt,$t,z)}}let Nt=B?it*ne-de*x:it*ne+de*x;J+=Nt,le&&N.restore()}B?S.y-=J:S.x+=J*T,N.restore(),this.compose()}showType3Text(C){let S=this.ctx,M=this.current,L=M.font,N=M.fontSize,V=M.fontDirection,F=L.vertical?1:-1,E=M.charSpacing,x=M.wordSpacing,T=M.textHScale*V,k=M.fontMatrix||n.FONT_IDENTITY_MATRIX,B=C.length,$=M.textRenderingMode===n.TextRenderingMode.INVISIBLE,q,ne,Z,z;if(!($||N===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,S.save(),S.transform(...M.textMatrix),S.translate(M.x,M.y),S.scale(T,V),q=0;q<B;++q){if(ne=C[q],typeof ne=="number"){z=F*ne*N/1e3,this.ctx.translate(z,0),M.x+=z*T;continue}let K=(ne.isSpace?x:0)+E,Y=L.charProcOperatorList[ne.operatorListId];if(!Y){(0,n.warn)(`Type3 character "${ne.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ne,this.save(),S.scale(N,N),S.transform(...k),this.executeOperatorList(Y),this.restore()),Z=n.Util.applyTransform([ne.width,0],k)[0]*N+K,S.translate(Z,0),M.x+=Z*T}S.restore(),this.processingType3=null}}setCharWidth(C,S){}setCharWidthAndBounds(C,S,M,L,N,V){this.ctx.rect(M,L,N-M,V-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let S;if(C[0]==="TilingPattern"){let M=C[1],L=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),N={createCanvasGraphics:V=>new P(V,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};S=new s.TilingPattern(C,M,this.ctx,N,L)}else S=this._getPattern(C[1],C[2]);return S}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,S,M){let L=n.Util.makeHexColor(C,S,M);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(C,S,M){let L=n.Util.makeHexColor(C,S,M);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(C,S=null){let M;return this.cachedPatterns.has(C)?M=this.cachedPatterns.get(C):(M=(0,s.getShadingPattern)(this.getObject(C)),this.cachedPatterns.set(C,M)),S&&(M.matrix=S),M}shadingFill(C){if(!this.contentVisible)return;let S=this.ctx;this.save();let M=this._getPattern(C);S.fillStyle=M.getPattern(S,this,(0,r.getCurrentTransformInverse)(S),s.PathType.SHADING);let L=(0,r.getCurrentTransformInverse)(S);if(L){let{width:N,height:V}=S.canvas,[F,E,x,T]=n.Util.getAxialAlignedBoundingBox([0,0,N,V],L);this.ctx.fillRect(F,E,x-F,T-E)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,S){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&C.length===6&&this.transform(...C),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),S)){let M=S[2]-S[0],L=S[3]-S[1];this.ctx.rect(S[0],S[1],M,L),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),S),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let S=this.ctx;C.isolated||(0,n.info)("TODO: Support non-isolated groups."),C.knockout&&(0,n.warn)("Knockout groups not supported.");let M=(0,r.getCurrentTransform)(S);if(C.matrix&&S.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let L=n.Util.getAxialAlignedBoundingBox(C.bbox,(0,r.getCurrentTransform)(S)),N=[0,0,S.canvas.width,S.canvas.height];L=n.Util.intersect(L,N)||[0,0,0,0];let V=Math.floor(L[0]),F=Math.floor(L[1]),E=Math.max(Math.ceil(L[2])-V,1),x=Math.max(Math.ceil(L[3])-F,1),T=1,k=1;E>d&&(T=E/d,E=d),x>d&&(k=x/d,x=d),this.current.startNewPathAndClipBox([0,0,E,x]);let B="groupAt"+this.groupLevel;C.smask&&(B+="_smask_"+this.smaskCounter++%2);let $=this.cachedCanvases.getCanvas(B,E,x),q=$.context;q.scale(1/T,1/k),q.translate(-V,-F),q.transform(...M),C.smask?this.smaskStack.push({canvas:$.canvas,context:q,offsetX:V,offsetY:F,scaleX:T,scaleY:k,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(S.setTransform(1,0,0,1,0,0),S.translate(V,F),S.scale(T,k),S.save()),w(S,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(S),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;let S=this.ctx,M=this.groupStack.pop();if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let L=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...L);let N=n.Util.getAxialAlignedBoundingBox([0,0,S.canvas.width,S.canvas.height],L);this.ctx.drawImage(S.canvas,0,0),this.ctx.restore(),this.compose(N)}}beginAnnotation(C,S,M,L,N){if(this.#e(),D(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(S)&&S.length===4){let V=S[2]-S[0],F=S[3]-S[1];if(N&&this.annotationCanvasMap){M=M.slice(),M[4]-=S[0],M[5]-=S[1],S=S.slice(),S[0]=S[1]=0,S[2]=V,S[3]=F;let[E,x]=n.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:T}=this,k=Math.ceil(V*this.outputScaleX*T),B=Math.ceil(F*this.outputScaleY*T);this.annotationCanvas=this.canvasFactory.create(k,B);let{canvas:$,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(C,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(E,0,0,-x,0,F*x),D(this.ctx)}else D(this.ctx),this.ctx.rect(S[0],S[1],V,F),this.ctx.clip(),this.endPath()}this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...M),this.transform(...L)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;let S=C.count;C=this.getObject(C.data,C),C.count=S;let M=this.ctx,L=this.processingType3;if(L&&(L.compiled===void 0&&(L.compiled=v(C)),L.compiled)){L.compiled(M);return}let N=this._createMaskCanvas(C),V=N.canvas;M.save(),M.setTransform(1,0,0,1,0,0),M.drawImage(V,N.offsetX,N.offsetY),M.restore(),this.compose()}paintImageMaskXObjectRepeat(C,S,M=0,L=0,N,V){if(!this.contentVisible)return;C=this.getObject(C.data,C);let F=this.ctx;F.save();let E=(0,r.getCurrentTransform)(F);F.transform(S,M,L,N,0,0);let x=this._createMaskCanvas(C);F.setTransform(1,0,0,1,x.offsetX-E[4],x.offsetY-E[5]);for(let T=0,k=V.length;T<k;T+=2){let B=n.Util.transform(E,[S,M,L,N,V[T],V[T+1]]),[$,q]=n.Util.applyTransform([0,0],B);F.drawImage(x.canvas,$,q)}F.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;let S=this.ctx,M=this.current.fillColor,L=this.current.patternFill;for(let N of C){let{data:V,width:F,height:E,transform:x}=N,T=this.cachedCanvases.getCanvas("maskCanvas",F,E),k=T.context;k.save();let B=this.getObject(V,N);b(k,B),k.globalCompositeOperation="source-in",k.fillStyle=L?M.getPattern(k,this,(0,r.getCurrentTransformInverse)(S),s.PathType.FILL):M,k.fillRect(0,0,F,E),k.restore(),S.save(),S.transform(...x),S.scale(1,-1),y(S,T.canvas,0,0,F,E,0,-1,1,1),S.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;let S=this.getObject(C);if(!S){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(S)}paintImageXObjectRepeat(C,S,M,L){if(!this.contentVisible)return;let N=this.getObject(C);if(!N){(0,n.warn)("Dependent image isn't ready yet");return}let V=N.width,F=N.height,E=[];for(let x=0,T=L.length;x<T;x+=2)E.push({transform:[S,0,0,M,L[x],L[x+1]],x:0,y:0,w:V,h:F});this.paintInlineImageXObjectGroup(N,E)}applyTransferMapsToCanvas(C){return this.current.transferMaps!=="none"&&(C.filter=this.current.transferMaps,C.drawImage(C.canvas,0,0),C.filter="none"),C.canvas}applyTransferMapsToBitmap(C){if(this.current.transferMaps==="none")return C.bitmap;let{bitmap:S,width:M,height:L}=C,N=this.cachedCanvases.getCanvas("inlineImage",M,L),V=N.context;return V.filter=this.current.transferMaps,V.drawImage(S,0,0),V.filter="none",N.canvas}paintInlineImageXObject(C){if(!this.contentVisible)return;let S=C.width,M=C.height,L=this.ctx;if(this.save(),!n.isNodeJS){let{filter:F}=L;F!=="none"&&F!==""&&(L.filter="none")}L.scale(1/S,-1/M);let N;if(C.bitmap)N=this.applyTransferMapsToBitmap(C);else if(typeof HTMLElement=="function"&&C instanceof HTMLElement||!C.data)N=C;else{let E=this.cachedCanvases.getCanvas("inlineImage",S,M).context;m(E,C),N=this.applyTransferMapsToCanvas(E)}let V=this._scaleImage(N,(0,r.getCurrentTransformInverse)(L));L.imageSmoothingEnabled=G((0,r.getCurrentTransform)(L),C.interpolate),y(L,V.img,0,0,V.paintWidth,V.paintHeight,0,-M,S,M),this.compose(),this.restore()}paintInlineImageXObjectGroup(C,S){if(!this.contentVisible)return;let M=this.ctx,L;if(C.bitmap)L=C.bitmap;else{let N=C.width,V=C.height,E=this.cachedCanvases.getCanvas("inlineImage",N,V).context;m(E,C),L=this.applyTransferMapsToCanvas(E)}for(let N of S)M.save(),M.transform(...N.transform),M.scale(1,-1),y(M,L,N.x,N.y,N.w,N.h,0,-1,1,1),M.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,S){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,S){C==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(S)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){let S=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);let M=this.ctx;this.pendingClip&&(S||(this.pendingClip===H?M.clip("evenodd"):M.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),M.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let C=(0,r.getCurrentTransform)(this.ctx);if(C[1]===0&&C[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{let S=Math.abs(C[0]*C[3]-C[2]*C[1]),M=Math.hypot(C[0],C[2]),L=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(M,L)/S}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:C}=this.current,{a:S,b:M,c:L,d:N}=this.ctx.getTransform(),V,F;if(M===0&&L===0){let E=Math.abs(S),x=Math.abs(N);if(E===x)if(C===0)V=F=1/E;else{let T=E*C;V=F=T<1?1/T:1}else if(C===0)V=1/E,F=1/x;else{let T=E*C,k=x*C;V=T<1?1/T:1,F=k<1?1/k:1}}else{let E=Math.abs(S*N-M*L),x=Math.hypot(S,M),T=Math.hypot(L,N);if(C===0)V=T/E,F=x/E;else{let k=C*E;V=T>k?T/k:1,F=x>k?x/k:1}}this._cachedScaleForStroking[0]=V,this._cachedScaleForStroking[1]=F}return this._cachedScaleForStroking}rescaleAndStroke(C){let{ctx:S}=this,{lineWidth:M}=this.current,[L,N]=this.getScaleForStroking();if(S.lineWidth=M||1,L===1&&N===1){S.stroke();return}let V=S.getLineDash();if(C&&S.save(),S.scale(L,N),V.length>0){let F=Math.max(L,N);S.setLineDash(V.map(E=>E/F)),S.lineDashOffset/=F}S.stroke(),C&&S.restore()}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}e.CanvasGraphics=P;for(let _ in n.OPS)P.prototype[_]!==void 0&&(P.prototype[n.OPS[_]]=P.prototype[_])},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=g;var n=i(1),r=i(6);let s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=s;function o(y,v){if(!v)return;let A=v[2]-v[0],m=v[3]-v[1],b=new Path2D;b.rect(v[0],v[1],A,m),y.clip(b)}class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class h extends a{constructor(v){super(),this._type=v[1],this._bbox=v[2],this._colorStops=v[3],this._p0=v[4],this._p1=v[5],this._r0=v[6],this._r1=v[7],this.matrix=null}_createGradient(v){let A;this._type==="axial"?A=v.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(A=v.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let m of this._colorStops)A.addColorStop(m[0],m[1]);return A}getPattern(v,A,m,b){let w;if(b===s.STROKE||b===s.FILL){let D=A.current.getClippedPathBoundingBox(b,(0,r.getCurrentTransform)(v))||[0,0,0,0],I=Math.ceil(D[2]-D[0])||1,R=Math.ceil(D[3]-D[1])||1,O=A.cachedCanvases.getCanvas("pattern",I,R,!0),U=O.context;U.clearRect(0,0,U.canvas.width,U.canvas.height),U.beginPath(),U.rect(0,0,U.canvas.width,U.canvas.height),U.translate(-D[0],-D[1]),m=n.Util.transform(m,[1,0,0,1,D[0],D[1]]),U.transform(...A.baseTransform),this.matrix&&U.transform(...this.matrix),o(U,this._bbox),U.fillStyle=this._createGradient(U),U.fill(),w=v.createPattern(O.canvas,"no-repeat");let W=new DOMMatrix(m);w.setTransform(W)}else o(v,this._bbox),w=this._createGradient(v);return w}}function d(y,v,A,m,b,w,D,I){let R=v.coords,O=v.colors,U=y.data,W=y.width*4,G;R[A+1]>R[m+1]&&(G=A,A=m,m=G,G=w,w=D,D=G),R[m+1]>R[b+1]&&(G=m,m=b,b=G,G=D,D=I,I=G),R[A+1]>R[m+1]&&(G=A,A=m,m=G,G=w,w=D,D=G);let Q=(R[A]+v.offsetX)*v.scaleX,X=(R[A+1]+v.offsetY)*v.scaleY,j=(R[m]+v.offsetX)*v.scaleX,H=(R[m+1]+v.offsetY)*v.scaleY,P=(R[b]+v.offsetX)*v.scaleX,_=(R[b+1]+v.offsetY)*v.scaleY;if(X>=_)return;let C=O[w],S=O[w+1],M=O[w+2],L=O[D],N=O[D+1],V=O[D+2],F=O[I],E=O[I+1],x=O[I+2],T=Math.round(X),k=Math.round(_),B,$,q,ne,Z,z,K,Y;for(let J=T;J<=k;J++){if(J<H){let he=J<X?0:(X-J)/(X-H);B=Q-(Q-j)*he,$=C-(C-L)*he,q=S-(S-N)*he,ne=M-(M-V)*he}else{let he;J>_?he=1:H===_?he=0:he=(H-J)/(H-_),B=j-(j-P)*he,$=L-(L-F)*he,q=N-(N-E)*he,ne=V-(V-x)*he}let ie;J<X?ie=0:J>_?ie=1:ie=(X-J)/(X-_),Z=Q-(Q-P)*ie,z=C-(C-F)*ie,K=S-(S-E)*ie,Y=M-(M-x)*ie;let se=Math.round(Math.min(B,Z)),le=Math.round(Math.max(B,Z)),de=W*J+se*4;for(let he=se;he<=le;he++)ie=(B-he)/(B-Z),ie<0?ie=0:ie>1&&(ie=1),U[de++]=$-($-z)*ie|0,U[de++]=q-(q-K)*ie|0,U[de++]=ne-(ne-Y)*ie|0,U[de++]=255}}function u(y,v,A){let m=v.coords,b=v.colors,w,D;switch(v.type){case"lattice":let I=v.verticesPerRow,R=Math.floor(m.length/I)-1,O=I-1;for(w=0;w<R;w++){let U=w*I;for(let W=0;W<O;W++,U++)d(y,A,m[U],m[U+1],m[U+I],b[U],b[U+1],b[U+I]),d(y,A,m[U+I+1],m[U+1],m[U+I],b[U+I+1],b[U+1],b[U+I])}break;case"triangles":for(w=0,D=m.length;w<D;w+=3)d(y,A,m[w],m[w+1],m[w+2],b[w],b[w+1],b[w+2]);break;default:throw new Error("illegal figure")}}class l extends a{constructor(v){super(),this._coords=v[2],this._colors=v[3],this._figures=v[4],this._bounds=v[5],this._bbox=v[7],this._background=v[8],this.matrix=null}_createMeshCanvas(v,A,m){let I=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),O=Math.ceil(this._bounds[2])-I,U=Math.ceil(this._bounds[3])-R,W=Math.min(Math.ceil(Math.abs(O*v[0]*1.1)),3e3),G=Math.min(Math.ceil(Math.abs(U*v[1]*1.1)),3e3),Q=O/W,X=U/G,j={coords:this._coords,colors:this._colors,offsetX:-I,offsetY:-R,scaleX:1/Q,scaleY:1/X},H=W+2*2,P=G+2*2,_=m.getCanvas("mesh",H,P,!1),C=_.context,S=C.createImageData(W,G);if(A){let L=S.data;for(let N=0,V=L.length;N<V;N+=4)L[N]=A[0],L[N+1]=A[1],L[N+2]=A[2],L[N+3]=255}for(let L of this._figures)u(S,L,j);return C.putImageData(S,2,2),{canvas:_.canvas,offsetX:I-2*Q,offsetY:R-2*X,scaleX:Q,scaleY:X}}getPattern(v,A,m,b){o(v,this._bbox);let w;if(b===s.SHADING)w=n.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(v));else if(w=n.Util.singularValueDecompose2dScale(A.baseTransform),this.matrix){let I=n.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*I[0],w[1]*I[1]]}let D=this._createMeshCanvas(w,b===s.SHADING?null:this._background,A.cachedCanvases);return b!==s.SHADING&&(v.setTransform(...A.baseTransform),this.matrix&&v.transform(...this.matrix)),v.translate(D.offsetX,D.offsetY),v.scale(D.scaleX,D.scaleY),v.createPattern(D.canvas,"no-repeat")}}class c extends a{getPattern(){return"hotpink"}}function g(y){switch(y[0]){case"RadialAxial":return new h(y);case"Mesh":return new l(y);case"Dummy":return new c}throw new Error(`Unknown IR type: ${y[0]}`)}let f={COLORED:1,UNCOLORED:2},p=(()=>{class y{static MAX_PATTERN_SIZE=3e3;constructor(A,m,b,w,D){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=m,this.ctx=b,this.canvasGraphicsFactory=w,this.baseTransform=D}createPatternCanvas(A){let m=this.operatorList,b=this.bbox,w=this.xstep,D=this.ystep,I=this.paintType,R=this.tilingType,O=this.color,U=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+R);let W=b[0],G=b[1],Q=b[2],X=b[3],j=n.Util.singularValueDecompose2dScale(this.matrix),H=n.Util.singularValueDecompose2dScale(this.baseTransform),P=[j[0]*H[0],j[1]*H[1]],_=this.getSizeAndScale(w,this.ctx.canvas.width,P[0]),C=this.getSizeAndScale(D,this.ctx.canvas.height,P[1]),S=A.cachedCanvases.getCanvas("pattern",_.size,C.size,!0),M=S.context,L=U.createCanvasGraphics(M);L.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(L,I,O);let N=W,V=G,F=Q,E=X;return W<0&&(N=0,F+=Math.abs(W)),G<0&&(V=0,E+=Math.abs(G)),M.translate(-(_.scale*N),-(C.scale*V)),L.transform(_.scale,0,0,C.scale,0,0),M.save(),this.clipBbox(L,N,V,F,E),L.baseTransform=(0,r.getCurrentTransform)(L.ctx),L.executeOperatorList(m),L.endDrawing(),{canvas:S.canvas,scaleX:_.scale,scaleY:C.scale,offsetX:N,offsetY:V}}getSizeAndScale(A,m,b){A=Math.abs(A);let w=Math.max(y.MAX_PATTERN_SIZE,m),D=Math.ceil(A*b);return D>=w?D=w:b=D/A,{scale:b,size:D}}clipBbox(A,m,b,w,D){let I=w-m,R=D-b;A.ctx.rect(m,b,I,R),A.current.updateRectMinMax((0,r.getCurrentTransform)(A.ctx),[m,b,w,D]),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,m,b){let w=A.ctx,D=A.current;switch(m){case f.COLORED:let I=this.ctx;w.fillStyle=I.fillStyle,w.strokeStyle=I.strokeStyle,D.fillColor=I.fillStyle,D.strokeColor=I.strokeStyle;break;case f.UNCOLORED:let R=n.Util.makeHexColor(b[0],b[1],b[2]);w.fillStyle=R,w.strokeStyle=R,D.fillColor=R,D.strokeColor=R;break;default:throw new n.FormatError(`Unsupported paint type: ${m}`)}}getPattern(A,m,b,w){let D=b;w!==s.SHADING&&(D=n.Util.transform(D,m.baseTransform),this.matrix&&(D=n.Util.transform(D,this.matrix)));let I=this.createPatternCanvas(m),R=new DOMMatrix(D);R=R.translate(I.offsetX,I.offsetY),R=R.scale(1/I.scaleX,1/I.scaleY);let O=A.createPattern(I.canvas,"repeat");return O.setTransform(R),O}}return y})();e.TilingPattern=p},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=s,e.convertToRGBA=r,e.grayToRGBA=a;var n=i(1);function r(h){switch(h.kind){case n.ImageKind.GRAYSCALE_1BPP:return s(h);case n.ImageKind.RGB_24BPP:return o(h)}return null}function s({src:h,srcPos:d=0,dest:u,width:l,height:c,nonBlackColor:g=4294967295,inverseDecode:f=!1}){let p=n.FeatureTest.isLittleEndian?4278190080:255,[y,v]=f?[g,p]:[p,g],A=l>>3,m=l&7,b=h.length;u=new Uint32Array(u.buffer);let w=0;for(let D=0;D<c;D++){for(let R=d+A;d<R;d++){let O=d<b?h[d]:255;u[w++]=O&128?v:y,u[w++]=O&64?v:y,u[w++]=O&32?v:y,u[w++]=O&16?v:y,u[w++]=O&8?v:y,u[w++]=O&4?v:y,u[w++]=O&2?v:y,u[w++]=O&1?v:y}if(m===0)continue;let I=d<b?h[d++]:255;for(let R=0;R<m;R++)u[w++]=I&1<<7-R?v:y}return{srcPos:d,destPos:w}}function o({src:h,srcPos:d=0,dest:u,destPos:l=0,width:c,height:g}){let f=0,p=h.length>>2,y=new Uint32Array(h.buffer,d,p);if(n.FeatureTest.isLittleEndian){for(;f<p-2;f+=3,l+=4){let v=y[f],A=y[f+1],m=y[f+2];u[l]=v|4278190080,u[l+1]=v>>>24|A<<8|4278190080,u[l+2]=A>>>16|m<<16|4278190080,u[l+3]=m>>>8|4278190080}for(let v=f*4,A=h.length;v<A;v+=3)u[l++]=h[v]|h[v+1]<<8|h[v+2]<<16|4278190080}else{for(;f<p-2;f+=3,l+=4){let v=y[f],A=y[f+1],m=y[f+2];u[l]=v|255,u[l+1]=v<<24|A>>>8|255,u[l+2]=A<<16|m>>>16|255,u[l+3]=m<<8|255}for(let v=f*4,A=h.length;v<A;v+=3)u[l++]=h[v]<<24|h[v+1]<<16|h[v+2]<<8|255}return{srcPos:d,destPos:l}}function a(h,d){if(n.FeatureTest.isLittleEndian)for(let u=0,l=h.length;u<l;u++)d[u]=h[u]*65793|4278190080;else for(let u=0,l=h.length;u<l;u++)d[u]=h[u]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=i(1);let r={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(h){switch(h instanceof Error||typeof h=="object"&&h!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),h.name){case"AbortException":return new n.AbortException(h.message);case"MissingPDFException":return new n.MissingPDFException(h.message);case"PasswordException":return new n.PasswordException(h.message,h.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(h.message,h.status);case"UnknownErrorException":return new n.UnknownErrorException(h.message,h.details);default:return new n.UnknownErrorException(h.message,h.toString())}}class a{constructor(d,u,l){this.sourceName=d,this.targetName=u,this.comObj=l,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=c=>{let g=c.data;if(g.targetName!==this.sourceName)return;if(g.stream){this.#t(g);return}if(g.callback){let p=g.callbackId,y=this.callbackCapabilities[p];if(!y)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],g.callback===r.DATA)y.resolve(g.data);else if(g.callback===r.ERROR)y.reject(o(g.reason));else throw new Error("Unexpected callback case");return}let f=this.actionHandler[g.action];if(!f)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){let p=this.sourceName,y=g.sourceName;new Promise(function(v){v(f(g.data))}).then(function(v){l.postMessage({sourceName:p,targetName:y,callback:r.DATA,callbackId:g.callbackId,data:v})},function(v){l.postMessage({sourceName:p,targetName:y,callback:r.ERROR,callbackId:g.callbackId,reason:o(v)})});return}if(g.streamId){this.#e(g);return}f(g.data)},l.addEventListener("message",this._onComObjOnMessage)}on(d,u){let l=this.actionHandler;if(l[d])throw new Error(`There is already an actionName called "${d}"`);l[d]=u}send(d,u,l){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:u},l)}sendWithPromise(d,u,l){let c=this.callbackId++,g=new n.PromiseCapability;this.callbackCapabilities[c]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:c,data:u},l)}catch(f){g.reject(f)}return g.promise}sendWithStream(d,u,l,c){let g=this.streamId++,f=this.sourceName,p=this.targetName,y=this.comObj;return new ReadableStream({start:v=>{let A=new n.PromiseCapability;return this.streamControllers[g]={controller:v,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},y.postMessage({sourceName:f,targetName:p,action:d,streamId:g,data:u,desiredSize:v.desiredSize},c),A.promise},pull:v=>{let A=new n.PromiseCapability;return this.streamControllers[g].pullCall=A,y.postMessage({sourceName:f,targetName:p,stream:s.PULL,streamId:g,desiredSize:v.desiredSize}),A.promise},cancel:v=>{(0,n.assert)(v instanceof Error,"cancel must have a valid reason");let A=new n.PromiseCapability;return this.streamControllers[g].cancelCall=A,this.streamControllers[g].isClosed=!0,y.postMessage({sourceName:f,targetName:p,stream:s.CANCEL,streamId:g,reason:o(v)}),A.promise}},l)}#e(d){let u=d.streamId,l=this.sourceName,c=d.sourceName,g=this.comObj,f=this,p=this.actionHandler[d.action],y={enqueue(v,A=1,m){if(this.isCancelled)return;let b=this.desiredSize;this.desiredSize-=A,b>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),g.postMessage({sourceName:l,targetName:c,stream:s.ENQUEUE,streamId:u,chunk:v},m)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:l,targetName:c,stream:s.CLOSE,streamId:u}),delete f.streamSinks[u])},error(v){(0,n.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:l,targetName:c,stream:s.ERROR,streamId:u,reason:o(v)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};y.sinkCapability.resolve(),y.ready=y.sinkCapability.promise,this.streamSinks[u]=y,new Promise(function(v){v(p(d.data,y))}).then(function(){g.postMessage({sourceName:l,targetName:c,stream:s.START_COMPLETE,streamId:u,success:!0})},function(v){g.postMessage({sourceName:l,targetName:c,stream:s.START_COMPLETE,streamId:u,reason:o(v)})})}#t(d){let u=d.streamId,l=this.sourceName,c=d.sourceName,g=this.comObj,f=this.streamControllers[u],p=this.streamSinks[u];switch(d.stream){case s.START_COMPLETE:d.success?f.startCall.resolve():f.startCall.reject(o(d.reason));break;case s.PULL_COMPLETE:d.success?f.pullCall.resolve():f.pullCall.reject(o(d.reason));break;case s.PULL:if(!p){g.postMessage({sourceName:l,targetName:c,stream:s.PULL_COMPLETE,streamId:u,success:!0});break}p.desiredSize<=0&&d.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=d.desiredSize,new Promise(function(y){y(p.onPull?.())}).then(function(){g.postMessage({sourceName:l,targetName:c,stream:s.PULL_COMPLETE,streamId:u,success:!0})},function(y){g.postMessage({sourceName:l,targetName:c,stream:s.PULL_COMPLETE,streamId:u,reason:o(y)})});break;case s.ENQUEUE:if((0,n.assert)(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(d.chunk);break;case s.CLOSE:if((0,n.assert)(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this.#n(f,u);break;case s.ERROR:(0,n.assert)(f,"error should have stream controller"),f.controller.error(o(d.reason)),this.#n(f,u);break;case s.CANCEL_COMPLETE:d.success?f.cancelCall.resolve():f.cancelCall.reject(o(d.reason)),this.#n(f,u);break;case s.CANCEL:if(!p)break;new Promise(function(y){y(p.onCancel?.(o(d.reason)))}).then(function(){g.postMessage({sourceName:l,targetName:c,stream:s.CANCEL_COMPLETE,streamId:u,success:!0})},function(y){g.postMessage({sourceName:l,targetName:c,stream:s.CANCEL_COMPLETE,streamId:u,reason:o(y)})}),p.sinkCapability.reject(o(d.reason)),p.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}#n(d,u){return oe(this,null,function*(){yield Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[u]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=i(1);class r{#e;#t;constructor({parsedData:o,rawData:a}){this.#e=o,this.#t=a}getRaw(){return this.#t}get(o){return this.#e.get(o)??null}getAll(){return(0,n.objectFromMap)(this.#e)}has(o){return this.#e.has(o)}}e.Metadata=r},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=i(1),r=i(8);let s=Symbol("INTERNAL");class o{#e=!0;constructor(d,u){this.name=d,this.intent=u}get visible(){return this.#e}_setVisible(d,u){d!==s&&(0,n.unreachable)("Internal method `_setVisible` called."),this.#e=u}}class a{#e=null;#t=new Map;#n=null;#i=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#i=d.order;for(let u of d.groups)this.#t.set(u.id,new o(u.name,u.intent));if(d.baseState==="OFF")for(let u of this.#t.values())u._setVisible(s,!1);for(let u of d.on)this.#t.get(u)._setVisible(s,!0);for(let u of d.off)this.#t.get(u)._setVisible(s,!1);this.#n=this.getHash()}}#a(d){let u=d.length;if(u<2)return!0;let l=d[0];for(let c=1;c<u;c++){let g=d[c],f;if(Array.isArray(g))f=this.#a(g);else if(this.#t.has(g))f=this.#t.get(g).visible;else return(0,n.warn)(`Optional content group not found: ${g}`),!0;switch(l){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return l==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,n.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,n.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#a(d.expression);if(!d.policy||d.policy==="AnyOn"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!0}return!1}else if(d.policy==="AllOn"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!0}return!1}else if(d.policy==="AllOff"){for(let u of d.ids){if(!this.#t.has(u))return(0,n.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,n.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,u=!0){if(!this.#t.has(d)){(0,n.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(s,!!u),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;let d=new r.MurmurHash3_64;for(let[u,l]of this.#t)d.update(`${u}:${l.visible}`);return this.#e=d.hexdigest()}}e.OptionalContentConfig=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=i(1),r=i(6);class s{constructor({length:d,initialData:u,progressiveDone:l=!1,contentDispositionFilename:c=null,disableRange:g=!1,disableStream:f=!1},p){if((0,n.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,u?.length>0){let y=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(y)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!f,this._isRangeSupported=!g,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((y,v)=>{this._onReceiveData({begin:y,chunk:v})}),this._pdfDataRangeTransport.addProgressListener((y,v)=>{this._onProgress({loaded:y,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(y=>{this._onReceiveData({chunk:y})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:u}){let l=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(l):this._queuedChunks.push(l);else{let c=this._rangeReaders.some(function(g){return g._begin!==d?!1:(g._enqueue(l),!0)});(0,n.assert)(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){let u=this._rangeReaders.indexOf(d);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let d=this._queuedChunks;return this._queuedChunks=null,new o(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,u){if(u<=this._progressiveDataLength)return null;let l=new a(this,d,u);return this._pdfDataRangeTransport.requestDataRange(d,u),this._rangeReaders.push(l),l}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(let u of this._rangeReaders.slice(0))u.cancel(d);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=s;class o{constructor(d,u,l=!1,c=null){this._stream=d,this._done=l||!1,this._filename=(0,r.isPdfFile)(c)?c:null,this._queuedChunks=u||[],this._loaded=0;for(let g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return oe(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let d=new n.PromiseCapability;return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(d,u,l){this._stream=d,this._begin=u,this._end=l,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(let l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return oe(this,null,function*(){if(this._queuedChunk){let u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};let d=new n.PromiseCapability;return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=i(1),r=i(20);function s(l,c,g){return{method:"GET",headers:l,signal:g.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}function o(l){let c=new Headers;for(let g in l){let f=l[g];f!==void 0&&c.append(g,f)}return c}function a(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:((0,n.warn)(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class h{constructor(c){this.source=c,this.isHttp=/^https?:/i.test(c.url),this.httpHeaders=this.isHttp&&c.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(c,g){if(g<=this._progressiveDataLength)return null;let f=new u(this,c,g);return this._rangeRequestReaders.push(f),f}cancelAllRequests(c){this._fullRequestReader?.cancel(c);for(let g of this._rangeRequestReaders.slice(0))g.cancel(c)}}e.PDFFetchStream=h;class d{constructor(c){this._stream=c,this._reader=null,this._loaded=0,this._filename=null;let g=c.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=new n.PromiseCapability,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=o(this._stream.httpHeaders);let f=g.url;fetch(f,s(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,r.validateResponseStatus)(p.status))throw(0,r.createResponseStatusError)(p.status,f);this._reader=p.body.getReader(),this._headersCapability.resolve();let y=m=>p.headers.get(m),{allowRangeRequests:v,suggestedLength:A}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=A||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(y),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){yield this._headersCapability.promise;let{value:c,done:g}=yield this._reader.read();return g?{value:c,done:g}:(this._loaded+=c.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:a(c),done:!1})})}cancel(c){this._reader?.cancel(c),this._abortController.abort()}}class u{constructor(c,g,f){this._stream=c,this._reader=null,this._loaded=0;let p=c.source;this._withCredentials=p.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${f-1}`);let y=p.url;fetch(y,s(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,r.validateResponseStatus)(v.status))throw(0,r.createResponseStatusError)(v.status,y);this._readCapability.resolve(),this._reader=v.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){yield this._readCapability.promise;let{value:c,done:g}=yield this._reader.read();return g?{value:c,done:g}:(this._loaded+=c.byteLength,this.onProgress?.({loaded:this._loaded}),{value:a(c),done:!1})})}cancel(c){this._reader?.cancel(c),this._abortController.abort()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=h,e.extractFilenameFromHeader=a,e.validateRangeRequestCapabilities=o,e.validateResponseStatus=d;var n=i(1),r=i(21),s=i(6);function o({getResponseHeader:u,isHttp:l,rangeChunkSize:c,disableRange:g}){let f={allowRangeRequests:!1,suggestedLength:void 0},p=parseInt(u("Content-Length"),10);return!Number.isInteger(p)||(f.suggestedLength=p,p<=2*c)||g||!l||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function a(u){let l=u("Content-Disposition");if(l){let c=(0,r.getFilenameFromContentDispositionHeader)(l);if(c.includes("%"))try{c=decodeURIComponent(c)}catch{}if((0,s.isPdfFile)(c))return c}return null}function h(u,l){return u===404||u===0&&l.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+l+'".'):new n.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${l}".`,u)}function d(u){return u===200||u===206}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=r;var n=i(1);function r(s){let o=!0,a=h("filename\\*","i").exec(s);if(a){a=a[1];let p=c(a);return p=unescape(p),p=g(p),p=f(p),u(p)}if(a=l(s),a){let p=f(a);return u(p)}if(a=h("filename","i").exec(s),a){a=a[1];let p=c(a);return p=f(p),u(p)}function h(p,y){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function d(p,y){if(p){if(!/^[\x00-\xFF]+$/.test(y))return y;try{let v=new TextDecoder(p,{fatal:!0}),A=(0,n.stringToBytes)(y);y=v.decode(A),o=!1}catch{}}return y}function u(p){return o&&/[\x80-\xff]/.test(p)&&(p=d("utf-8",p),o&&(p=d("iso-8859-1",p))),p}function l(p){let y=[],v,A=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(p))!==null;){let[,b,w,D]=v;if(b=parseInt(b,10),b in y){if(b===0)break;continue}y[b]=[w,D]}let m=[];for(let b=0;b<y.length&&b in y;++b){let[w,D]=y[b];D=c(D),w&&(D=unescape(D),b===0&&(D=g(D))),m.push(D)}return m.join("")}function c(p){if(p.startsWith('"')){let y=p.slice(1).split('\\"');for(let v=0;v<y.length;++v){let A=y[v].indexOf('"');A!==-1&&(y[v]=y[v].slice(0,A),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}p=y.join('"')}return p}function g(p){let y=p.indexOf("'");if(y===-1)return p;let v=p.slice(0,y),m=p.slice(y+1).replace(/^[^']*'/,"");return d(v,m)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,A,m){if(A==="q"||A==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,w){return String.fromCharCode(parseInt(w,16))}),d(v,m);try{m=atob(m)}catch{}return d(v,m)})}return""}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=i(1),r=i(20);let s=200,o=206;function a(c){let g=c.response;return typeof g!="string"?g:(0,n.stringToBytes)(g).buffer}class h{constructor(g,f={}){this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&f.httpHeaders||Object.create(null),this.withCredentials=f.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,f,p){let y={begin:g,end:f};for(let v in p)y[v]=p[v];return this.request(y)}requestFull(g){return this.request(g)}request(g){let f=new XMLHttpRequest,p=this.currXhrId++,y=this.pendingRequests[p]={xhr:f};f.open("GET",this.url),f.withCredentials=this.withCredentials;for(let v in this.httpHeaders){let A=this.httpHeaders[v];A!==void 0&&f.setRequestHeader(v,A)}return this.isHttp&&"begin"in g&&"end"in g?(f.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),y.expectedStatus=o):y.expectedStatus=s,f.responseType="arraybuffer",g.onError&&(f.onerror=function(v){g.onError(f.status)}),f.onreadystatechange=this.onStateChange.bind(this,p),f.onprogress=this.onProgress.bind(this,p),y.onHeadersReceived=g.onHeadersReceived,y.onDone=g.onDone,y.onError=g.onError,y.onProgress=g.onProgress,f.send(null),p}onProgress(g,f){let p=this.pendingRequests[g];p&&p.onProgress?.(f)}onStateChange(g,f){let p=this.pendingRequests[g];if(!p)return;let y=p.xhr;if(y.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),y.readyState!==4||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],y.status===0&&this.isHttp){p.onError?.(y.status);return}let v=y.status||s;if(!(v===s&&p.expectedStatus===o)&&v!==p.expectedStatus){p.onError?.(y.status);return}let m=a(y);if(v===o){let b=y.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);p.onDone({begin:parseInt(w[1],10),chunk:m})}else m?p.onDone({begin:0,chunk:m}):p.onError?.(y.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){let f=this.pendingRequests[g].xhr;delete this.pendingRequests[g],f.abort()}}class d{constructor(g){this._source=g,this._manager=new h(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){let f=this._rangeRequestReaders.indexOf(g);f>=0&&this._rangeRequestReaders.splice(f,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(g,f){let p=new l(this._manager,g,f);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(let f of this._rangeRequestReaders.slice(0))f.cancel(g)}}e.PDFNetworkStream=d;class u{constructor(g,f){this._manager=g;let p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._fullRequestId=g.requestFull(p),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=f.disableRange||!1,this._contentLength=f.length,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let g=this._fullRequestId,f=this._manager.getRequestXhr(g),p=A=>f.getResponseHeader(A),{allowRangeRequests:y,suggestedLength:v}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});y&&(this._isRangeSupported=!0),this._contentLength=v||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,r.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){this.onProgress?.({loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return oe(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let g=new n.PromiseCapability;return this._requests.push(g),g.promise})}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l{constructor(g,f,p){this._manager=g;let y={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(f,p,y),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(g){let f=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunk=f,this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,r.createResponseStatusError)(g,this._url);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){this.isStreamingSupported||this.onProgress?.({loaded:g.loaded})}get isStreamingSupported(){return!1}read(){return oe(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let f=this._queuedChunk;return this._queuedChunk=null,{value:f,done:!1}}if(this._done)return{value:void 0,done:!0};let g=new n.PromiseCapability;return this._requests.push(g),g.promise})}cancel(g){this._done=!0;for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=i(1),r=i(20);let s=/^file:\/\/\/[a-zA-Z]:\//;function o(p){let y=tm(),v=y.parse(p);return v.protocol==="file:"||v.host?v:/^[a-z]:[/\\]/i.test(p)?y.parse(`file:///${p}`):(v.host||(v.protocol="file:"),v)}class a{constructor(y){this.source=y,this.url=o(y.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new l(this),this._fullRequestReader}getRangeReader(y,v){if(v<=this._progressiveDataLength)return null;let A=this.isFsUrl?new f(this,y,v):new c(this,y,v);return this._rangeRequestReaders.push(A),A}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(let v of this._rangeRequestReaders.slice(0))v.cancel(y)}}e.PDFNodeStream=a;class h{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;let v=y.source;this._contentLength=v.length,this._loaded=0,this._filename=null,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let y=this._readableStream.read();return y===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=y.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(y).buffer,done:!1})})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",v=>{this._error(v)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;let v=y.source;this._isStreamingSupported=!v.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let y=this._readableStream.read();return y===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=y.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(y).buffer,done:!1})})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",v=>{this._error(v)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(p,y){return{protocol:p.protocol,auth:p.auth,host:p.hostname,port:p.port,path:p.path,method:"GET",headers:y}}class l extends h{constructor(y){super(y);let v=A=>{if(A.statusCode===404){let D=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=D,this._headersCapability.reject(D);return}this._headersCapability.resolve(),this._setReadableStream(A);let m=D=>this._readableStream.headers[D.toLowerCase()],{allowRangeRequests:b,suggestedLength:w}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=w||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(m)};if(this._request=null,this._url.protocol==="http:"){let A=Bu();this._request=A.request(u(this._url,y.httpHeaders),v)}else{let A=Vu();this._request=A.request(u(this._url,y.httpHeaders),v)}this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class c extends d{constructor(y,v,A){super(y),this._httpHeaders={};for(let b in y.httpHeaders){let w=y.httpHeaders[b];w!==void 0&&(this._httpHeaders[b]=w)}this._httpHeaders.Range=`bytes=${v}-${A-1}`;let m=b=>{if(b.statusCode===404){let w=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(b)};if(this._request=null,this._url.protocol==="http:"){let b=Bu();this._request=b.request(u(this._url,this._httpHeaders),m)}else{let b=Vu();this._request=b.request(u(this._url,this._httpHeaders),m)}this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class g extends h{constructor(y){super(y);let v=decodeURIComponent(this._url.path);s.test(this._url.href)&&(v=v.replace(/^\//,""));let A=ba();A.lstat(v,(m,b)=>{if(m){m.code==="ENOENT"&&(m=new n.MissingPDFException(`Missing PDF "${v}".`)),this._storedError=m,this._headersCapability.reject(m);return}this._contentLength=b.size,this._setReadableStream(A.createReadStream(v)),this._headersCapability.resolve()})}}class f extends d{constructor(y,v,A){super(y);let m=decodeURIComponent(this._url.path);s.test(this._url.href)&&(m=m.replace(/^\//,""));let b=ba();this._setReadableStream(b.createReadStream(m,{start:v,end:A-1}))}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=i(6),r=i(1);let s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},o="http://www.w3.org/XML/1998/namespace",a="http://www.w3.org/1999/xlink",h=["butt","round","square"],d=["miter","round","bevel"],u=function(b,w="",D=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!D)return URL.createObjectURL(new Blob([b],{type:w}));let I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",R=`data:${w};base64,`;for(let O=0,U=b.length;O<U;O+=3){let W=b[O]&255,G=b[O+1]&255,Q=b[O+2]&255,X=W>>2,j=(W&3)<<4|G>>4,H=O+1<U?(G&15)<<2|Q>>6:64,P=O+2<U?Q&63:64;R+=I[X]+I[j]+I[H]+I[P]}return R},l=function(){let b=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,D=new Int32Array(256);for(let Q=0;Q<256;Q++){let X=Q;for(let j=0;j<8;j++)X=X&1?3988292384^X>>1&2147483647:X>>1&2147483647;D[Q]=X}function I(Q,X,j){let H=-1;for(let P=X;P<j;P++){let _=(H^Q[P])&255,C=D[_];H=H>>>8^C}return H^-1}function R(Q,X,j,H){let P=H,_=X.length;j[P]=_>>24&255,j[P+1]=_>>16&255,j[P+2]=_>>8&255,j[P+3]=_&255,P+=4,j[P]=Q.charCodeAt(0)&255,j[P+1]=Q.charCodeAt(1)&255,j[P+2]=Q.charCodeAt(2)&255,j[P+3]=Q.charCodeAt(3)&255,P+=4,j.set(X,P),P+=X.length;let C=I(j,H+4,P);j[P]=C>>24&255,j[P+1]=C>>16&255,j[P+2]=C>>8&255,j[P+3]=C&255}function O(Q,X,j){let H=1,P=0;for(let _=X;_<j;++_)H=(H+(Q[_]&255))%65521,P=(P+H)%65521;return P<<16|H}function U(Q){if(!r.isNodeJS)return W(Q);try{let X=parseInt(process.versions.node)>=8?Q:Buffer.from(Q),j=nm().deflateSync(X,{level:9});return j instanceof Uint8Array?j:new Uint8Array(j)}catch(X){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+X)}return W(Q)}function W(Q){let X=Q.length,j=65535,H=Math.ceil(X/j),P=new Uint8Array(2+X+H*5+4),_=0;P[_++]=120,P[_++]=156;let C=0;for(;X>j;)P[_++]=0,P[_++]=255,P[_++]=255,P[_++]=0,P[_++]=0,P.set(Q.subarray(C,C+j),_),_+=j,C+=j,X-=j;P[_++]=1,P[_++]=X&255,P[_++]=X>>8&255,P[_++]=~X&65535&255,P[_++]=(~X&65535)>>8&255,P.set(Q.subarray(C),_),_+=Q.length-C;let S=O(Q,0,Q.length);return P[_++]=S>>24&255,P[_++]=S>>16&255,P[_++]=S>>8&255,P[_++]=S&255,P}function G(Q,X,j,H){let P=Q.width,_=Q.height,C,S,M,L=Q.data;switch(X){case r.ImageKind.GRAYSCALE_1BPP:S=0,C=1,M=P+7>>3;break;case r.ImageKind.RGB_24BPP:S=2,C=8,M=P*3;break;case r.ImageKind.RGBA_32BPP:S=6,C=8,M=P*4;break;default:throw new Error("invalid format")}let N=new Uint8Array((1+M)*_),V=0,F=0;for(let $=0;$<_;++$)N[V++]=0,N.set(L.subarray(F,F+M),V),F+=M,V+=M;if(X===r.ImageKind.GRAYSCALE_1BPP&&H){V=0;for(let $=0;$<_;$++){V++;for(let q=0;q<M;q++)N[V++]^=255}}let E=new Uint8Array([P>>24&255,P>>16&255,P>>8&255,P&255,_>>24&255,_>>16&255,_>>8&255,_&255,C,S,0,0,0]),x=U(N),T=b.length+w*3+E.length+x.length,k=new Uint8Array(T),B=0;return k.set(b,B),B+=b.length,R("IHDR",E,k,B),B+=w+E.length,R("IDATA",x,k,B),B+=w+x.length,R("IEND",new Uint8Array(0),k,B),u(k,"image/png",j)}return function(X,j,H){let P=X.kind===void 0?r.ImageKind.GRAYSCALE_1BPP:X.kind;return G(X,P,j,H)}}();class c{constructor(){this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,D){this.x=w,this.y=D}}function g(b){let w=[],D=[];for(let I of b){if(I.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),D.push(w),w=w.at(-1).items;continue}I.fn==="restore"?w=D.pop():w.push(I)}return w}function f(b){if(Number.isInteger(b))return b.toString();let w=b.toFixed(10),D=w.length-1;if(w[D]!=="0")return w;do D--;while(w[D]==="0");return w.substring(0,w[D]==="."?D:D+1)}function p(b){if(b[4]===0&&b[5]===0){if(b[1]===0&&b[2]===0)return b[0]===1&&b[3]===1?"":`scale(${f(b[0])} ${f(b[3])})`;if(b[0]===b[3]&&b[1]===-b[2]){let w=Math.acos(b[0])*180/Math.PI;return`rotate(${f(w)})`}}else if(b[0]===1&&b[1]===0&&b[2]===0&&b[3]===1)return`translate(${f(b[4])} ${f(b[5])})`;return`matrix(${f(b[0])} ${f(b[1])} ${f(b[2])} ${f(b[3])} ${f(b[4])} ${f(b[5])})`}let y=0,v=0,A=0;class m{constructor(w,D,I=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new c,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=D,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(let R in r.OPS)this._operatorIdMapping[r.OPS[R]]=R}getObject(w,D=null){return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):D}save(){this.transformStack.push(this.transformMatrix);let w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){let D=w.fnArray,I=w.argsArray;for(let R=0,O=D.length;R<O;R++)if(D[R]===r.OPS.dependency)for(let U of I[R]){let W=U.startsWith("g_")?this.commonObjs:this.objs,G=new Promise(Q=>{W.get(U,Q)});this.current.dependencies.push(G)}return Promise.all(this.current.dependencies)}transform(w,D,I,R,O,U){let W=[w,D,I,R,O,U];this.transformMatrix=r.Util.transform(this.transformMatrix,W),this.tgrp=null}getSVG(w,D){this.viewport=D;let I=this._initialize(D);return this.loadDependencies(w).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),I))}convertOpList(w){let D=this._operatorIdMapping,I=w.argsArray,R=w.fnArray,O=[];for(let U=0,W=R.length;U<W;U++){let G=R[U];O.push({fnId:G,fn:D[G],args:I[U]})}return g(O)}executeOpTree(w){for(let D of w){let I=D.fn,R=D.fnId,O=D.args;switch(R|0){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(O);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(O[0],O[1]);break;case r.OPS.setFont:this.setFont(O);break;case r.OPS.showText:this.showText(O[0]);break;case r.OPS.showSpacedText:this.showText(O[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(O[0],O[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(O[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(O[0]);break;case r.OPS.setHScale:this.setHScale(O[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(O[0],O[1],O[2],O[3],O[4],O[5]);break;case r.OPS.setTextRise:this.setTextRise(O[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(O[0]);break;case r.OPS.setLineWidth:this.setLineWidth(O[0]);break;case r.OPS.setLineJoin:this.setLineJoin(O[0]);break;case r.OPS.setLineCap:this.setLineCap(O[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(O[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(O[0],O[1],O[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(O[0],O[1],O[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(O);break;case r.OPS.setFillColorN:this.setFillColorN(O);break;case r.OPS.shadingFill:this.shadingFill(O[0]);break;case r.OPS.setDash:this.setDash(O[0],O[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(O[0]);break;case r.OPS.setFlatness:this.setFlatness(O[0]);break;case r.OPS.setGState:this.setGState(O[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(O[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(O[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(O[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(O[0],O[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(O[0],O[1],O[2],O[3],O[4],O[5]);break;case r.OPS.constructPath:this.constructPath(O[0],O[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(D.items);break;default:(0,r.warn)(`Unimplemented operator ${I}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,D,I,R,O,U){let W=this.current;W.textMatrix=W.lineMatrix=[w,D,I,R,O,U],W.textMatrixScale=Math.hypot(w,D),W.x=W.lineX=0,W.y=W.lineY=0,W.xcoords=[],W.ycoords=[],W.tspan=this.svgFactory.createElement("svg:tspan"),W.tspan.setAttributeNS(null,"font-family",W.fontFamily),W.tspan.setAttributeNS(null,"font-size",`${f(W.fontSize)}px`),W.tspan.setAttributeNS(null,"y",f(-W.y)),W.txtElement=this.svgFactory.createElement("svg:text"),W.txtElement.append(W.tspan)}beginText(){let w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=r.IDENTITY_MATRIX,w.lineMatrix=r.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,D){let I=this.current;I.x=I.lineX+=w,I.y=I.lineY+=D,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${f(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",f(-I.y))}showText(w){let D=this.current,I=D.font,R=D.fontSize;if(R===0)return;let O=D.fontSizeScale,U=D.charSpacing,W=D.wordSpacing,G=D.fontDirection,Q=D.textHScale*G,X=I.vertical,j=X?1:-1,H=I.defaultVMetrics,P=R*D.fontMatrix[0],_=0;for(let M of w){if(M===null){_+=G*W;continue}else if(typeof M=="number"){_+=j*M*R/1e3;continue}let L=(M.isSpace?W:0)+U,N=M.fontChar,V,F,E=M.width;if(X){let T,k=M.vmetric||H;T=M.vmetric?k[1]:E*.5,T=-T*P;let B=k[2]*P;E=k?-k[0]:E,V=T/O,F=(_+B)/O}else V=_/O,F=0;(M.isInFont||I.missingFile)&&(D.xcoords.push(D.x+V),X&&D.ycoords.push(-D.y+F),D.tspan.textContent+=N);let x=X?E*P-L*G:E*P+L*G;_+=x}D.tspan.setAttributeNS(null,"x",D.xcoords.map(f).join(" ")),X?D.tspan.setAttributeNS(null,"y",D.ycoords.map(f).join(" ")):D.tspan.setAttributeNS(null,"y",f(-D.y)),X?D.y-=_:D.x+=_*Q,D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${f(D.fontSize)}px`),D.fontStyle!==s.fontStyle&&D.tspan.setAttributeNS(null,"font-style",D.fontStyle),D.fontWeight!==s.fontWeight&&D.tspan.setAttributeNS(null,"font-weight",D.fontWeight);let C=D.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(C===r.TextRenderingMode.FILL||C===r.TextRenderingMode.FILL_STROKE?(D.fillColor!==s.fillColor&&D.tspan.setAttributeNS(null,"fill",D.fillColor),D.fillAlpha<1&&D.tspan.setAttributeNS(null,"fill-opacity",D.fillAlpha)):D.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?D.tspan.setAttributeNS(null,"fill","transparent"):D.tspan.setAttributeNS(null,"fill","none"),C===r.TextRenderingMode.STROKE||C===r.TextRenderingMode.FILL_STROKE){let M=1/(D.textMatrixScale||1);this._setStrokeAttributes(D.tspan,M)}let S=D.textMatrix;D.textRise!==0&&(S=S.slice(),S[5]+=D.textRise),D.txtElement.setAttributeNS(null,"transform",`${p(S)} scale(${f(Q)}, -1)`),D.txtElement.setAttributeNS(o,"xml:space","preserve"),D.txtElement.append(D.tspan),D.txtgrp.append(D.txtElement),this._ensureTransformGroup().append(D.txtElement)}setLeadingMoveText(w,D){this.setLeading(-D),this.moveText(w,D)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let D=u(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${D}); }
`}setFont(w){let D=this.current,I=this.commonObjs.get(w[0]),R=w[1];D.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),D.fontMatrix=I.fontMatrix||r.FONT_IDENTITY_MATRIX;let O="normal";I.black?O="900":I.bold&&(O="bold");let U=I.italic?"italic":"normal";R<0?(R=-R,D.fontDirection=-1):D.fontDirection=1,D.fontSize=R,D.fontFamily=I.loadedName,D.fontWeight=O,D.fontStyle=U,D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"y",f(-D.y)),D.xcoords=[],D.ycoords=[]}endText(){let w=this.current;w.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement?.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=h[w]}setLineJoin(w){this.current.lineJoin=d[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,D,I){this.current.strokeColor=r.Util.makeHexColor(w,D,I)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,D,I){this.current.fillColor=r.Util.makeHexColor(w,D,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){let{width:D,height:I}=this.viewport,R=r.Util.inverseTransform(this.transformMatrix),[O,U,W,G]=r.Util.getAxialAlignedBoundingBox([0,0,D,I],R),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",O),Q.setAttributeNS(null,"y",U),Q.setAttributeNS(null,"width",W-O),Q.setAttributeNS(null,"height",G-U),Q.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Q)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){let D=w[1],I=w[2],R=w[3]||r.IDENTITY_MATRIX,[O,U,W,G]=w[4],Q=w[5],X=w[6],j=w[7],H=`shading${A++}`,[P,_,C,S]=r.Util.normalizeRect([...r.Util.applyTransform([O,U],R),...r.Util.applyTransform([W,G],R)]),[M,L]=r.Util.singularValueDecompose2dScale(R),N=Q*M,V=X*L,F=this.svgFactory.createElement("svg:pattern");F.setAttributeNS(null,"id",H),F.setAttributeNS(null,"patternUnits","userSpaceOnUse"),F.setAttributeNS(null,"width",N),F.setAttributeNS(null,"height",V),F.setAttributeNS(null,"x",`${P}`),F.setAttributeNS(null,"y",`${_}`);let E=this.svg,x=this.transformMatrix,T=this.current.fillColor,k=this.current.strokeColor,B=this.svgFactory.create(C-P,S-_);if(this.svg=B,this.transformMatrix=R,j===2){let $=r.Util.makeHexColor(...D);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(I)),this.svg=E,this.transformMatrix=x,this.current.fillColor=T,this.current.strokeColor=k,F.append(B.childNodes[0]),this.defs.append(F),`url(#${H})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":let D=`shading${A++}`,I=w[3],R;switch(w[1]){case"axial":let O=w[4],U=w[5];R=this.svgFactory.createElement("svg:linearGradient"),R.setAttributeNS(null,"id",D),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"x1",O[0]),R.setAttributeNS(null,"y1",O[1]),R.setAttributeNS(null,"x2",U[0]),R.setAttributeNS(null,"y2",U[1]);break;case"radial":let W=w[4],G=w[5],Q=w[6],X=w[7];R=this.svgFactory.createElement("svg:radialGradient"),R.setAttributeNS(null,"id",D),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"cx",G[0]),R.setAttributeNS(null,"cy",G[1]),R.setAttributeNS(null,"r",X),R.setAttributeNS(null,"fx",W[0]),R.setAttributeNS(null,"fy",W[1]),R.setAttributeNS(null,"fr",Q);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(let O of I){let U=this.svgFactory.createElement("svg:stop");U.setAttributeNS(null,"offset",O[0]),U.setAttributeNS(null,"stop-color",O[1]),R.append(U)}return this.defs.append(R),`url(#${D})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,D){this.current.dashArray=w,this.current.dashPhase=D}constructPath(w,D){let I=this.current,R=I.x,O=I.y,U=[],W=0;for(let G of w)switch(G|0){case r.OPS.rectangle:R=D[W++],O=D[W++];let Q=D[W++],X=D[W++],j=R+Q,H=O+X;U.push("M",f(R),f(O),"L",f(j),f(O),"L",f(j),f(H),"L",f(R),f(H),"Z");break;case r.OPS.moveTo:R=D[W++],O=D[W++],U.push("M",f(R),f(O));break;case r.OPS.lineTo:R=D[W++],O=D[W++],U.push("L",f(R),f(O));break;case r.OPS.curveTo:R=D[W+4],O=D[W+5],U.push("C",f(D[W]),f(D[W+1]),f(D[W+2]),f(D[W+3]),f(R),f(O)),W+=6;break;case r.OPS.curveTo2:U.push("C",f(R),f(O),f(D[W]),f(D[W+1]),f(D[W+2]),f(D[W+3])),R=D[W+2],O=D[W+3],W+=4;break;case r.OPS.curveTo3:R=D[W+2],O=D[W+3],U.push("C",f(D[W]),f(D[W+1]),f(R),f(O),f(R),f(O)),W+=4;break;case r.OPS.closePath:U.push("Z");break}U=U.join(" "),I.path&&w.length>0&&w[0]!==r.OPS.rectangle&&w[0]!==r.OPS.moveTo?U=I.path.getAttributeNS(null,"d")+U:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(I.path)),I.path.setAttributeNS(null,"d",U),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(R,O)}endPath(){let w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}let D=`clippath${y++}`,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",D),I.setAttributeNS(null,"transform",p(this.transformMatrix));let R=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?R.setAttributeNS(null,"clip-rule","evenodd"):R.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,I.append(R),this.defs.append(I),w.activeClipUrl){w.clipGroup=null;for(let O of this.extraStack)O.clipGroup=null;I.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${D})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){let w=this.current;if(w.path){let D=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",D)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(let[D,I]of w)switch(D){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,r.warn)(`Unimplemented graphic state operator ${D}`);break}}fill(){let w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){let w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w,D=1){let I=this.current,R=I.dashArray;D!==1&&R.length>0&&(R=R.map(function(O){return D*O})),w.setAttributeNS(null,"stroke",I.strokeColor),w.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",f(I.miterLimit)),w.setAttributeNS(null,"stroke-linecap",I.lineCap),w.setAttributeNS(null,"stroke-linejoin",I.lineJoin),w.setAttributeNS(null,"stroke-width",f(D*I.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",R.map(f).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",f(D*I.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){let D=this.getObject(w);if(!D){(0,r.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(D)}paintInlineImageXObject(w,D){let I=w.width,R=w.height,O=l(w,this.forceDataSchema,!!D),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",f(I)),U.setAttributeNS(null,"height",f(R)),this.current.element=U,this.clip("nonzero");let W=this.svgFactory.createElement("svg:image");W.setAttributeNS(a,"xlink:href",O),W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y",f(-R)),W.setAttributeNS(null,"width",f(I)+"px"),W.setAttributeNS(null,"height",f(R)+"px"),W.setAttributeNS(null,"transform",`scale(${f(1/I)} ${f(-1/R)})`),D?D.append(W):this._ensureTransformGroup().append(W)}paintImageMaskXObject(w){let D=this.getObject(w.data,w);if(D.bitmap){(0,r.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let I=this.current,R=D.width,O=D.height,U=I.fillColor;I.maskId=`mask${v++}`;let W=this.svgFactory.createElement("svg:mask");W.setAttributeNS(null,"id",I.maskId);let G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y","0"),G.setAttributeNS(null,"width",f(R)),G.setAttributeNS(null,"height",f(O)),G.setAttributeNS(null,"fill",U),G.setAttributeNS(null,"mask",`url(#${I.maskId})`),this.defs.append(W),this._ensureTransformGroup().append(G),this.paintInlineImageXObject(D,W)}paintFormXObjectBegin(w,D){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),D){let I=D[2]-D[0],R=D[3]-D[1],O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x",D[0]),O.setAttributeNS(null,"y",D[1]),O.setAttributeNS(null,"width",f(I)),O.setAttributeNS(null,"height",f(R)),this.current.element=O,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){let D=this.svgFactory.create(w.width,w.height),I=this.svgFactory.createElement("svg:defs");D.append(I),this.defs=I;let R=this.svgFactory.createElement("svg:g");return R.setAttributeNS(null,"transform",p(w.transform)),D.append(R),this.svg=R,D}_ensureClipGroup(){if(!this.current.clipGroup){let w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",p(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=m},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class i{static textContent(r){let s=[],o={items:s,styles:Object.create(null)};function a(h){if(!h)return;let d=null,u=h.name;if(u==="#text")d=h.value;else if(i.shouldBuildText(u))h?.attributes?.textContent?d=h.attributes.textContent:h.value&&(d=h.value);else return;if(d!==null&&s.push({str:d}),!!h.children)for(let l of h.children)a(l)}return a(r),o}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}e.XfaText=i},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=p,e.updateTextLayer=y;var n=i(1),r=i(6);let s=1e5,o=30,a=.8,h=new Map;function d(v,A){let m;if(A&&n.FeatureTest.isOffscreenCanvasSupported)m=new OffscreenCanvas(v,v).getContext("2d",{alpha:!1});else{let b=document.createElement("canvas");b.width=b.height=v,m=b.getContext("2d",{alpha:!1})}return m}function u(v,A){let m=h.get(v);if(m)return m;let b=d(o,A);b.font=`${o}px ${v}`;let w=b.measureText(""),D=w.fontBoundingBoxAscent,I=Math.abs(w.fontBoundingBoxDescent);if(D){let O=D/(D+I);return h.set(v,O),b.canvas.width=b.canvas.height=0,O}b.strokeStyle="red",b.clearRect(0,0,o,o),b.strokeText("g",0,0);let R=b.getImageData(0,0,o,o).data;I=0;for(let O=R.length-1-3;O>=0;O-=4)if(R[O]>0){I=Math.ceil(O/4/o);break}b.clearRect(0,0,o,o),b.strokeText("A",0,o),R=b.getImageData(0,0,o,o).data,D=0;for(let O=0,U=R.length;O<U;O+=4)if(R[O]>0){D=o-Math.floor(O/4/o);break}if(b.canvas.width=b.canvas.height=0,D){let O=D/(D+I);return h.set(v,O),O}return h.set(v,a),a}function l(v,A,m){let b=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:A.str!=="",hasEOL:A.hasEOL,fontSize:0};v._textDivs.push(b);let D=n.Util.transform(v._transform,A.transform),I=Math.atan2(D[1],D[0]),R=m[A.fontName];R.vertical&&(I+=Math.PI/2);let O=Math.hypot(D[2],D[3]),U=O*u(R.fontFamily,v._isOffscreenCanvasSupported),W,G;I===0?(W=D[4],G=D[5]-U):(W=D[4]+U*Math.sin(I),G=D[5]-U*Math.cos(I));let Q="calc(var(--scale-factor)*",X=b.style;v._container===v._rootContainer?(X.left=`${(100*W/v._pageWidth).toFixed(2)}%`,X.top=`${(100*G/v._pageHeight).toFixed(2)}%`):(X.left=`${Q}${W.toFixed(2)}px)`,X.top=`${Q}${G.toFixed(2)}px)`),X.fontSize=`${Q}${O.toFixed(2)}px)`,X.fontFamily=R.fontFamily,w.fontSize=O,b.setAttribute("role","presentation"),b.textContent=A.str,b.dir=A.dir,v._fontInspectorEnabled&&(b.dataset.fontName=A.fontName),I!==0&&(w.angle=I*(180/Math.PI));let j=!1;if(A.str.length>1)j=!0;else if(A.str!==" "&&A.transform[0]!==A.transform[3]){let H=Math.abs(A.transform[0]),P=Math.abs(A.transform[3]);H!==P&&Math.max(H,P)/Math.min(H,P)>1.5&&(j=!0)}j&&(w.canvasWidth=R.vertical?A.height:A.width),v._textDivProperties.set(b,w),v._isReadableStream&&v._layoutText(b)}function c(v){let{div:A,scale:m,properties:b,ctx:w,prevFontSize:D,prevFontFamily:I}=v,{style:R}=A,O="";if(b.canvasWidth!==0&&b.hasText){let{fontFamily:U}=R,{canvasWidth:W,fontSize:G}=b;(D!==G||I!==U)&&(w.font=`${G*m}px ${U}`,v.prevFontSize=G,v.prevFontFamily=U);let{width:Q}=w.measureText(A.textContent);Q>0&&(O=`scaleX(${W*m/Q})`)}b.angle!==0&&(O=`rotate(${b.angle}deg) ${O}`),O.length>0&&(R.transform=O)}function g(v){if(v._canceled)return;let A=v._textDivs,m=v._capability;if(A.length>s){m.resolve();return}if(!v._isReadableStream)for(let w of A)v._layoutText(w);m.resolve()}class f{constructor({textContentSource:A,container:m,viewport:b,textDivs:w,textDivProperties:D,textContentItemsStr:I,isOffscreenCanvasSupported:R}){this._textContentSource=A,this._isReadableStream=A instanceof ReadableStream,this._container=this._rootContainer=m,this._textDivs=w||[],this._textContentItemsStr=I||[],this._isOffscreenCanvasSupported=R,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=D||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:b.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,R)};let{pageWidth:O,pageHeight:U,pageX:W,pageY:G}=b.rawDims;this._transform=[1,0,0,-1,-W,G+U],this._pageWidth=O,this._pageHeight=U,(0,r.setLayerDimensions)(m,b),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(A,m){for(let b of A){if(b.str===void 0){if(b.type==="beginMarkedContentProps"||b.type==="beginMarkedContent"){let w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),b.id!==null&&this._container.setAttribute("id",`${b.id}`),w.append(this._container)}else b.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b.str),l(this,b,m)}}_layoutText(A){let m=this._layoutTextParams.properties=this._textDivProperties.get(A);if(this._layoutTextParams.div=A,c(this._layoutTextParams),m.hasText&&this._container.append(A),m.hasEOL){let b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(){let A=new n.PromiseCapability,m=Object.create(null);if(this._isReadableStream){let b=()=>{this._reader.read().then(({value:w,done:D})=>{if(D){A.resolve();return}Object.assign(m,w.styles),this._processItems(w.items,m),b()},A.reject)};this._reader=this._textContentSource.getReader(),b()}else if(this._textContentSource){let{items:b,styles:w}=this._textContentSource;this._processItems(b,w),A.resolve()}else throw new Error('No "textContentSource" parameter specified.');A.promise.then(()=>{m=null,g(this)},this._capability.reject)}}e.TextLayerRenderTask=f;function p(v){!v.textContentSource&&(v.textContent||v.textContentStream)&&((0,r.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),v.textContentSource=v.textContent||v.textContentStream);let{container:A,viewport:m}=v,b=getComputedStyle(A),w=b.getPropertyValue("visibility"),D=parseFloat(b.getPropertyValue("--scale-factor"));w==="visible"&&(!D||Math.abs(D-m.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let I=new f(v);return I._render(),I}function y({container:v,viewport:A,textDivs:m,textDivProperties:b,isOffscreenCanvasSupported:w,mustRotate:D=!0,mustRescale:I=!0}){if(D&&(0,r.setLayerDimensions)(v,{rotation:A.rotation}),I){let R=d(0,w),U={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:R};for(let W of m)U.properties=b.get(W),U.div=W,c(U)}}},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=i(1),r=i(4),s=i(28),o=i(33),a=i(6),h=i(34);let d=(()=>{class u{#e;#t=!1;#n=null;#i=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#s=new Map;#o=!1;#l=!1;#c=!1;#r;static _initialized=!1;constructor({uiManager:c,pageIndex:g,div:f,accessibilityManager:p,annotationLayer:y,viewport:v,l10n:A}){let m=[s.FreeTextEditor,o.InkEditor,h.StampEditor];if(!u._initialized){u._initialized=!0;for(let b of m)b.initialize(A)}c.registerEditorTypes(m),this.#r=c,this.pageIndex=g,this.div=f,this.#e=p,this.#n=y,this.viewport=v,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}updateToolbar(c){this.#r.updateToolbar(c)}updateMode(c=this.#r.getMode()){this.#p(),c===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),c!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",c===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",c===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",c===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(c){if(!c&&this.#r.getMode()!==n.AnnotationEditorType.INK)return;if(!c){for(let f of this.#s.values())if(f.isEmpty()){f.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(c){this.#r.setEditingState(c)}addCommands(c){this.#r.addCommands(c)}enable(){this.div.style.pointerEvents="auto";let c=new Set;for(let f of this.#s.values())f.enableEditing(),f.annotationElementId&&c.add(f.annotationElementId);if(!this.#n)return;let g=this.#n.getEditableAnnotations();for(let f of g){if(f.hide(),this.#r.isDeletedAnnotationElement(f.data.id)||c.has(f.data.id))continue;let p=this.deserialize(f);p&&(this.addOrRebuild(p),p.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";let c=new Set;for(let g of this.#s.values()){if(g.disableEditing(),!g.annotationElementId||g.serialize()!==null){c.add(g.annotationElementId);continue}this.getEditableAnnotation(g.annotationElementId)?.show(),g.remove()}if(this.#n){let g=this.#n.getEditableAnnotations();for(let f of g){let{id:p}=f.data;c.has(p)||this.#r.isDeletedAnnotationElement(p)||f.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(c){return this.#n?.getEditableAnnotation(c)||null}setActiveEditor(c){this.#r.getActive()!==c&&this.#r.setActiveEditor(c)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#i)}attach(c){this.#s.set(c.id,c);let{annotationElementId:g}=c;g&&this.#r.isDeletedAnnotationElement(g)&&this.#r.removeDeletedAnnotationElement(c)}detach(c){this.#s.delete(c.id),this.#e?.removePointerInTextLayer(c.contentDiv),!this.#c&&c.annotationElementId&&this.#r.addDeletedAnnotationElement(c)}remove(c){this.detach(c),this.#r.removeEditor(c),c.div.contains(document.activeElement)&&setTimeout(()=>{this.#r.focusMainContainer()},0),c.div.remove(),c.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(c){c.parent!==this&&(c.annotationElementId&&(this.#r.addDeletedAnnotationElement(c.annotationElementId),r.AnnotationEditor.deleteAnnotationElement(c),c.annotationElementId=null),this.attach(c),c.parent?.detach(c),c.setParent(this),c.div&&c.isAttachedToDOM&&(c.div.remove(),this.div.append(c.div)))}add(c){if(this.changeParent(c),this.#r.addEditor(c),this.attach(c),!c.isAttachedToDOM){let g=c.render();this.div.append(g),c.isAttachedToDOM=!0}c.fixAndSetPosition(),c.onceAdded(),this.#r.addToAnnotationStorage(c)}moveEditorInDOM(c){if(!c.isAttachedToDOM)return;let{activeElement:g}=document;c.div.contains(g)&&(c._focusEventsAllowed=!1,setTimeout(()=>{c.div.contains(document.activeElement)?c._focusEventsAllowed=!0:(c.div.addEventListener("focusin",()=>{c._focusEventsAllowed=!0},{once:!0}),g.focus())},0)),c._structTreeParentId=this.#e?.moveElementInDOM(this.div,c.div,c.contentDiv,!0)}addOrRebuild(c){c.needsToBeRebuilt()?c.rebuild():this.add(c)}addUndoableEditor(c){let g=()=>c._uiManager.rebuild(c),f=()=>{c.remove()};this.addCommands({cmd:g,undo:f,mustExec:!1})}getNextId(){return this.#r.getId()}#u(c){switch(this.#r.getMode()){case n.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(c);case n.AnnotationEditorType.INK:return new o.InkEditor(c);case n.AnnotationEditorType.STAMP:return new h.StampEditor(c)}return null}pasteEditor(c,g){this.#r.updateToolbar(c),this.#r.updateMode(c);let{offsetX:f,offsetY:p}=this.#f(),y=this.getNextId(),v=this.#u(ue({parent:this,id:y,x:f,y:p,uiManager:this.#r,isCentered:!0},g));v&&this.add(v)}deserialize(c){switch(c.annotationType??c.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(c,this,this.#r);case n.AnnotationEditorType.INK:return o.InkEditor.deserialize(c,this,this.#r);case n.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(c,this,this.#r)}return null}#d(c,g){let f=this.getNextId(),p=this.#u({parent:this,id:f,x:c.offsetX,y:c.offsetY,uiManager:this.#r,isCentered:g});return p&&this.add(p),p}#f(){let{x:c,y:g,width:f,height:p}=this.div.getBoundingClientRect(),y=Math.max(0,c),v=Math.max(0,g),A=Math.min(window.innerWidth,c+f),m=Math.min(window.innerHeight,g+p),b=(y+A)/2-c,w=(v+m)/2-g,[D,I]=this.viewport.rotation%180===0?[b,w]:[w,b];return{offsetX:D,offsetY:I}}addNewEditor(){this.#d(this.#f(),!0)}setSelected(c){this.#r.setSelected(c)}toggleSelected(c){this.#r.toggleSelected(c)}isSelected(c){return this.#r.isSelected(c)}unselect(c){this.#r.unselect(c)}pointerup(c){let{isMac:g}=n.FeatureTest.platform;if(!(c.button!==0||c.ctrlKey&&g)&&c.target===this.div&&this.#o){if(this.#o=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===n.AnnotationEditorType.STAMP){this.#r.unselectAll();return}this.#d(c,!1)}}pointerdown(c){if(this.#o){this.#o=!1;return}let{isMac:g}=n.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&g||c.target!==this.div)return;this.#o=!0;let f=this.#r.getActive();this.#t=!f||f.isEmpty()}findNewParent(c,g,f){let p=this.#r.findParent(g,f);return p===null||p===this?!1:(p.changeParent(c),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null));for(let c of this.#s.values())this.#e?.removePointerInTextLayer(c.contentDiv),c.setParent(null),c.isAttachedToDOM=!1,c.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#p(){this.#l=!0;for(let c of this.#s.values())c.isEmpty()&&c.remove();this.#l=!1}render({viewport:c}){this.viewport=c,(0,a.setLayerDimensions)(this.div,c);for(let g of this.#r.getEditors(this.pageIndex))this.add(g);this.updateMode()}update({viewport:c}){this.#r.commitOrRemove(),this.viewport=c,(0,a.setLayerDimensions)(this.div,{rotation:c.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:c,pageHeight:g}=this.viewport.rawDims;return[c,g]}}return u})();e.AnnotationEditorLayer=d},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=i(1),r=i(5),s=i(4),o=i(29);let a=(()=>{class h extends s.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#a;#s="";#o=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let u=h.prototype,l=f=>f.isEmpty(),c=r.AnnotationEditorUIManager.TRANSLATE_SMALL,g=r.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new r.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],u.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],u.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],u._translateEmpty,{args:[-c,0],checker:l}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],u._translateEmpty,{args:[-g,0],checker:l}],[["ArrowRight","mac+ArrowRight"],u._translateEmpty,{args:[c,0],checker:l}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],u._translateEmpty,{args:[g,0],checker:l}],[["ArrowUp","mac+ArrowUp"],u._translateEmpty,{args:[0,-c],checker:l}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],u._translateEmpty,{args:[0,-g],checker:l}],[["ArrowDown","mac+ArrowDown"],u._translateEmpty,{args:[0,c],checker:l}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],u._translateEmpty,{args:[0,g],checker:l}]]))}static _type="freetext";constructor(u){super(Fe(ue({},u),{name:"freeTextEditor"})),this.#a=u.color||h._defaultColor||s.AnnotationEditor._defaultLineColor,this.#l=u.fontSize||h._defaultFontSize}static initialize(u){s.AnnotationEditor.initialize(u,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let l=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(l.getPropertyValue("--freetext-padding"))}static updateDefaultParams(u,l){switch(u){case n.AnnotationEditorParamsType.FREETEXT_SIZE:h._defaultFontSize=l;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:h._defaultColor=l;break}}updateParams(u,l){switch(u){case n.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(l);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:this.#u(l);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,h._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,h._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[n.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#r(u){let l=g=>{this.editorDiv.style.fontSize=`calc(${g}px * var(--scale-factor))`,this.translate(0,-(g-this.#l)*this.parentScale),this.#l=g,this.#f()},c=this.#l;this.addCommands({cmd:()=>{l(u)},undo:()=>{l(c)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#u(u){let l=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=u},undo:()=>{this.#a=this.editorDiv.style.color=l},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(u,l){this._uiManager.translateSelectedEditors(u,l,!0)}getInitialTranslation(){let u=this.parentScale;return[-h._internalPadding*u,-(h._internalPadding+this.#l)*u]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),u.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){let u=this.editorDiv.getElementsByTagName("div");if(u.length===0)return this.editorDiv.innerText;let l=[];for(let c of u)l.push(c.innerText.replace(/\r\n?|\n/,""));return l.join(`
`)}#f(){let[u,l]=this.parentDimensions,c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{let{currentLayer:g,div:f}=this,p=f.style.display;f.style.display="hidden",g.div.append(this.div),c=f.getBoundingClientRect(),f.remove(),f.style.display=p}this.rotation%180===this.parentRotation%180?(this.width=c.width/u,this.height=c.height/l):(this.width=c.height/u,this.height=c.width/l),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let u=this.#s,l=this.#s=this.#d().trimEnd();if(u===l)return;let c=g=>{if(this.#s=g,!g){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#f()};this.addCommands({cmd:()=>{c(l)},undo:()=>{c(u)},mustExec:!1}),this.#f()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(u){this.enterInEditMode()}keydown(u){u.target===this.div&&u.key==="Enter"&&(this.enterInEditMode(),u.preventDefault())}editorDivKeydown(u){h._keyboardManager.exec(this,u)}editorDivFocus(u){this.isEditing=!0}editorDivBlur(u){this.isEditing=!1}editorDivInput(u){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let u,l;this.width&&(u=this.x,l=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.enableEditing(),s.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(g=>this.editorDiv?.setAttribute("aria-label",g)),s.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(g=>this.editorDiv?.setAttribute("default-content",g)),this.editorDiv.contentEditable=!0;let{style:c}=this.editorDiv;if(c.fontSize=`calc(${this.#l}px * var(--scale-factor))`,c.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[g,f]=this.parentDimensions;if(this.annotationElementId){let{position:p}=this.#c,[y,v]=this.getInitialTranslation();[y,v]=this.pageTranslationToScreen(y,v);let[A,m]=this.pageDimensions,[b,w]=this.pageTranslation,D,I;switch(this.rotation){case 0:D=u+(p[0]-b)/A,I=l+this.height-(p[1]-w)/m;break;case 90:D=u+(p[0]-b)/A,I=l-(p[1]-w)/m,[y,v]=[v,-y];break;case 180:D=u-this.width+(p[0]-b)/A,I=l-(p[1]-w)/m,[y,v]=[-y,-v];break;case 270:D=u+(p[0]-b-this.height*m)/A,I=l+(p[1]-w-this.width*A)/m,[y,v]=[-v,y];break}this.setAt(D*g,I*f,y,v)}else this.setAt(u*g,l*f,this.width*g,this.height*f);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#s)for(let u of this.#s.split(`
`)){let l=document.createElement("div");l.append(u?document.createTextNode(u):document.createElement("br")),this.editorDiv.append(l)}}get contentDiv(){return this.editorDiv}static deserialize(u,l,c){let g=null;if(u instanceof o.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:p,fontColor:y},rect:v,rotation:A,id:m},textContent:b,textPosition:w,parent:{page:{pageNumber:D}}}=u;if(!b||b.length===0)return null;g=u={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(y),fontSize:p,value:b.join(`
`),position:w,pageIndex:D-1,rect:v,rotation:A,id:m,deleted:!1}}let f=super.deserialize(u,l,c);return f.#l=u.fontSize,f.#a=n.Util.makeHexColor(...u.color),f.#s=u.value,f.annotationElementId=u.id||null,f.#c=g,f}serialize(u=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let l=h._internalPadding*this.parentScale,c=this.getRect(l,l),g=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),f={annotationType:n.AnnotationEditorType.FREETEXT,color:g,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return u?f:this.annotationElementId&&!this.#g(f)?null:(f.id=this.annotationElementId,f)}#g(u){let{value:l,fontSize:c,color:g,rect:f,pageIndex:p}=this.#c;return u.value!==l||u.fontSize!==c||u.rect.some((y,v)=>Math.abs(y-f[v])>=1)||u.color.some((y,v)=>y!==g[v])||u.pageIndex!==p}#m(u=!1){if(!this.annotationElementId)return;if(this.#f(),!u&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}let l=h._internalPadding*this.parentScale;this.#c.rect=this.getRect(l,l)}}return h})();e.FreeTextEditor=a},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var n=i(1),r=i(6),s=i(3),o=i(30),a=i(31),h=i(32);let d=1e3,u=9,l=new WeakSet;function c(F){return{width:F[2]-F[0],height:F[3]-F[1]}}class g{static create(E){switch(E.data.annotationType){case n.AnnotationType.LINK:return new p(E);case n.AnnotationType.TEXT:return new y(E);case n.AnnotationType.WIDGET:switch(E.data.fieldType){case"Tx":return new A(E);case"Btn":return E.data.radioButton?new w(E):E.data.checkBox?new b(E):new D(E);case"Ch":return new I(E);case"Sig":return new m(E)}return new v(E);case n.AnnotationType.POPUP:return new R(E);case n.AnnotationType.FREETEXT:return new U(E);case n.AnnotationType.LINE:return new W(E);case n.AnnotationType.SQUARE:return new G(E);case n.AnnotationType.CIRCLE:return new Q(E);case n.AnnotationType.POLYLINE:return new X(E);case n.AnnotationType.CARET:return new H(E);case n.AnnotationType.INK:return new P(E);case n.AnnotationType.POLYGON:return new j(E);case n.AnnotationType.HIGHLIGHT:return new _(E);case n.AnnotationType.UNDERLINE:return new C(E);case n.AnnotationType.SQUIGGLY:return new S(E);case n.AnnotationType.STRIKEOUT:return new M(E);case n.AnnotationType.STAMP:return new L(E);case n.AnnotationType.FILEATTACHMENT:return new N(E);default:return new f(E)}}}class f{#e=!1;constructor(E,{isRenderable:x=!1,ignoreBorder:T=!1,createQuadrilaterals:k=!1}={}){this.isRenderable=x,this.data=E.data,this.layer=E.layer,this.linkService=E.linkService,this.downloadManager=E.downloadManager,this.imageResourcesPath=E.imageResourcesPath,this.renderForms=E.renderForms,this.svgFactory=E.svgFactory,this.annotationStorage=E.annotationStorage,this.enableScripting=E.enableScripting,this.hasJSActions=E.hasJSActions,this._fieldObjects=E.fieldObjects,this.parent=E.parent,x&&(this.container=this._createContainer(T)),k&&this._createQuadrilaterals()}static _hasPopupData({titleObj:E,contentsObj:x,richText:T}){return!!(E?.str||x?.str||T?.str)}get hasPopupData(){return f._hasPopupData(this.data)}_createContainer(E){let{data:x,parent:{page:T,viewport:k}}=this,B=document.createElement("section");B.setAttribute("data-annotation-id",x.id),this instanceof v||(B.tabIndex=d),B.style.zIndex=this.parent.zIndex++,this.data.popupRef&&B.setAttribute("aria-haspopup","dialog"),x.noRotate&&B.classList.add("norotate");let{pageWidth:$,pageHeight:q,pageX:ne,pageY:Z}=k.rawDims;if(!x.rect||this instanceof R){let{rotation:ie}=x;return!x.hasOwnCanvas&&ie!==0&&this.setRotation(ie,B),B}let{width:z,height:K}=c(x.rect),Y=n.Util.normalizeRect([x.rect[0],T.view[3]-x.rect[1]+T.view[1],x.rect[2],T.view[3]-x.rect[3]+T.view[1]]);if(!E&&x.borderStyle.width>0){B.style.borderWidth=`${x.borderStyle.width}px`;let ie=x.borderStyle.horizontalCornerRadius,se=x.borderStyle.verticalCornerRadius;if(ie>0||se>0){let de=`calc(${ie}px * var(--scale-factor)) / calc(${se}px * var(--scale-factor))`;B.style.borderRadius=de}else if(this instanceof w){let de=`calc(${z}px * var(--scale-factor)) / calc(${K}px * var(--scale-factor))`;B.style.borderRadius=de}switch(x.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:B.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:B.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:B.style.borderBottomStyle="solid";break;default:break}let le=x.borderColor||null;le?(this.#e=!0,B.style.borderColor=n.Util.makeHexColor(le[0]|0,le[1]|0,le[2]|0)):B.style.borderWidth=0}B.style.left=`${100*(Y[0]-ne)/$}%`,B.style.top=`${100*(Y[1]-Z)/q}%`;let{rotation:J}=x;return x.hasOwnCanvas||J===0?(B.style.width=`${100*z/$}%`,B.style.height=`${100*K/q}%`):this.setRotation(J,B),B}setRotation(E,x=this.container){if(!this.data.rect)return;let{pageWidth:T,pageHeight:k}=this.parent.viewport.rawDims,{width:B,height:$}=c(this.data.rect),q,ne;E%180===0?(q=100*B/T,ne=100*$/k):(q=100*$/T,ne=100*B/k),x.style.width=`${q}%`,x.style.height=`${ne}%`,x.setAttribute("data-main-rotation",(360-E)%360)}get _commonActions(){let E=(x,T,k)=>{let B=k.detail[x],$=B[0],q=B.slice(1);k.target.style[T]=o.ColorConverters[`${$}_HTML`](q),this.annotationStorage.setValue(this.data.id,{[T]:o.ColorConverters[`${$}_rgb`](q)})};return(0,n.shadow)(this,"_commonActions",{display:x=>{let{display:T}=x.detail,k=T%2===1;this.container.style.visibility=k?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:k,noPrint:T===1||T===2})},print:x=>{this.annotationStorage.setValue(this.data.id,{noPrint:!x.detail.print})},hidden:x=>{let{hidden:T}=x.detail;this.container.style.visibility=T?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:T,noView:T})},focus:x=>{setTimeout(()=>x.target.focus({preventScroll:!1}),0)},userName:x=>{x.target.title=x.detail.userName},readonly:x=>{x.target.disabled=x.detail.readonly},required:x=>{this._setRequired(x.target,x.detail.required)},bgColor:x=>{E("bgColor","backgroundColor",x)},fillColor:x=>{E("fillColor","backgroundColor",x)},fgColor:x=>{E("fgColor","color",x)},textColor:x=>{E("textColor","color",x)},borderColor:x=>{E("borderColor","borderColor",x)},strokeColor:x=>{E("strokeColor","borderColor",x)},rotation:x=>{let T=x.detail.rotation;this.setRotation(T),this.annotationStorage.setValue(this.data.id,{rotation:T})}})}_dispatchEventFromSandbox(E,x){let T=this._commonActions;for(let k of Object.keys(x.detail))(E[k]||T[k])?.(x)}_setDefaultPropertiesFromJS(E){if(!this.enableScripting)return;let x=this.annotationStorage.getRawValue(this.data.id);if(!x)return;let T=this._commonActions;for(let[k,B]of Object.entries(x)){let $=T[k];if($){let q={detail:{[k]:B},target:E};$(q),delete x[k]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:E}=this.data;if(!E)return;let[x,T,k,B]=this.data.rect;if(E.length===1){let[,{x:se,y:le},{x:de,y:he}]=E[0];if(k===se&&B===le&&x===de&&T===he)return}let{style:$}=this.container,q;if(this.#e){let{borderColor:se,borderWidth:le}=$;$.borderWidth=0,q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${se}" stroke-width="${le}">`],this.container.classList.add("hasBorder")}let ne=k-x,Z=B-T,{svgFactory:z}=this,K=z.createElement("svg");K.classList.add("quadrilateralsContainer"),K.setAttribute("width",0),K.setAttribute("height",0);let Y=z.createElement("defs");K.append(Y);let J=z.createElement("clipPath"),ie=`clippath_${this.data.id}`;J.setAttribute("id",ie),J.setAttribute("clipPathUnits","objectBoundingBox"),Y.append(J);for(let[,{x:se,y:le},{x:de,y:he}]of E){let ve=z.createElement("rect"),Pe=(de-x)/ne,ft=(B-le)/Z,it=(se-de)/ne,Nt=(le-he)/Z;ve.setAttribute("x",Pe),ve.setAttribute("y",ft),ve.setAttribute("width",it),ve.setAttribute("height",Nt),J.append(ve),q?.push(`<rect vector-effect="non-scaling-stroke" x="${Pe}" y="${ft}" width="${it}" height="${Nt}"/>`)}this.#e&&(q.push("</g></svg>')"),$.backgroundImage=q.join("")),this.container.append(K),this.container.style.clipPath=`url(#${ie})`}_createPopup(){let{container:E,data:x}=this;E.setAttribute("aria-haspopup","dialog");let T=new R({data:{color:x.color,titleObj:x.titleObj,modificationDate:x.modificationDate,contentsObj:x.contentsObj,richText:x.richText,parentRect:x.rect,borderStyle:0,id:`popup_${x.id}`,rotation:x.rotation},parent:this.parent,elements:[this]});this.parent.div.append(T.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(E,x=null){let T=[];if(this._fieldObjects){let k=this._fieldObjects[E];if(k)for(let{page:B,id:$,exportValues:q}of k){if(B===-1||$===x)continue;let ne=typeof q=="string"?q:null,Z=document.querySelector(`[data-element-id="${$}"]`);if(Z&&!l.has(Z)){(0,n.warn)(`_getElementsByName - element not allowed: ${$}`);continue}T.push({id:$,exportValue:ne,domElement:Z})}return T}for(let k of document.getElementsByName(E)){let{exportValue:B}=k,$=k.getAttribute("data-element-id");$!==x&&l.has(k)&&T.push({id:$,exportValue:B,domElement:k})}return T}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let E=this.getElementsToTriggerPopup();if(Array.isArray(E))for(let x of E)x.classList.add("highlightArea");else E.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:E,data:{id:x}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:E,editId:x})})}}class p extends f{constructor(E,x=null){super(E,{isRenderable:!0,ignoreBorder:!!x?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=E.data.isTooltipOnly}render(){let{data:E,linkService:x}=this,T=document.createElement("a");T.setAttribute("data-element-id",E.id);let k=!1;return E.url?(x.addLinkAttributes(T,E.url,E.newWindow),k=!0):E.action?(this._bindNamedAction(T,E.action),k=!0):E.attachment?(this._bindAttachment(T,E.attachment),k=!0):E.setOCGState?(this.#t(T,E.setOCGState),k=!0):E.dest?(this._bindLink(T,E.dest),k=!0):(E.actions&&(E.actions.Action||E.actions["Mouse Up"]||E.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(T,E),k=!0),E.resetForm?(this._bindResetFormAction(T,E.resetForm),k=!0):this.isTooltipOnly&&!k&&(this._bindLink(T,""),k=!0)),this.container.classList.add("linkAnnotation"),k&&this.container.append(T),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(E,x){E.href=this.linkService.getDestinationHash(x),E.onclick=()=>(x&&this.linkService.goToDestination(x),!1),(x||x==="")&&this.#e()}_bindNamedAction(E,x){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeNamedAction(x),!1),this.#e()}_bindAttachment(E,x){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,x.content,x.filename),!1),this.#e()}#t(E,x){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeSetOCGState(x),!1),this.#e()}_bindJSAction(E,x){E.href=this.linkService.getAnchorUrl("");let T=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let k of Object.keys(x.actions)){let B=T.get(k);B&&(E[B]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x.id,name:k}}),!1))}E.onclick||(E.onclick=()=>!1),this.#e()}_bindResetFormAction(E,x){let T=E.onclick;if(T||(E.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),T||(E.onclick=()=>!1);return}E.onclick=()=>{T?.();let{fields:k,refs:B,include:$}=x,q=[];if(k.length!==0||B.length!==0){let z=new Set(B);for(let K of k){let Y=this._fieldObjects[K]||[];for(let{id:J}of Y)z.add(J)}for(let K of Object.values(this._fieldObjects))for(let Y of K)z.has(Y.id)===$&&q.push(Y)}else for(let z of Object.values(this._fieldObjects))q.push(...z);let ne=this.annotationStorage,Z=[];for(let z of q){let{id:K}=z;switch(Z.push(K),z.type){case"text":{let J=z.defaultValue||"";ne.setValue(K,{value:J});break}case"checkbox":case"radiobutton":{let J=z.defaultValue===z.exportValues;ne.setValue(K,{value:J});break}case"combobox":case"listbox":{let J=z.defaultValue||"";ne.setValue(K,{value:J});break}default:continue}let Y=document.querySelector(`[data-element-id="${K}"]`);if(Y){if(!l.has(Y)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${K}`);continue}}else continue;Y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Z,name:"ResetForm"}}),!1}}}class y extends f{constructor(E){super(E,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let E=document.createElement("img");return E.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",E.alt="[{{type}} Annotation]",E.dataset.l10nId="text_annotation_type",E.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(E),this.container}}class v extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(E){this.data.hasOwnCanvas&&(E.previousSibling?.nodeName==="CANVAS"&&(E.previousSibling.hidden=!0),E.hidden=!1)}_getKeyModifier(E){let{isWin:x,isMac:T}=n.FeatureTest.platform;return x&&E.ctrlKey||T&&E.metaKey}_setEventListener(E,x,T,k,B){T.includes("mouse")?E.addEventListener(T,$=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:k,value:B($),shift:$.shiftKey,modifier:this._getKeyModifier($)}})}):E.addEventListener(T,$=>{if(T==="blur"){if(!x.focused||!$.relatedTarget)return;x.focused=!1}else if(T==="focus"){if(x.focused)return;x.focused=!0}B&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:k,value:B($)}})})}_setEventListeners(E,x,T,k){for(let[B,$]of T)($==="Action"||this.data.actions?.[$])&&(($==="Focus"||$==="Blur")&&(x||={focused:!1}),this._setEventListener(E,x,B,$,k),$==="Focus"&&!this.data.actions?.Blur?this._setEventListener(E,x,"blur","Blur",null):$==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(E,x,"focus","Focus",null))}_setBackgroundColor(E){let x=this.data.backgroundColor||null;E.style.backgroundColor=x===null?"transparent":n.Util.makeHexColor(x[0],x[1],x[2])}_setTextStyle(E){let x=["left","center","right"],{fontColor:T}=this.data.defaultAppearanceData,k=this.data.defaultAppearanceData.fontSize||u,B=E.style,$,q=2,ne=Z=>Math.round(10*Z)/10;if(this.data.multiLine){let Z=Math.abs(this.data.rect[3]-this.data.rect[1]-q),z=Math.round(Z/(n.LINE_FACTOR*k))||1,K=Z/z;$=Math.min(k,ne(K/n.LINE_FACTOR))}else{let Z=Math.abs(this.data.rect[3]-this.data.rect[1]-q);$=Math.min(k,ne(Z/n.LINE_FACTOR))}B.fontSize=`calc(${$}px * var(--scale-factor))`,B.color=n.Util.makeHexColor(T[0],T[1],T[2]),this.data.textAlignment!==null&&(B.textAlign=x[this.data.textAlignment])}_setRequired(E,x){x?E.setAttribute("required",!0):E.removeAttribute("required"),E.setAttribute("aria-required",x)}}class A extends v{constructor(E){let x=E.renderForms||!E.data.hasAppearance&&!!E.data.fieldValue;super(E,{isRenderable:x})}setPropertyOnSiblings(E,x,T,k){let B=this.annotationStorage;for(let $ of this._getElementsByName(E.name,E.id))$.domElement&&($.domElement[x]=T),B.setValue($.id,{[k]:T})}render(){let E=this.annotationStorage,x=this.data.id;this.container.classList.add("textWidgetAnnotation");let T=null;if(this.renderForms){let k=E.getValue(x,{value:this.data.fieldValue}),B=k.value||"",$=E.getValue(x,{charLimit:this.data.maxLen}).charLimit;$&&B.length>$&&(B=B.slice(0,$));let q=k.formattedValue||this.data.textContent?.join(`
`)||null;q&&this.data.comb&&(q=q.replaceAll(/\s+/g,""));let ne={userValue:B,formattedValue:q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(T=document.createElement("textarea"),T.textContent=q??B,this.data.doNotScroll&&(T.style.overflowY="hidden")):(T=document.createElement("input"),T.type="text",T.setAttribute("value",q??B),this.data.doNotScroll&&(T.style.overflowX="hidden")),this.data.hasOwnCanvas&&(T.hidden=!0),l.add(T),T.setAttribute("data-element-id",x),T.disabled=this.data.readOnly,T.name=this.data.fieldName,T.tabIndex=d,this._setRequired(T,this.data.required),$&&(T.maxLength=$),T.addEventListener("input",z=>{E.setValue(x,{value:z.target.value}),this.setPropertyOnSiblings(T,"value",z.target.value,"value"),ne.formattedValue=null}),T.addEventListener("resetform",z=>{let K=this.data.defaultFieldValue??"";T.value=ne.userValue=K,ne.formattedValue=null});let Z=z=>{let{formattedValue:K}=ne;K!=null&&(z.target.value=K),z.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){T.addEventListener("focus",K=>{if(ne.focused)return;let{target:Y}=K;ne.userValue&&(Y.value=ne.userValue),ne.lastCommittedValue=Y.value,ne.commitKey=1,ne.focused=!0}),T.addEventListener("updatefromsandbox",K=>{this.showElementAndHideCanvas(K.target);let Y={value(J){ne.userValue=J.detail.value??"",E.setValue(x,{value:ne.userValue.toString()}),J.target.value=ne.userValue},formattedValue(J){let{formattedValue:ie}=J.detail;ne.formattedValue=ie,ie!=null&&J.target!==document.activeElement&&(J.target.value=ie),E.setValue(x,{formattedValue:ie})},selRange(J){J.target.setSelectionRange(...J.detail.selRange)},charLimit:J=>{let{charLimit:ie}=J.detail,{target:se}=J;if(ie===0){se.removeAttribute("maxLength");return}se.setAttribute("maxLength",ie);let le=ne.userValue;!le||le.length<=ie||(le=le.slice(0,ie),se.value=ne.userValue=le,E.setValue(x,{value:le}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:le,willCommit:!0,commitKey:1,selStart:se.selectionStart,selEnd:se.selectionEnd}}))}};this._dispatchEventFromSandbox(Y,K)}),T.addEventListener("keydown",K=>{ne.commitKey=1;let Y=-1;if(K.key==="Escape"?Y=0:K.key==="Enter"&&!this.data.multiLine?Y=2:K.key==="Tab"&&(ne.commitKey=3),Y===-1)return;let{value:J}=K.target;ne.lastCommittedValue!==J&&(ne.lastCommittedValue=J,ne.userValue=J,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:J,willCommit:!0,commitKey:Y,selStart:K.target.selectionStart,selEnd:K.target.selectionEnd}}))});let z=Z;Z=null,T.addEventListener("blur",K=>{if(!ne.focused||!K.relatedTarget)return;ne.focused=!1;let{value:Y}=K.target;ne.userValue=Y,ne.lastCommittedValue!==Y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:Y,willCommit:!0,commitKey:ne.commitKey,selStart:K.target.selectionStart,selEnd:K.target.selectionEnd}}),z(K)}),this.data.actions?.Keystroke&&T.addEventListener("beforeinput",K=>{ne.lastCommittedValue=null;let{data:Y,target:J}=K,{value:ie,selectionStart:se,selectionEnd:le}=J,de=se,he=le;switch(K.inputType){case"deleteWordBackward":{let ve=ie.substring(0,se).match(/\w*[^\w]*$/);ve&&(de-=ve[0].length);break}case"deleteWordForward":{let ve=ie.substring(se).match(/^[^\w]*\w*/);ve&&(he+=ve[0].length);break}case"deleteContentBackward":se===le&&(de-=1);break;case"deleteContentForward":se===le&&(he+=1);break}K.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ie,change:Y||"",willCommit:!1,selStart:de,selEnd:he}})}),this._setEventListeners(T,ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.value)}if(Z&&T.addEventListener("blur",Z),this.data.comb){let K=(this.data.rect[2]-this.data.rect[0])/$;T.classList.add("comb"),T.style.letterSpacing=`calc(${K}px * var(--scale-factor) - 1ch)`}}else T=document.createElement("div"),T.textContent=this.data.fieldValue,T.style.verticalAlign="middle",T.style.display="table-cell";return this._setTextStyle(T),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.append(T),this.container}}class m extends v{constructor(E){super(E,{isRenderable:!!E.data.hasOwnCanvas})}}class b extends v{constructor(E){super(E,{isRenderable:E.renderForms})}render(){let E=this.annotationStorage,x=this.data,T=x.id,k=E.getValue(T,{value:x.exportValue===x.fieldValue}).value;typeof k=="string"&&(k=k!=="Off",E.setValue(T,{value:k})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let B=document.createElement("input");return l.add(B),B.setAttribute("data-element-id",T),B.disabled=x.readOnly,this._setRequired(B,this.data.required),B.type="checkbox",B.name=x.fieldName,k&&B.setAttribute("checked",!0),B.setAttribute("exportValue",x.exportValue),B.tabIndex=d,B.addEventListener("change",$=>{let{name:q,checked:ne}=$.target;for(let Z of this._getElementsByName(q,T)){let z=ne&&Z.exportValue===x.exportValue;Z.domElement&&(Z.domElement.checked=z),E.setValue(Z.id,{value:z})}E.setValue(T,{value:ne})}),B.addEventListener("resetform",$=>{let q=x.defaultFieldValue||"Off";$.target.checked=q===x.exportValue}),this.enableScripting&&this.hasJSActions&&(B.addEventListener("updatefromsandbox",$=>{let q={value(ne){ne.target.checked=ne.detail.value!=="Off",E.setValue(T,{value:ne.target.checked})}};this._dispatchEventFromSandbox(q,$)}),this._setEventListeners(B,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.checked)),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class w extends v{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let E=this.annotationStorage,x=this.data,T=x.id,k=E.getValue(T,{value:x.fieldValue===x.buttonValue}).value;typeof k=="string"&&(k=k!==x.buttonValue,E.setValue(T,{value:k}));let B=document.createElement("input");if(l.add(B),B.setAttribute("data-element-id",T),B.disabled=x.readOnly,this._setRequired(B,this.data.required),B.type="radio",B.name=x.fieldName,k&&B.setAttribute("checked",!0),B.tabIndex=d,B.addEventListener("change",$=>{let{name:q,checked:ne}=$.target;for(let Z of this._getElementsByName(q,T))E.setValue(Z.id,{value:!1});E.setValue(T,{value:ne})}),B.addEventListener("resetform",$=>{let q=x.defaultFieldValue;$.target.checked=q!=null&&q===x.buttonValue}),this.enableScripting&&this.hasJSActions){let $=x.buttonValue;B.addEventListener("updatefromsandbox",q=>{let ne={value:Z=>{let z=$===Z.detail.value;for(let K of this._getElementsByName(Z.target.name)){let Y=z&&K.id===T;K.domElement&&(K.domElement.checked=Y),E.setValue(K.id,{value:Y})}}};this._dispatchEventFromSandbox(ne,q)}),this._setEventListeners(B,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)}return this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class D extends p{constructor(E){super(E,{ignoreBorder:E.data.hasAppearance})}render(){let E=super.render();E.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(E.title=this.data.alternativeText);let x=E.lastChild;return this.enableScripting&&this.hasJSActions&&x&&(this._setDefaultPropertiesFromJS(x),x.addEventListener("updatefromsandbox",T=>{this._dispatchEventFromSandbox({},T)})),E}}class I extends v{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let E=this.annotationStorage,x=this.data.id,T=E.getValue(x,{value:this.data.fieldValue}),k=document.createElement("select");l.add(k),k.setAttribute("data-element-id",x),k.disabled=this.data.readOnly,this._setRequired(k,this.data.required),k.name=this.data.fieldName,k.tabIndex=d;let B=this.data.combo&&this.data.options.length>0;this.data.combo||(k.size=this.data.options.length,this.data.multiSelect&&(k.multiple=!0)),k.addEventListener("resetform",z=>{let K=this.data.defaultFieldValue;for(let Y of k.options)Y.selected=Y.value===K});for(let z of this.data.options){let K=document.createElement("option");K.textContent=z.displayValue,K.value=z.exportValue,T.value.includes(z.exportValue)&&(K.setAttribute("selected",!0),B=!1),k.append(K)}let $=null;if(B){let z=document.createElement("option");z.value=" ",z.setAttribute("hidden",!0),z.setAttribute("selected",!0),k.prepend(z),$=()=>{z.remove(),k.removeEventListener("input",$),$=null},k.addEventListener("input",$)}let q=z=>{let K=z?"value":"textContent",{options:Y,multiple:J}=k;return J?Array.prototype.filter.call(Y,ie=>ie.selected).map(ie=>ie[K]):Y.selectedIndex===-1?null:Y[Y.selectedIndex][K]},ne=q(!1),Z=z=>{let K=z.target.options;return Array.prototype.map.call(K,Y=>({displayValue:Y.textContent,exportValue:Y.value}))};return this.enableScripting&&this.hasJSActions?(k.addEventListener("updatefromsandbox",z=>{let K={value(Y){$?.();let J=Y.detail.value,ie=new Set(Array.isArray(J)?J:[J]);for(let se of k.options)se.selected=ie.has(se.value);E.setValue(x,{value:q(!0)}),ne=q(!1)},multipleSelection(Y){k.multiple=!0},remove(Y){let J=k.options,ie=Y.detail.remove;J[ie].selected=!1,k.remove(ie),J.length>0&&Array.prototype.findIndex.call(J,le=>le.selected)===-1&&(J[0].selected=!0),E.setValue(x,{value:q(!0),items:Z(Y)}),ne=q(!1)},clear(Y){for(;k.length!==0;)k.remove(0);E.setValue(x,{value:null,items:[]}),ne=q(!1)},insert(Y){let{index:J,displayValue:ie,exportValue:se}=Y.detail.insert,le=k.children[J],de=document.createElement("option");de.textContent=ie,de.value=se,le?le.before(de):k.append(de),E.setValue(x,{value:q(!0),items:Z(Y)}),ne=q(!1)},items(Y){let{items:J}=Y.detail;for(;k.length!==0;)k.remove(0);for(let ie of J){let{displayValue:se,exportValue:le}=ie,de=document.createElement("option");de.textContent=se,de.value=le,k.append(de)}k.options.length>0&&(k.options[0].selected=!0),E.setValue(x,{value:q(!0),items:Z(Y)}),ne=q(!1)},indices(Y){let J=new Set(Y.detail.indices);for(let ie of Y.target.options)ie.selected=J.has(ie.index);E.setValue(x,{value:q(!0)}),ne=q(!1)},editable(Y){Y.target.disabled=!Y.detail.editable}};this._dispatchEventFromSandbox(K,z)}),k.addEventListener("input",z=>{let K=q(!0);E.setValue(x,{value:K}),z.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ne,changeEx:K,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(k,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],z=>z.target.value)):k.addEventListener("input",function(z){E.setValue(x,{value:q(!0)})}),this.data.combo&&this._setTextStyle(k),this._setBackgroundColor(k),this._setDefaultPropertiesFromJS(k),this.container.append(k),this.container}}class R extends f{constructor(E){let{data:x,elements:T}=E;super(E,{isRenderable:f._hasPopupData(x)}),this.elements=T}render(){this.container.classList.add("popupAnnotation");let E=new O({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),x=[];for(let T of this.elements)T.popup=E,x.push(T.data.id),T.addHighlightArea();return this.container.setAttribute("aria-controls",x.map(T=>`${n.AnnotationPrefix}${T}`).join(",")),this.container}}class O{#e=null;#t=this.#h.bind(this);#n=this.#_.bind(this);#i=this.#A.bind(this);#a=this.#y.bind(this);#s=null;#o=null;#l=null;#c=null;#r=null;#u=null;#d=!1;#f=null;#p=null;#g=null;#m=null;#v=!1;constructor({container:E,color:x,elements:T,titleObj:k,modificationDate:B,contentsObj:$,richText:q,parent:ne,rect:Z,parentRect:z,open:K}){this.#o=E,this.#m=k,this.#l=$,this.#g=q,this.#r=ne,this.#s=x,this.#p=Z,this.#u=z,this.#c=T;let Y=r.PDFDateString.toDateObject(B);Y&&(this.#e=ne.l10n.get("annotation_date_string",{date:Y.toLocaleDateString(),time:Y.toLocaleTimeString()})),this.trigger=T.flatMap(J=>J.getElementsToTriggerPopup());for(let J of this.trigger)J.addEventListener("click",this.#a),J.addEventListener("mouseenter",this.#i),J.addEventListener("mouseleave",this.#n),J.classList.add("popupTriggerArea");for(let J of T)J.container?.addEventListener("keydown",this.#t);this.#o.hidden=!0,K&&this.#y()}render(){if(this.#f)return;let{page:{view:E},viewport:{rawDims:{pageWidth:x,pageHeight:T,pageX:k,pageY:B}}}=this.#r,$=this.#f=document.createElement("div");if($.className="popup",this.#s){let ve=$.style.outlineColor=n.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${ve} 30%, white)`:$.style.backgroundColor=n.Util.makeHexColor(...this.#s.map(ft=>Math.floor(.7*(255-ft)+ft)))}let q=document.createElement("span");q.className="header";let ne=document.createElement("h1");if(q.append(ne),{dir:ne.dir,str:ne.textContent}=this.#m,$.append(q),this.#e){let ve=document.createElement("span");ve.classList.add("popupDate"),this.#e.then(Pe=>{ve.textContent=Pe}),q.append(ve)}let Z=this.#l,z=this.#g;if(z?.str&&(!Z?.str||Z.str===z.str))h.XfaLayer.render({xfaHtml:z.html,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{let ve=this._formatContents(Z);$.append(ve)}let K=!!this.#u,Y=K?this.#u:this.#p;for(let ve of this.#c)if(!Y||n.Util.intersect(ve.data.rect,Y)!==null){Y=ve.data.rect,K=!0;break}let J=n.Util.normalizeRect([Y[0],E[3]-Y[1]+E[1],Y[2],E[3]-Y[3]+E[1]]),se=K?Y[2]-Y[0]+5:0,le=J[0]+se,de=J[1],{style:he}=this.#o;he.left=`${100*(le-k)/x}%`,he.top=`${100*(de-B)/T}%`,this.#o.append($)}_formatContents({str:E,dir:x}){let T=document.createElement("p");T.classList.add("popupContent"),T.dir=x;let k=E.split(/(?:\r\n?|\n)/);for(let B=0,$=k.length;B<$;++B){let q=k[B];T.append(document.createTextNode(q)),B<$-1&&T.append(document.createElement("br"))}return T}#h(E){E.altKey||E.shiftKey||E.ctrlKey||E.metaKey||(E.key==="Enter"||E.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#A(),this.#o.addEventListener("click",this.#a),this.#o.addEventListener("keydown",this.#t)):(this.#_(),this.#o.removeEventListener("click",this.#a),this.#o.removeEventListener("keydown",this.#t))}#A(){this.#f||this.render(),this.isVisible?this.#d&&this.#o.classList.add("focused"):(this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#_(){this.#o.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#o.hidden=!0)}maybeShow(){this.#v&&(this.#v=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}}class U extends f{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.textContent=E.data.textContent,this.textPosition=E.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let E=document.createElement("div");E.classList.add("annotationTextContent"),E.setAttribute("role","comment");for(let x of this.textContent){let T=document.createElement("span");T.textContent=x,E.append(T)}this.container.append(E)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=U;class W extends f{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let E=this.data,{width:x,height:T}=c(E.rect),k=this.svgFactory.create(x,T,!0),B=this.#e=this.svgFactory.createElement("svg:line");return B.setAttribute("x1",E.rect[2]-E.lineCoordinates[0]),B.setAttribute("y1",E.rect[3]-E.lineCoordinates[1]),B.setAttribute("x2",E.rect[2]-E.lineCoordinates[2]),B.setAttribute("y2",E.rect[3]-E.lineCoordinates[3]),B.setAttribute("stroke-width",E.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),k.append(B),this.container.append(k),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class G extends f{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let E=this.data,{width:x,height:T}=c(E.rect),k=this.svgFactory.create(x,T,!0),B=E.borderStyle.width,$=this.#e=this.svgFactory.createElement("svg:rect");return $.setAttribute("x",B/2),$.setAttribute("y",B/2),$.setAttribute("width",x-B),$.setAttribute("height",T-B),$.setAttribute("stroke-width",B||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),k.append($),this.container.append(k),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Q extends f{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let E=this.data,{width:x,height:T}=c(E.rect),k=this.svgFactory.create(x,T,!0),B=E.borderStyle.width,$=this.#e=this.svgFactory.createElement("svg:ellipse");return $.setAttribute("cx",x/2),$.setAttribute("cy",T/2),$.setAttribute("rx",x/2-B/2),$.setAttribute("ry",T/2-B/2),$.setAttribute("stroke-width",B||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),k.append($),this.container.append(k),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class X extends f{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let E=this.data,{width:x,height:T}=c(E.rect),k=this.svgFactory.create(x,T,!0),B=[];for(let q of E.vertices){let ne=q.x-E.rect[0],Z=E.rect[3]-q.y;B.push(ne+","+Z)}B=B.join(" ");let $=this.#e=this.svgFactory.createElement(this.svgElementName);return $.setAttribute("points",B),$.setAttribute("stroke-width",E.borderStyle.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),k.append($),this.container.append(k),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class j extends X{constructor(E){super(E),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class H extends f{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class P extends f{#e=[];constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let E=this.data,{width:x,height:T}=c(E.rect),k=this.svgFactory.create(x,T,!0);for(let B of E.inkLists){let $=[];for(let ne of B){let Z=ne.x-E.rect[0],z=E.rect[3]-ne.y;$.push(`${Z},${z}`)}$=$.join(" ");let q=this.svgFactory.createElement(this.svgElementName);this.#e.push(q),q.setAttribute("points",$),q.setAttribute("stroke-width",E.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),!E.popupRef&&this.hasPopupData&&this._createPopup(),k.append(q)}return this.container.append(k),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}e.InkAnnotationElement=P;class _ extends f{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class C extends f{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class S extends f{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class M extends f{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class L extends f{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=L;class N extends f{#e=null;constructor(E){super(E,{isRenderable:!0});let{filename:x,content:T}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(x,!0),this.content=T,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:x,content:T})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:E,data:x}=this,T;x.hasAppearance||x.fillAlpha===0?T=document.createElement("div"):(T=document.createElement("img"),T.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(x.name)?"paperclip":"pushpin"}.svg`,x.fillAlpha&&x.fillAlpha<1&&(T.style=`filter: opacity(${Math.round(x.fillAlpha*100)}%);`)),T.addEventListener("dblclick",this.#t.bind(this)),this.#e=T;let{isMac:k}=n.FeatureTest.platform;return E.addEventListener("keydown",B=>{B.key==="Enter"&&(k?B.metaKey:B.ctrlKey)&&this.#t()}),!x.popupRef&&this.hasPopupData?this._createPopup():T.classList.add("popupTriggerArea"),E.append(T),E}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class V{#e=null;#t=null;#n=new Map;constructor({div:E,accessibilityManager:x,annotationCanvasMap:T,l10n:k,page:B,viewport:$}){this.div=E,this.#e=x,this.#t=T,this.l10n=k,this.page=B,this.viewport=$,this.zIndex=0,this.l10n||=a.NullL10n}#i(E,x){let T=E.firstChild||E;T.id=`${n.AnnotationPrefix}${x}`,this.div.append(E),this.#e?.moveElementInDOM(this.div,E,T,!1)}render(E){return oe(this,null,function*(){let{annotations:x}=E,T=this.div;(0,r.setLayerDimensions)(T,this.viewport);let k=new Map,B={data:null,layer:T,linkService:E.linkService,downloadManager:E.downloadManager,imageResourcesPath:E.imageResourcesPath||"",renderForms:E.renderForms!==!1,svgFactory:new r.DOMSVGFactory,annotationStorage:E.annotationStorage||new s.AnnotationStorage,enableScripting:E.enableScripting===!0,hasJSActions:E.hasJSActions,fieldObjects:E.fieldObjects,parent:this,elements:null};for(let $ of x){if($.noHTML)continue;let q=$.annotationType===n.AnnotationType.POPUP;if(q){let z=k.get($.id);if(!z)continue;B.elements=z}else{let{width:z,height:K}=c($.rect);if(z<=0||K<=0)continue}B.data=$;let ne=g.create(B);if(!ne.isRenderable)continue;if(!q&&$.popupRef){let z=k.get($.popupRef);z?z.push(ne):k.set($.popupRef,[ne])}ne.annotationEditorType>0&&this.#n.set(ne.data.id,ne);let Z=ne.render();$.hidden&&(Z.style.visibility="hidden"),this.#i(Z,$.id)}this.#a(),yield this.l10n.translate(T)})}update({viewport:E}){let x=this.div;this.viewport=E,(0,r.setLayerDimensions)(x,{rotation:E.rotation}),this.#a(),x.hidden=!1}#a(){if(!this.#t)return;let E=this.div;for(let[x,T]of this.#t){let k=E.querySelector(`[data-annotation-id="${x}"]`);if(!k)continue;let{firstChild:B}=k;B?B.nodeName==="CANVAS"?B.replaceWith(T):B.before(T):k.append(T)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(E){return this.#n.get(E)}}e.AnnotationLayer=V},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function i(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function n(s){return Math.max(0,Math.min(255,255*s))}class r{static CMYK_G([o,a,h,d]){return["G",1-Math.min(1,.3*o+.59*h+.11*a+d)]}static G_CMYK([o]){return["CMYK",0,0,0,1-o]}static G_RGB([o]){return["RGB",o,o,o]}static G_rgb([o]){return o=n(o),[o,o,o]}static G_HTML([o]){let a=i(o);return`#${a}${a}${a}`}static RGB_G([o,a,h]){return["G",.3*o+.59*a+.11*h]}static RGB_rgb(o){return o.map(n)}static RGB_HTML(o){return`#${o.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([o,a,h,d]){return["RGB",1-Math.min(1,o+d),1-Math.min(1,h+d),1-Math.min(1,a+d)]}static CMYK_rgb([o,a,h,d]){return[n(1-Math.min(1,o+d)),n(1-Math.min(1,h+d)),n(1-Math.min(1,a+d))]}static CMYK_HTML(o){let a=this.CMYK_RGB(o).slice(1);return this.RGB_HTML(a)}static RGB_CMYK([o,a,h]){let d=1-o,u=1-a,l=1-h,c=Math.min(d,u,l);return["CMYK",d,u,l,c]}}e.ColorConverters=r},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=n;let i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function n(a,h){switch(a){case"find_match_count":a=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":a=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return i[a]||""}function r(a,h){return h?a.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(d,u)=>u in h?h[u]:"{{"+u+"}}"):a}let s={getLanguage(){return oe(this,null,function*(){return"en-us"})},getDirection(){return oe(this,null,function*(){return"ltr"})},get(u){return oe(this,arguments,function*(a,h=null,d=n(a,h)){return r(d,h)})},translate(a){return oe(this,null,function*(){})}};e.NullL10n=s},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=i(25);class r{static setupStorage(o,a,h,d,u){let l=d.getValue(a,{value:null});switch(h.name){case"textarea":if(l.value!==null&&(o.textContent=l.value),u==="print")break;o.addEventListener("input",c=>{d.setValue(a,{value:c.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(l.value===h.attributes.xfaOn?o.setAttribute("checked",!0):l.value===h.attributes.xfaOff&&o.removeAttribute("checked"),u==="print")break;o.addEventListener("change",c=>{d.setValue(a,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&o.setAttribute("value",l.value),u==="print")break;o.addEventListener("input",c=>{d.setValue(a,{value:c.target.value})})}break;case"select":if(l.value!==null){o.setAttribute("value",l.value);for(let c of h.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}o.addEventListener("input",c=>{let g=c.target.options,f=g.selectedIndex===-1?"":g[g.selectedIndex].value;d.setValue(a,{value:f})});break}}static setAttributes({html:o,element:a,storage:h=null,intent:d,linkService:u}){let{attributes:l}=a,c=o instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${d}`);for(let[g,f]of Object.entries(l))if(f!=null)switch(g){case"class":f.length&&o.setAttribute(g,f.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",f);break;case"style":Object.assign(o.style,f);break;case"textContent":o.textContent=f;break;default:(!c||g!=="href"&&g!=="newWindow")&&o.setAttribute(g,f)}c&&u.addLinkAttributes(o,l.href,l.newWindow),h&&l.dataId&&this.setupStorage(o,l.dataId,a,h)}static render(o){let a=o.annotationStorage,h=o.linkService,d=o.xfaHtml,u=o.intent||"display",l=document.createElement(d.name);d.attributes&&this.setAttributes({html:l,element:d,intent:u,linkService:h});let c=[[d,-1,l]],g=o.div;if(g.append(l),o.viewport){let p=`matrix(${o.viewport.transform.join(",")})`;g.style.transform=p}u!=="richText"&&g.setAttribute("class","xfaLayer xfaFont");let f=[];for(;c.length>0;){let[p,y,v]=c.at(-1);if(y+1===p.children.length){c.pop();continue}let A=p.children[++c.at(-1)[1]];if(A===null)continue;let{name:m}=A;if(m==="#text"){let w=document.createTextNode(A.value);f.push(w),v.append(w);continue}let b=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,m):document.createElement(m);if(v.append(b),A.attributes&&this.setAttributes({html:b,element:A,storage:a,intent:u,linkService:h}),A.children&&A.children.length>0)c.push([A,-1,b]);else if(A.value){let w=document.createTextNode(A.value);n.XfaText.shouldBuildText(m)&&f.push(w),b.append(w)}}for(let p of g.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:f}}static update(o){let a=`matrix(${o.viewport.transform.join(",")})`;o.div.style.transform=a,o.div.hidden=!1}}e.XfaLayer=r},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var n=i(1),r=i(4),s=i(29),o=i(6),a=i(5);let h=(()=>{class d extends r.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#o=new Path2D;#l=!1;#c=!1;#r=!1;#u=null;#d=0;#f=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(l){super(Fe(ue({},l),{name:"inkEditor"})),this.color=l.color||null,this.thickness=l.thickness||null,this.opacity=l.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(l){r.AnnotationEditor.initialize(l,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(l,c){switch(l){case n.AnnotationEditorParamsType.INK_THICKNESS:d._defaultThickness=c;break;case n.AnnotationEditorParamsType.INK_COLOR:d._defaultColor=c;break;case n.AnnotationEditorParamsType.INK_OPACITY:d._defaultOpacity=c/100;break}}updateParams(l,c){switch(l){case n.AnnotationEditorParamsType.INK_THICKNESS:this.#g(c);break;case n.AnnotationEditorParamsType.INK_COLOR:this.#m(c);break;case n.AnnotationEditorParamsType.INK_OPACITY:this.#v(c);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,d._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,d._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(d._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||d._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||d._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??d._defaultOpacity))]]}#g(l){let c=this.thickness;this.addCommands({cmd:()=>{this.thickness=l,this.#P()},undo:()=>{this.thickness=c,this.#P()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(l){let c=this.color;this.addCommands({cmd:()=>{this.color=l,this.#b()},undo:()=>{this.color=c,this.#b()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(l){l/=100;let c=this.opacity;this.addCommands({cmd:()=>{this.opacity=l,this.#b()},undo:()=>{this.opacity=c,this.#b()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#M(),this.#x()),this.isAttachedToDOM||(this.parent.add(this),this.#C()),this.#P()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#u.disconnect(),this.#u=null,super.remove())}setParent(l){!this.parent&&l?this._uiManager.removeShouldRescale(this):this.parent&&l===null&&this._uiManager.addShouldRescale(this),super.setParent(l)}onScaleChanging(){let[l,c]=this.parentDimensions,g=this.width*l,f=this.height*c;this.setDimensions(g,f)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#h(){let{parentRotation:l,parentDimensions:[c,g]}=this;switch(l){case 90:return[0,g,g,c];case 180:return[c,g,c,g];case 270:return[c,0,g,c];default:return[0,0,c,g]}}#y(){let{ctx:l,color:c,opacity:g,thickness:f,parentScale:p,scaleFactor:y}=this;l.lineWidth=f*p/y,l.lineCap="round",l.lineJoin="round",l.miterLimit=10,l.strokeStyle=`${c}${(0,a.opacityToHex)(g)}`}#A(l,c){this.canvas.addEventListener("contextmenu",o.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#r||(this.#r=!0,this.#C(),this.thickness||=d._defaultThickness,this.color||=d._defaultColor||r.AnnotationEditor._defaultLineColor,this.opacity??=d._defaultOpacity),this.currentPath.push([l,c]),this.#c=!1,this.#y(),this.#p=()=>{this.#O(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#_(l,c){let[g,f]=this.currentPath.at(-1);if(this.currentPath.length>1&&l===g&&c===f)return;let p=this.currentPath,y=this.#o;if(p.push([l,c]),this.#c=!0,p.length<=2){y.moveTo(...p[0]),y.lineTo(l,c);return}p.length===3&&(this.#o=y=new Path2D,y.moveTo(...p[0])),this.#R(y,...p.at(-3),...p.at(-2),l,c)}#w(){if(this.currentPath.length===0)return;let l=this.currentPath.at(-1);this.#o.lineTo(...l)}#E(l,c){this.#p=null,l=Math.min(Math.max(l,0),this.canvas.width),c=Math.min(Math.max(c,0),this.canvas.height),this.#_(l,c),this.#w();let g;if(this.currentPath.length!==1)g=this.#N();else{let A=[l,c];g=[[A,A.slice(),A.slice(),A]]}let f=this.#o,p=this.currentPath;this.currentPath=[],this.#o=new Path2D;let y=()=>{this.allRawPaths.push(p),this.paths.push(g),this.bezierPath2D.push(f),this.rebuild()},v=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#M(),this.#x()),this.#P())};this.addCommands({cmd:y,undo:v,mustExec:!0})}#O(){if(!this.#c)return;this.#c=!1;let l=Math.ceil(this.thickness*this.parentScale),c=this.currentPath.slice(-3),g=c.map(b=>b[0]),f=c.map(b=>b[1]),p=Math.min(...g)-l,y=Math.max(...g)+l,v=Math.min(...f)-l,A=Math.max(...f)+l,{ctx:m}=this;m.save(),m.clearRect(0,0,this.canvas.width,this.canvas.height);for(let b of this.bezierPath2D)m.stroke(b);m.stroke(this.#o),m.restore()}#R(l,c,g,f,p,y,v){let A=(c+f)/2,m=(g+p)/2,b=(f+y)/2,w=(p+v)/2;l.bezierCurveTo(A+2*(f-A)/3,m+2*(p-m)/3,b+2*(f-b)/3,w+2*(p-w)/3,b,w)}#N(){let l=this.currentPath;if(l.length<=2)return[[l[0],l[0],l.at(-1),l.at(-1)]];let c=[],g,[f,p]=l[0];for(g=1;g<l.length-2;g++){let[D,I]=l[g],[R,O]=l[g+1],U=(D+R)/2,W=(I+O)/2,G=[f+2*(D-f)/3,p+2*(I-p)/3],Q=[U+2*(D-U)/3,W+2*(I-W)/3];c.push([[f,p],G,Q,[U,W]]),[f,p]=[U,W]}let[y,v]=l[g],[A,m]=l[g+1],b=[f+2*(y-f)/3,p+2*(v-p)/3],w=[A+2*(y-A)/3,m+2*(v-m)/3];return c.push([[f,p],b,w,[A,m]]),c}#b(){if(this.isEmpty()){this.#T();return}this.#y();let{canvas:l,ctx:c}=this;c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,l.width,l.height),this.#T();for(let g of this.bezierPath2D)c.stroke(g)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#P(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(l){this._focusEventsAllowed&&(super.focusin(l),this.enableEditMode())}canvasPointerdown(l){l.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),l.preventDefault(),l.type!=="mouse"&&this.div.focus(),this.#A(l.offsetX,l.offsetY))}canvasPointermove(l){l.preventDefault(),this.#_(l.offsetX,l.offsetY)}canvasPointerup(l){l.preventDefault(),this.#I(l)}canvasPointerleave(l){this.#I(l)}#I(l){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",o.noContextMenu)},10),this.#E(l.offsetX,l.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#M(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",r.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(l=>this.canvas?.setAttribute("aria-label",l)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#x(){this.#u=new ResizeObserver(l=>{let c=l[0].contentRect;c.width&&c.height&&this.setDimensions(c.width,c.height)}),this.#u.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let l,c;this.width&&(l=this.x,c=this.y),super.render(),r.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(v=>this.div?.setAttribute("aria-label",v));let[g,f,p,y]=this.#h();if(this.setAt(g,f,0,0),this.setDims(p,y),this.#M(),this.width){let[v,A]=this.parentDimensions;this.setAspectRatio(this.width*v,this.height*A),this.setAt(l*v,c*A,this.width*v,this.height*A),this.#r=!0,this.#C(),this.setDims(this.width*v,this.height*A),this.#b(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#x(),this.div}#C(){if(!this.#r)return;let[l,c]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*l),this.canvas.height=Math.ceil(this.height*c),this.#T()}setDimensions(l,c){let g=Math.round(l),f=Math.round(c);if(this.#d===g&&this.#f===f)return;this.#d=g,this.#f=f,this.canvas.style.visibility="hidden";let[p,y]=this.parentDimensions;this.width=l/p,this.height=c/y,this.fixAndSetPosition(),this.#l&&this.#D(l,c),this.#C(),this.#b(),this.canvas.style.visibility="visible",this.fixDims()}#D(l,c){let g=this.#L(),f=(l-g)/this.#t,p=(c-g)/this.#e;this.scaleFactor=Math.min(f,p)}#T(){let l=this.#L()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+l,this.translationY*this.scaleFactor+l)}static#F(l){let c=new Path2D;for(let g=0,f=l.length;g<f;g++){let[p,y,v,A]=l[g];g===0&&c.moveTo(...p),c.bezierCurveTo(y[0],y[1],v[0],v[1],A[0],A[1])}return c}static#j(l,c,g){let[f,p,y,v]=c;switch(g){case 0:for(let A=0,m=l.length;A<m;A+=2)l[A]+=f,l[A+1]=v-l[A+1];break;case 90:for(let A=0,m=l.length;A<m;A+=2){let b=l[A];l[A]=l[A+1]+f,l[A+1]=b+p}break;case 180:for(let A=0,m=l.length;A<m;A+=2)l[A]=y-l[A],l[A+1]+=p;break;case 270:for(let A=0,m=l.length;A<m;A+=2){let b=l[A];l[A]=y-l[A+1],l[A+1]=v-b}break;default:throw new Error("Invalid rotation")}return l}static#B(l,c,g){let[f,p,y,v]=c;switch(g){case 0:for(let A=0,m=l.length;A<m;A+=2)l[A]-=f,l[A+1]=v-l[A+1];break;case 90:for(let A=0,m=l.length;A<m;A+=2){let b=l[A];l[A]=l[A+1]-p,l[A+1]=b-f}break;case 180:for(let A=0,m=l.length;A<m;A+=2)l[A]=y-l[A],l[A+1]-=p;break;case 270:for(let A=0,m=l.length;A<m;A+=2){let b=l[A];l[A]=v-l[A+1],l[A+1]=y-b}break;default:throw new Error("Invalid rotation")}return l}#V(l,c,g,f){let p=[],y=this.thickness/2,v=l*c+y,A=l*g+y;for(let m of this.paths){let b=[],w=[];for(let D=0,I=m.length;D<I;D++){let[R,O,U,W]=m[D],G=l*R[0]+v,Q=l*R[1]+A,X=l*O[0]+v,j=l*O[1]+A,H=l*U[0]+v,P=l*U[1]+A,_=l*W[0]+v,C=l*W[1]+A;D===0&&(b.push(G,Q),w.push(G,Q)),b.push(X,j,H,P,_,C),w.push(X,j),D===I-1&&w.push(_,C)}p.push({bezier:d.#j(b,f,this.rotation),points:d.#j(w,f,this.rotation)})}return p}#k(){let l=1/0,c=-1/0,g=1/0,f=-1/0;for(let p of this.paths)for(let[y,v,A,m]of p){let b=n.Util.bezierBoundingBox(...y,...v,...A,...m);l=Math.min(l,b[0]),g=Math.min(g,b[1]),c=Math.max(c,b[2]),f=Math.max(f,b[3])}return[l,g,c,f]}#L(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#P(l=!1){if(this.isEmpty())return;if(!this.#l){this.#b();return}let c=this.#k(),g=this.#L();this.#t=Math.max(r.AnnotationEditor.MIN_SIZE,c[2]-c[0]),this.#e=Math.max(r.AnnotationEditor.MIN_SIZE,c[3]-c[1]);let f=Math.ceil(g+this.#t*this.scaleFactor),p=Math.ceil(g+this.#e*this.scaleFactor),[y,v]=this.parentDimensions;this.width=f/y,this.height=p/v,this.setAspectRatio(f,p);let A=this.translationX,m=this.translationY;this.translationX=-c[0],this.translationY=-c[1],this.#C(),this.#b(),this.#d=f,this.#f=p,this.setDims(f,p);let b=l?g/this.scaleFactor/2:0;this.translate(A-this.translationX-b,m-this.translationY-b)}static deserialize(l,c,g){if(l instanceof s.InkAnnotationElement)return null;let f=super.deserialize(l,c,g);f.thickness=l.thickness,f.color=n.Util.makeHexColor(...l.color),f.opacity=l.opacity;let[p,y]=f.pageDimensions,v=f.width*p,A=f.height*y,m=f.parentScale,b=l.thickness/2;f.#l=!0,f.#d=Math.round(v),f.#f=Math.round(A);let{paths:w,rect:D,rotation:I}=l;for(let{bezier:O}of w){O=d.#B(O,D,I);let U=[];f.paths.push(U);let W=m*(O[0]-b),G=m*(O[1]-b);for(let X=2,j=O.length;X<j;X+=6){let H=m*(O[X]-b),P=m*(O[X+1]-b),_=m*(O[X+2]-b),C=m*(O[X+3]-b),S=m*(O[X+4]-b),M=m*(O[X+5]-b);U.push([[W,G],[H,P],[_,C],[S,M]]),W=S,G=M}let Q=this.#F(U);f.bezierPath2D.push(Q)}let R=f.#k();return f.#t=Math.max(r.AnnotationEditor.MIN_SIZE,R[2]-R[0]),f.#e=Math.max(r.AnnotationEditor.MIN_SIZE,R[3]-R[1]),f.#D(v,A),f}serialize(){if(this.isEmpty())return null;let l=this.getRect(0,0),c=r.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:c,thickness:this.thickness,opacity:this.opacity,paths:this.#V(this.scaleFactor/this.parentScale,this.translationX,this.translationY,l),pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}return d})();e.InkEditor=h},(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var n=i(1),r=i(4),s=i(6),o=i(29);let a=(()=>{class h extends r.AnnotationEditor{#e=null;#t=null;#n=null;#i=null;#a=null;#s=null;#o=null;#l=null;#c=!1;#r=!1;static _type="stamp";constructor(u){super(Fe(ue({},u),{name:"stampEditor"})),this.#i=u.bitmapUrl,this.#a=u.bitmapFile}static initialize(u){r.AnnotationEditor.initialize(u)}static get supportedTypes(){let u=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",u.map(l=>`image/${l}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(u){return this.supportedTypes.includes(u)}static paste(u,l){l.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:u.getAsFile()})}#u(u,l=!1){if(!u){this.remove();return}this.#e=u.bitmap,l||(this.#t=u.id,this.#c=u.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(l=>this.#u(l,!0)).finally(()=>this.#d());return}if(this.#i){let l=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(l).then(c=>this.#u(c)).finally(()=>this.#d());return}if(this.#a){let l=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(l).then(c=>this.#u(c)).finally(()=>this.#d());return}let u=document.createElement("input");u.type="file",u.accept=h.supportedTypesStr,this.#n=new Promise(l=>{u.addEventListener("change",()=>oe(this,null,function*(){if(!u.files||u.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let c=yield this._uiManager.imageManager.getFromFile(u.files[0]);this.#u(c)}l()})),u.addEventListener("cancel",()=>{this.remove(),l()})}).finally(()=>this.#d()),u.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#o?.disconnect(),this.#o=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let u,l;if(this.width&&(u=this.x,l=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#f(),this.width){let[c,g]=this.parentDimensions;this.setAt(u*c,l*g,this.width*c,this.height*g)}return this.div}#p(){let{div:u}=this,{width:l,height:c}=this.#e,[g,f]=this.pageDimensions,p=.75;if(this.width)l=this.width*g,c=this.height*f;else if(l>p*g||c>p*f){let m=Math.min(p*g/l,p*f/c);l*=m,c*=m}let[y,v]=this.parentDimensions;this.setDims(l*y/g,c*v/f),this._uiManager.enableWaiting(!1);let A=this.#s=document.createElement("canvas");u.append(A),u.hidden=!1,this.#v(l,c),this.#y(),this.#r||(this.parent.addUndoableEditor(this),this.#r=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#g(u,l){let[c,g]=this.parentDimensions;this.width=u/c,this.height=l/g,this.setDims(u,l),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);let f=200;this.#l=setTimeout(()=>{this.#l=null,this.#v(u,l)},f)}#m(u,l){let{width:c,height:g}=this.#e,f=c,p=g,y=this.#e;for(;f>2*u||p>2*l;){let v=f,A=p;f>2*u&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2)),p>2*l&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2));let m=new OffscreenCanvas(f,p);m.getContext("2d").drawImage(y,0,0,v,A,0,0,f,p),y=m.transferToImageBitmap()}return y}#v(u,l){u=Math.ceil(u),l=Math.ceil(l);let c=this.#s;if(!c||c.width===u&&c.height===l)return;c.width=u,c.height=l;let g=this.#c?this.#e:this.#m(u,l),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(g,0,0,g.width,g.height,0,0,u,l)}#h(u){if(u){if(this.#c){let g=this._uiManager.imageManager.getSvgUrl(this.#t);if(g)return g}let l=document.createElement("canvas");return{width:l.width,height:l.height}=this.#e,l.getContext("2d").drawImage(this.#e,0,0),l.toDataURL()}if(this.#c){let[l,c]=this.pageDimensions,g=Math.round(this.width*l*s.PixelsPerInch.PDF_TO_CSS_UNITS),f=Math.round(this.height*c*s.PixelsPerInch.PDF_TO_CSS_UNITS),p=new OffscreenCanvas(g,f);return p.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,g,f),p.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#o=new ResizeObserver(u=>{let l=u[0].contentRect;l.width&&l.height&&this.#g(l.width,l.height)}),this.#o.observe(this.div)}static deserialize(u,l,c){if(u instanceof o.StampAnnotationElement)return null;let g=super.deserialize(u,l,c),{rect:f,bitmapUrl:p,bitmapId:y,isSvg:v,accessibilityData:A}=u;y&&c.imageManager.isValidId(y)?g.#t=y:g.#i=p,g.#c=v;let[m,b]=g.pageDimensions;return g.width=(f[2]-f[0])/m,g.height=(f[3]-f[1])/b,A&&(g.altTextData=A),g}serialize(u=!1,l=null){if(this.isEmpty())return null;let c={annotationType:n.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(u)return c.bitmapUrl=this.#h(!0),c.accessibilityData=this.altTextData,c;let{decorative:g,altText:f}=this.altTextData;if(!g&&f&&(c.accessibilityData={type:"Figure",alt:f}),l===null)return c;l.stamps||=new Map;let p=this.#c?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!l.stamps.has(this.#t))l.stamps.set(this.#t,{area:p,serialized:c}),c.bitmap=this.#h(!1);else if(this.#c){let y=l.stamps.get(this.#t);p>y.area&&(y.area=p,y.serialized.bitmap.close(),y.serialized.bitmap=this.#h(!1))}return c}}return h})();e.StampEditor=a}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return r.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return r.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}});var e=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),r=__w_pdfjs_require__(26),s=__w_pdfjs_require__(27),o=__w_pdfjs_require__(5),a=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32);let u="3.11.174",l="ce8716743"})(),__webpack_exports__})())});var rm=hn((_a,Uu)=>{"use strict";(function(e,i){typeof _a=="object"&&typeof Uu=="object"?Uu.exports=e.pdfjsViewer=i():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],()=>e.pdfjsViewer=i()):typeof _a=="object"?_a["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=i():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=i()})(globalThis,()=>(()=>{"use strict";var t=[,(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var a=o(2),h=o(3),d=o(4);let u={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=u;let l=250,c=-50,g=-400,f={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),y,v=new RegExp("\\p{M}+","gu"),A=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),m=new RegExp("([^\\p{M}])\\p{M}*$","u"),b=new RegExp("^\\p{M}*([^\\p{M}])","u"),w=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,D=new Map,I="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",R=new Map,O=null,U=null;function W(X){let j=[],H;for(;(H=w.exec(X))!==null;){let{index:x}=H;for(let T of H[0]){let k=D.get(T);k||(k=T.normalize("NFD").length,D.set(T,k)),j.push([k,x++])}}let P;if(j.length===0&&O)P=O;else if(j.length>0&&U)P=U;else{let x=Object.keys(f).join(""),T=(0,h.getNormalizeWithNFKC)(),$=`([${x}])|([${T}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;j.length===0?P=O=new RegExp($+"|(\\u0000)","gum"):P=U=new RegExp($+`|(${I})`,"gum")}let _=[];for(;(H=v.exec(X))!==null;)_.push([H[0].length,H.index]);let C=X.normalize("NFD"),S=[[0,0]],M=0,L=0,N=0,V=0,F=0,E=!1;return C=C.replace(P,(x,T,k,B,$,q,ne,Z,z,K)=>{if(K-=V,T){let Y=f[T],J=Y.length;for(let ie=1;ie<J;ie++)S.push([K-N+ie,N-ie]);return N-=J-1,Y}if(k){let Y=R.get(k);Y||(Y=k.normalize("NFKC"),R.set(k,Y));let J=Y.length;for(let ie=1;ie<J;ie++)S.push([K-N+ie,N-ie]);return N-=J-1,Y}if(B)return E=!0,K+F===_[M]?.[1]?++M:(S.push([K-1-N+1,N-1]),N-=1,V+=1),S.push([K-N+1,N]),V+=1,F+=1,B.charAt(0);if($){let Y=$.endsWith(`
`),J=Y?$.length-2:$.length;E=!0;let ie=J;K+F===_[M]?.[1]&&(ie-=_[M][0],++M);for(let se=1;se<=ie;se++)S.push([K-1-N+se,N-se]);return N-=ie,V+=ie,Y?(K+=J-1,S.push([K-N+1,1+N]),N+=1,V+=1,F+=1,$.slice(0,J)):$}if(q){let Y=q.length-2;return S.push([K-N+Y,1+N]),N+=1,V+=1,F+=1,q.slice(0,-2)}if(ne){let Y=ne.length-1;return S.push([K-N+Y,N]),V+=1,F+=1,ne.slice(0,-1)}if(Z)return S.push([K-N+1,N-1]),N-=1,V+=1,F+=1," ";if(K+F===j[L]?.[1]){let Y=j[L][0]-1;++L;for(let J=1;J<=Y;J++)S.push([K-(N-J),N-J]);N-=Y,V+=Y}return z}),S.push([C.length,N]),[C,S,E]}function G(X,j,H){if(!X)return[j,H];let P=j,_=j+H-1,C=(0,a.binarySearchFirstItem)(X,V=>V[0]>=P);X[C][0]>P&&--C;let S=(0,a.binarySearchFirstItem)(X,V=>V[0]>=_,C);X[S][0]>_&&--S;let M=P+X[C][1],N=_+X[S][1]+1-M;return[M,N]}class Q{#e=null;#t=!0;#n=0;constructor({linkService:j,eventBus:H,updateMatchesCountOnProgress:P=!0}){this._linkService=j,this._eventBus=H,this.#t=P,this.onIsPageVisible=null,this.#a(),H._on("find",this.#i.bind(this)),H._on("findbarclose",this.#A.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(j){this._pdfDocument&&this.#a(),j&&(this._pdfDocument=j,this._firstPageCapability.resolve())}#i(j){if(!j)return;j.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof j.query=="string"&&(j.query=j.query.match(/\S+/g)));let H=this._pdfDocument,{type:P}=j;(this.#e===null||this.#o(j))&&(this._dirtyMatch=!0),this.#e=j,P!=="highlightallchange"&&this.#E(u.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||H&&this._pdfDocument!==H)return;this.#d();let _=!this._highlightMatches,C=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),P?this._dirtyMatch?this.#g():P==="again"?(this.#g(),_&&this.#e.highlightAll&&this.#p()):P==="highlightallchange"?(C?this.#g():this._highlightMatches=!0,this.#p()):this.#g():this._findTimeout=setTimeout(()=>{this.#g(),this._findTimeout=null},l)})}scrollMatchIntoView({element:j=null,selectedLeft:H=0,pageIndex:P=-1,matchIndex:_=-1}){if(!this._scrollMatches||!j)return;if(_===-1||_!==this._selected.matchIdx)return;if(P===-1||P!==this._selected.pageIdx)return;this._scrollMatches=!1;let C={top:c,left:H+g};(0,a.scrollIntoView)(j,C,!0)}#a(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new d.PromiseCapability}get#s(){let{query:j}=this.#e;return typeof j=="string"?(j!==this._rawQuery&&(this._rawQuery=j,[this._normalizedQuery]=W(j)),this._normalizedQuery):(j||[]).filter(H=>!!H).map(H=>W(H)[0])}#o(j){let H=j.query,P=this.#e.query,_=typeof H;if(_!==typeof P)return!0;if(_==="string"){if(H!==P)return!0}else if(JSON.stringify(H)!==JSON.stringify(P))return!0;switch(j.type){case"again":let S=this._selected.pageIdx+1,M=this._linkService;return S>=1&&S<=M.pagesCount&&S!==M.page&&!(this.onIsPageVisible?.(S)??!0);case"highlightallchange":return!1}return!0}#l(j,H,P){let _=j.slice(0,H).match(m);if(_){let C=j.charCodeAt(H),S=_[1].charCodeAt(0);if((0,h.getCharacterType)(C)===(0,h.getCharacterType)(S))return!1}if(_=j.slice(H+P).match(b),_){let C=j.charCodeAt(H+P-1),S=_[1].charCodeAt(0);if((0,h.getCharacterType)(C)===(0,h.getCharacterType)(S))return!1}return!0}#c(j,H,P,_){let C=this._pageMatches[P]=[],S=this._pageMatchesLength[P]=[];if(!j)return;let M=this._pageDiffs[P],L;for(;(L=j.exec(_))!==null;){if(H&&!this.#l(_,L.index,L[0].length))continue;let[N,V]=G(M,L.index,L[0].length);V&&(C.push(N),S.push(V))}}#r(j,H){let{matchDiacritics:P}=this.#e,_=!1;j=j.replaceAll(A,(S,M,L,N,V,F)=>M?`[ ]*\\${M}[ ]*`:L?`[ ]*${L}[ ]*`:N?"[ ]+":P?V||F:V?p.has(V.charCodeAt(0))?V:"":H?(_=!0,`${F}\\p{M}*`):F);let C="[ ]*";return j.endsWith(C)&&(j=j.slice(0,j.length-C.length)),P&&H&&(y||=String.fromCharCode(...p),_=!0,j=`${j}(?=[${y}]|[^\\p{M}]|$)`),[_,j]}#u(j){let H=this.#s;if(H.length===0)return;let{caseSensitive:P,entireWord:_}=this.#e,C=this._pageContents[j],S=this._hasDiacritics[j],M=!1;typeof H=="string"?[M,H]=this.#r(H,S):H=H.sort().reverse().map(V=>{let[F,E]=this.#r(V,S);return M||=F,`(${E})`}).join("|");let L=`g${M?"u":""}${P?"":"i"}`;H=H?new RegExp(H,L):null,this.#c(H,_,j,C),this.#e.highlightAll&&this.#f(j),this._resumePageIdx===j&&(this._resumePageIdx=null,this.#v());let N=this._pageMatches[j].length;this._matchesCountTotal+=N,this.#t?N>0&&this.#w():++this.#n===this._linkService.pagesCount&&this.#w()}#d(){if(this._extractTextPromises.length>0)return;let j=Promise.resolve(),H={disableNormalization:!0};for(let P=0,_=this._linkService.pagesCount;P<_;P++){let C=new d.PromiseCapability;this._extractTextPromises[P]=C.promise,j=j.then(()=>this._pdfDocument.getPage(P+1).then(S=>S.getTextContent(H)).then(S=>{let M=[];for(let L of S.items)M.push(L.str),L.hasEOL&&M.push(`
`);[this._pageContents[P],this._pageDiffs[P],this._hasDiacritics[P]]=W(M.join("")),C.resolve()},S=>{console.error(`Unable to get text content for page ${P+1}`,S),this._pageContents[P]="",this._pageDiffs[P]=null,this._hasDiacritics[P]=!1,C.resolve()}))}}#f(j){this._scrollMatches&&this._selected.pageIdx===j&&(this._linkService.page=j+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:j})}#p(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#g(){let j=this.#e.findPrevious,H=this._linkService.page-1,P=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=H,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#p();for(let S=0;S<P;S++)this._pendingFindMatches.has(S)||(this._pendingFindMatches.add(S),this._extractTextPromises[S].then(()=>{this._pendingFindMatches.delete(S),this.#u(S)}))}if(this.#s.length===0){this.#E(u.FOUND);return}if(this._resumePageIdx)return;let C=this._offset;if(this._pagesToSearch=P,C.matchIdx!==null){let S=this._pageMatches[C.pageIdx].length;if(!j&&C.matchIdx+1<S||j&&C.matchIdx>0){C.matchIdx=j?C.matchIdx-1:C.matchIdx+1,this.#y(!0);return}this.#h(j)}this.#v()}#m(j){let H=this._offset,P=j.length,_=this.#e.findPrevious;return P?(H.matchIdx=_?P-1:0,this.#y(!0),!0):(this.#h(_),H.wrapped&&(H.matchIdx=null,this._pagesToSearch<0)?(this.#y(!1),!0):!1)}#v(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let j=null;do{let H=this._offset.pageIdx;if(j=this._pageMatches[H],!j){this._resumePageIdx=H;break}}while(!this.#m(j))}#h(j){let H=this._offset,P=this._linkService.pagesCount;H.pageIdx=j?H.pageIdx-1:H.pageIdx+1,H.matchIdx=null,this._pagesToSearch--,(H.pageIdx>=P||H.pageIdx<0)&&(H.pageIdx=j?P-1:0,H.wrapped=!0)}#y(j=!1){let H=u.NOT_FOUND,P=this._offset.wrapped;if(this._offset.wrapped=!1,j){let _=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,H=P?u.WRAPPED:u.FOUND,_!==-1&&_!==this._selected.pageIdx&&this.#f(_)}this.#E(H,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#f(this._selected.pageIdx))}#A(j){let H=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||H&&this._pdfDocument!==H||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#E(u.FOUND),this._highlightMatches=!1,this.#p())})}#_(){let{pageIdx:j,matchIdx:H}=this._selected,P=0,_=this._matchesCountTotal;if(H!==-1){for(let C=0;C<j;C++)P+=this._pageMatches[C]?.length||0;P+=H+1}return(P<1||P>_)&&(P=_=0),{current:P,total:_}}#w(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#_()})}#E(j,H=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||j===u.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:j,previous:H,matchesCount:this.#_(),rawQuery:this.#e?.query??null})}}s.PDFFindController=Q},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.CursorTool=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=B,s.apiPageModeToSidebarView=$,s.approximateFraction=X,s.backtrackBeforeAllVisibleElements=P,s.binarySearchFirstItem=Q,s.docStyle=void 0,s.getActiveOrFocusedElement=k,s.getPageSizeInches=H,s.getVisibleElements=_,s.isPortraitOrientation=V,s.isValidRotation=M,s.isValidScrollMode=L,s.isValidSpreadMode=N,s.normalizeWheelEventDelta=S,s.normalizeWheelEventDirection=C,s.parseQueryString=U,s.removeNullCharacters=G,s.roundToDivide=j,s.scrollIntoView=R,s.toggleCheckedBtn=q,s.toggleExpandedBtn=ne,s.watchScroll=O;let o="auto";s.DEFAULT_SCALE_VALUE=o;let a=1;s.DEFAULT_SCALE=a;let h=1.1;s.DEFAULT_SCALE_DELTA=h;let d=.1;s.MIN_SCALE=d;let u=10;s.MAX_SCALE=u;let l=0;s.UNKNOWN_SCALE=l;let c=1.25;s.MAX_AUTO_SCALE=c;let g=40;s.SCROLLBAR_PADDING=g;let f=5;s.VERTICAL_PADDING=f;let p={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=p;let y={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=y;let v={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=v;let A={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};s.TextLayerMode=A;let m={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=m;let b={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=b;let w={SELECT:0,HAND:1,ZOOM:2};s.CursorTool=w;let D=/\bprint\s*\(/;s.AutoPrintRegExp=D;class I{constructor(){let z=window.devicePixelRatio||1;this.sx=z,this.sy=z}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=I;function R(Z,z,K=!1){let Y=Z.offsetParent;if(!Y){console.error("offsetParent is not set -- cannot scroll");return}let J=Z.offsetTop+Z.clientTop,ie=Z.offsetLeft+Z.clientLeft;for(;Y.clientHeight===Y.scrollHeight&&Y.clientWidth===Y.scrollWidth||K&&(Y.classList.contains("markedContent")||getComputedStyle(Y).overflow==="hidden");)if(J+=Y.offsetTop,ie+=Y.offsetLeft,Y=Y.offsetParent,!Y)return;z&&(z.top!==void 0&&(J+=z.top),z.left!==void 0&&(ie+=z.left,Y.scrollLeft=ie)),Y.scrollTop=J}function O(Z,z){let K=function(ie){J||(J=window.requestAnimationFrame(function(){J=null;let le=Z.scrollLeft,de=Y.lastX;le!==de&&(Y.right=le>de),Y.lastX=le;let he=Z.scrollTop,ve=Y.lastY;he!==ve&&(Y.down=he>ve),Y.lastY=he,z(Y)}))},Y={right:!0,down:!0,lastX:Z.scrollLeft,lastY:Z.scrollTop,_eventHandler:K},J=null;return Z.addEventListener("scroll",K,!0),Y}function U(Z){let z=new Map;for(let[K,Y]of new URLSearchParams(Z))z.set(K.toLowerCase(),Y);return z}let W=/[\x01-\x1F]/g;function G(Z,z=!1){return typeof Z!="string"?(console.error("The argument must be a string."),Z):(z&&(Z=Z.replaceAll(W," ")),Z.replaceAll("\0",""))}function Q(Z,z,K=0){let Y=K,J=Z.length-1;if(J<0||!z(Z[J]))return Z.length;if(z(Z[Y]))return Y;for(;Y<J;){let ie=Y+J>>1,se=Z[ie];z(se)?J=ie:Y=ie+1}return Y}function X(Z){if(Math.floor(Z)===Z)return[Z,1];let z=1/Z,K=8;if(z>K)return[1,K];if(Math.floor(z)===z)return[1,z];let Y=Z>1?z:Z,J=0,ie=1,se=1,le=1;for(;;){let he=J+se,ve=ie+le;if(ve>K)break;Y<=he/ve?(se=he,le=ve):(J=he,ie=ve)}let de;return Y-J/ie<se/le-Y?de=Y===Z?[J,ie]:[ie,J]:de=Y===Z?[se,le]:[le,se],de}function j(Z,z){let K=Z%z;return K===0?Z:Math.round(Z-K+z)}function H({view:Z,userUnit:z,rotate:K}){let[Y,J,ie,se]=Z,le=K%180!==0,de=(ie-Y)/72*z,he=(se-J)/72*z;return{width:le?he:de,height:le?de:he}}function P(Z,z,K){if(Z<2)return Z;let Y=z[Z].div,J=Y.offsetTop+Y.clientTop;J>=K&&(Y=z[Z-1].div,J=Y.offsetTop+Y.clientTop);for(let ie=Z-2;ie>=0&&(Y=z[ie].div,!(Y.offsetTop+Y.clientTop+Y.clientHeight<=J));--ie)Z=ie;return Z}function _({scrollEl:Z,views:z,sortByVisibility:K=!1,horizontal:Y=!1,rtl:J=!1}){let ie=Z.scrollTop,se=ie+Z.clientHeight,le=Z.scrollLeft,de=le+Z.clientWidth;function he(kt){let ot=kt.div;return ot.offsetTop+ot.clientTop+ot.clientHeight>ie}function ve(kt){let ot=kt.div,re=ot.offsetLeft+ot.clientLeft,te=re+ot.clientWidth;return J?re<de:te>le}let Pe=[],ft=new Set,it=z.length,Nt=Q(z,Y?ve:he);Nt>0&&Nt<it&&!Y&&(Nt=P(Nt,z,ie));let nt=Y?de:-1;for(let kt=Nt;kt<it;kt++){let ot=z[kt],re=ot.div,te=re.offsetLeft+re.clientLeft,ee=re.offsetTop+re.clientTop,ce=re.clientWidth,Re=re.clientHeight,Je=te+ce,Ye=ee+Re;if(nt===-1)Ye>=se&&(nt=Ye);else if((Y?te:ee)>nt)break;if(Ye<=ie||ee>=se||Je<=le||te>=de)continue;let In=Math.max(0,ie-ee)+Math.max(0,Ye-se),Mn=Math.max(0,le-te)+Math.max(0,Je-de),dn=(Re-In)/Re,at=(ce-Mn)/ce,xn=dn*at*100|0;Pe.push({id:ot.id,x:te,y:ee,view:ot,percent:xn,widthPercent:at*100|0}),ft.add(ot.id)}let $t=Pe[0],hr=Pe.at(-1);return K&&Pe.sort(function(kt,ot){let re=kt.percent-ot.percent;return Math.abs(re)>.001?-re:kt.id-ot.id}),{first:$t,last:hr,views:Pe,ids:ft}}function C(Z){let z=Math.hypot(Z.deltaX,Z.deltaY),K=Math.atan2(Z.deltaY,Z.deltaX);return-.25*Math.PI<K&&K<.75*Math.PI&&(z=-z),z}function S(Z){let z=Z.deltaMode,K=C(Z),Y=30,J=30;return z===WheelEvent.DOM_DELTA_PIXEL?K/=Y*J:z===WheelEvent.DOM_DELTA_LINE&&(K/=J),K}function M(Z){return Number.isInteger(Z)&&Z%90===0}function L(Z){return Number.isInteger(Z)&&Object.values(m).includes(Z)&&Z!==m.UNKNOWN}function N(Z){return Number.isInteger(Z)&&Object.values(b).includes(Z)&&Z!==b.UNKNOWN}function V(Z){return Z.width<=Z.height}let F=new Promise(function(Z){window.requestAnimationFrame(Z)});s.animationStarted=F;let E=document.documentElement.style;s.docStyle=E;function x(Z,z,K){return Math.min(Math.max(Z,z),K)}class T{#e=null;#t=null;#n=0;#i=null;#a=!0;constructor(z){this.#e=z.classList,this.#i=z.style}get percent(){return this.#n}set percent(z){if(this.#n=x(z,0,100),isNaN(z)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(z){if(!z)return;let Y=z.parentNode.offsetWidth-z.offsetWidth;Y>0&&this.#i.setProperty("--progressBar-end-offset",`${Y}px`)}setDisableAutoFetch(z=5e3){isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},z))}hide(){this.#a&&(this.#a=!1,this.#e.add("hidden"))}show(){this.#a||(this.#a=!0,this.#e.remove("hidden"))}}s.ProgressBar=T;function k(){let Z=document,z=Z.activeElement||Z.querySelector(":focus");for(;z?.shadowRoot;)Z=z.shadowRoot,z=Z.activeElement||Z.querySelector(":focus");return z}function B(Z){let z=m.VERTICAL,K=b.NONE;switch(Z){case"SinglePage":z=m.PAGE;break;case"OneColumn":break;case"TwoPageLeft":z=m.PAGE;case"TwoColumnLeft":K=b.ODD;break;case"TwoPageRight":z=m.PAGE;case"TwoColumnRight":K=b.EVEN;break}return{scrollMode:z,spreadMode:K}}function $(Z){switch(Z){case"UseNone":return v.NONE;case"UseThumbs":return v.THUMBS;case"UseOutlines":return v.OUTLINE;case"UseAttachments":return v.ATTACHMENTS;case"UseOC":return v.LAYERS}return v.NONE}function q(Z,z,K=null){Z.classList.toggle("toggled",z),Z.setAttribute("aria-checked",z),K?.classList.toggle("hidden",!z)}function ne(Z,z,K=null){Z.classList.toggle("toggled",z),Z.setAttribute("aria-expanded",z),K?.classList.toggle("hidden",!z)}},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=v,s.getNormalizeWithNFKC=m;let o={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=o;function a(b){return b<11904}function h(b){return(b&65408)===0}function d(b){return b>=97&&b<=122||b>=65&&b<=90}function u(b){return b>=48&&b<=57}function l(b){return b===32||b===9||b===13||b===10}function c(b){return b>=13312&&b<=40959||b>=63744&&b<=64255}function g(b){return b>=12448&&b<=12543}function f(b){return b>=12352&&b<=12447}function p(b){return b>=65376&&b<=65439}function y(b){return(b&65408)===3584}function v(b){return a(b)?h(b)?l(b)?o.SPACE:d(b)||u(b)||b===95?o.ALPHA_LETTER:o.PUNCT:y(b)?o.THAI_LETTER:b===160?o.SPACE:o.ALPHA_LETTER:c(b)?o.HAN_LETTER:g(b)?o.KATAKANA_LETTER:f(b)?o.HIRAGANA_LETTER:p(b)?o.HALFWIDTH_KATAKANA_LETTER:o.ALPHA_LETTER}let A;function m(){return A||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",A}},r=>{r.exports=globalThis.pdfjsLib},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var a=o(2);let h="noopener noreferrer nofollow",d={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=d;function u(g,{url:f,target:p,rel:y,enabled:v=!0}={}){if(!f||typeof f!="string")throw new Error('A valid "url" parameter must provided.');v?g.href=g.title=f:(g.href="",g.title=`Disabled: ${f}`,g.onclick=()=>!1);let A="";switch(p){case d.NONE:break;case d.SELF:A="_self";break;case d.BLANK:A="_blank";break;case d.PARENT:A="_parent";break;case d.TOP:A="_top";break}g.target=A,g.rel=typeof y=="string"?y:h}class l{#e=new Map;constructor({eventBus:f,externalLinkTarget:p=null,externalLinkRel:y=null,ignoreDestinationZoom:v=!1}={}){this.eventBus=f,this.externalLinkTarget=p,this.externalLinkRel=y,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=v,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(f,p=null){this.baseUrl=p,this.pdfDocument=f,this.#e.clear()}setViewer(f){this.pdfViewer=f}setHistory(f){this.pdfHistory=f}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(f){this.pdfViewer.currentPageNumber=f}get rotation(){return this.pdfViewer.pagesRotation}set rotation(f){this.pdfViewer.pagesRotation=f}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}#t(f,p=null,y){let v=y[0],A;if(typeof v=="object"&&v!==null){if(A=this._cachedPageNumber(v),!A){this.pdfDocument.getPageIndex(v).then(m=>{this.cachePageRef(m+1,v),this.#t(f,p,y)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${v}" is not a valid page reference, for dest="${f}".`)});return}}else if(Number.isInteger(v))A=v+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${v}" is not a valid destination reference, for dest="${f}".`);return}if(!A||A<1||A>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${A}" is not a valid page number, for dest="${f}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:p,explicitDest:y,pageNumber:A})),this.pdfViewer.scrollPageIntoView({pageNumber:A,destArray:y,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(f){return oe(this,null,function*(){if(!this.pdfDocument)return;let p,y;if(typeof f=="string"?(p=f,y=yield this.pdfDocument.getDestination(f)):(p=null,y=yield f),!Array.isArray(y)){console.error(`PDFLinkService.goToDestination: "${y}" is not a valid destination array, for dest="${f}".`);return}this.#t(f,p,y)})}goToPage(f){if(!this.pdfDocument)return;let p=typeof f=="string"&&this.pdfViewer.pageLabelToPageNumber(f)||f|0;if(!(Number.isInteger(p)&&p>0&&p<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${f}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(p)),this.pdfViewer.scrollPageIntoView({pageNumber:p})}addLinkAttributes(f,p,y=!1){u(f,{url:p,target:y?d.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(f){if(typeof f=="string"){if(f.length>0)return this.getAnchorUrl("#"+escape(f))}else if(Array.isArray(f)){let p=JSON.stringify(f);if(p.length>0)return this.getAnchorUrl("#"+escape(p))}return this.getAnchorUrl("")}getAnchorUrl(f){return this.baseUrl?this.baseUrl+f:f}setHash(f){if(!this.pdfDocument)return;let p,y;if(f.includes("=")){let v=(0,a.parseQueryString)(f);if(v.has("search")){let A=v.get("search").replaceAll('"',""),m=v.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:m?A:A.match(/\S+/g)})}if(v.has("page")&&(p=v.get("page")|0||1),v.has("zoom")){let A=v.get("zoom").split(","),m=A[0],b=parseFloat(m);m.includes("Fit")?m==="Fit"||m==="FitB"?y=[null,{name:m}]:m==="FitH"||m==="FitBH"||m==="FitV"||m==="FitBV"?y=[null,{name:m},A.length>1?A[1]|0:null]:m==="FitR"?A.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):y=[null,{name:m},A[1]|0,A[2]|0,A[3]|0,A[4]|0]:console.error(`PDFLinkService.setHash: "${m}" is not a valid zoom value.`):y=[null,{name:"XYZ"},A.length>1?A[1]|0:null,A.length>2?A[2]|0:null,b?b/100:m]}y?this.pdfViewer.scrollPageIntoView({pageNumber:p||this.page,destArray:y,allowNegativeOffset:!0}):p&&(this.page=p),v.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:v.get("pagemode")}),v.has("nameddest")&&this.goToDestination(v.get("nameddest"))}else{y=unescape(f);try{y=JSON.parse(y),Array.isArray(y)||(y=y.toString())}catch{}if(typeof y=="string"||l.#n(y)){this.goToDestination(y);return}console.error(`PDFLinkService.setHash: "${unescape(f)}" is not a valid destination.`)}}executeNamedAction(f){switch(f){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:f})}executeSetOCGState(f){return oe(this,null,function*(){let p=this.pdfDocument,y=yield this.pdfViewer.optionalContentConfigPromise;if(p!==this.pdfDocument)return;let v;for(let A of f.state){switch(A){case"ON":case"OFF":case"Toggle":v=A;continue}switch(v){case"ON":y.setVisibility(A,!0);break;case"OFF":y.setVisibility(A,!1);break;case"Toggle":let m=y.getGroup(A);m&&y.setVisibility(A,!m.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(y)})}cachePageRef(f,p){if(!p)return;let y=p.gen===0?`${p.num}R`:`${p.num}R${p.gen}`;this.#e.set(y,f)}_cachedPageNumber(f){if(!f)return null;let p=f.gen===0?`${f.num}R`:`${f.num}R${f.gen}`;return this.#e.get(p)||null}static#n(f){if(!Array.isArray(f))return!1;let p=f.length;if(p<2)return!1;let y=f[0];if(!(typeof y=="object"&&Number.isInteger(y.num)&&Number.isInteger(y.gen))&&!(Number.isInteger(y)&&y>=0))return!1;let v=f[1];if(!(typeof v=="object"&&typeof v.name=="string"))return!1;let A=!0;switch(v.name){case"XYZ":if(p!==5)return!1;break;case"Fit":case"FitB":return p===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(p!==3)return!1;break;case"FitR":if(p!==6)return!1;A=!1;break;default:return!1}for(let m=2;m<p;m++){let b=f[m];if(!(typeof b=="number"||A&&b===null))return!1}return!0}}s.PDFLinkService=l;class c{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(f){}get rotation(){return 0}set rotation(f){}get isInPresentationMode(){return!1}goToDestination(f){return oe(this,null,function*(){})}goToPage(f){}addLinkAttributes(f,p,y=!1){u(f,{url:p,enabled:this.externalLinkEnabled})}getDestinationHash(f){return"#"}getAnchorUrl(f){return"#"}setHash(f){}executeNamedAction(f){}executeSetOCGState(f){}cachePageRef(f,p){}}s.SimpleLinkService=c},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var a=o(4),h=o(7),d=o(2);class u{#e=null;constructor({pageDiv:c,pdfPage:g,linkService:f,downloadManager:p,annotationStorage:y=null,imageResourcesPath:v="",renderForms:A=!0,l10n:m=h.NullL10n,enableScripting:b=!1,hasJSActionsPromise:w=null,fieldObjectsPromise:D=null,annotationCanvasMap:I=null,accessibilityManager:R=null}){this.pageDiv=c,this.pdfPage=g,this.linkService=f,this.downloadManager=p,this.imageResourcesPath=v,this.renderForms=A,this.l10n=m,this.annotationStorage=y,this.enableScripting=b,this._hasJSActionsPromise=w||Promise.resolve(!1),this._fieldObjectsPromise=D||Promise.resolve(null),this._annotationCanvasMap=I,this._accessibilityManager=R,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=f.eventBus}render(c,g="display"){return oe(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:c.clone({dontFlip:!0})});return}let[f,p,y]=yield Promise.all([this.pdfPage.getAnnotations({intent:g}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let v=this.div=document.createElement("div");if(v.className="annotationLayer",this.pageDiv.append(v),f.length===0){this.hide();return}this.annotationLayer=new a.AnnotationLayer({div:v,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:c.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:f,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:p,fieldObjects:y}),this.linkService.isInPresentationMode&&this.#t(d.PresentationModeState.FULLSCREEN),this.#e||(this.#e=A=>{this.#t(A.state)},this._eventBus?._on("presentationmodechanged",this.#e))})}cancel(){this._cancelled=!0,this.#e&&(this._eventBus?._off("presentationmodechanged",this.#e),this.#e=null)}hide(){this.div&&(this.div.hidden=!0)}#t(c){if(!this.div)return;let g=!1;switch(c){case d.PresentationModeState.FULLSCREEN:g=!0;break;case d.PresentationModeState.NORMAL:break;default:return}for(let f of this.div.childNodes)f.hasAttribute("data-internal-link")||(f.inert=g)}}s.AnnotationLayerBuilder=u},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;let o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function a(l,c){switch(l){case"find_match_count":l=`find_match_count[${c.total===1?"one":"other"}]`;break;case"find_match_count_limit":l=`find_match_count_limit[${c.limit===1?"one":"other"}]`;break}return o[l]||""}function h(l,c){return c?l.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,f)=>f in c?c[f]:"{{"+f+"}}"):l}let d={getLanguage(){return oe(this,null,function*(){return"en-us"})},getDirection(){return oe(this,null,function*(){return"ltr"})},get(f){return oe(this,arguments,function*(l,c=null,g=a(l,c)){return h(g,c)})},translate(l){return oe(this,null,function*(){})}};s.NullL10n=d},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var a=o(4);function h(u,l){let c=document.createElement("a");if(!c.click)throw new Error('DownloadManager: "a.click()" is not supported.');c.href=u,c.target="_parent","download"in c&&(c.download=l),(document.body||document.documentElement).append(c),c.click(),c.remove()}class d{#e=new WeakMap;downloadUrl(l,c,g){if(!(0,a.createValidAbsoluteUrl)(l,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${l}`);return}h(l+"#pdfjs.action=download",c)}downloadData(l,c,g){let f=URL.createObjectURL(new Blob([l],{type:g}));h(f,c)}openOrDownloadData(l,c,g){let p=(0,a.isPdfFile)(g)?"application/pdf":"";return this.downloadData(c,g,p),!1}download(l,c,g,f){let p=URL.createObjectURL(l);h(p,g)}}s.DownloadManager=d},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=a;let o={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=o;function a({target:u,name:l,delay:c=0}){return new Promise(function(g,f){if(typeof u!="object"||!(l&&typeof l=="string")||!(Number.isInteger(c)&&c>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function p(m){u instanceof h?u._off(l,y):u.removeEventListener(l,y),A&&clearTimeout(A),g(m)}let y=p.bind(null,o.EVENT);u instanceof h?u._on(l,y):u.addEventListener(l,y);let v=p.bind(null,o.TIMEOUT),A=setTimeout(v,c)})}class h{#e=Object.create(null);on(l,c,g=null){this._on(l,c,{external:!0,once:g?.once})}off(l,c,g=null){this._off(l,c,{external:!0,once:g?.once})}dispatch(l,c){let g=this.#e[l];if(!g||g.length===0)return;let f;for(let{listener:p,external:y,once:v}of g.slice(0)){if(v&&this._off(l,p),y){(f||=[]).push(p);continue}p(c)}if(f){for(let p of f)p(c);f=null}}_on(l,c,g=null){(this.#e[l]||=[]).push({listener:c,external:g?.external===!0,once:g?.once===!0})}_off(l,c,g=null){let f=this.#e[l];if(f){for(let p=0,y=f.length;p<y;p++)if(f[p].listener===c){f.splice(p,1);return}}}}s.EventBus=h;class d extends h{dispatch(l,c){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=d},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,o(11);var a=o(7);let h={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function d(l){return h[l?.toLowerCase()]||l}class u{constructor(c){let{webL10n:g}=document;this._lang=c,this._ready=new Promise((f,p)=>{g.setLanguage(d(c),()=>{f(g)})})}getLanguage(){return oe(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return oe(this,null,function*(){return(yield this._ready).getDirection()})}get(p){return oe(this,arguments,function*(c,g=null,f=(0,a.getL10nFallback)(c,g)){return(yield this._ready).get(c,g,f)})}translate(c){return oe(this,null,function*(){return(yield this._ready).translate(c)})}}s.GenericL10n=u},()=>{document.webL10n=function(r,s){var o={},a="",h="textContent",d="",u={},l="loading",c=!0;function g(){return s.querySelectorAll('link[type="application/l10n"]')}function f(){var G=s.querySelector('script[type="application/l10n"]');return G?JSON.parse(G.innerHTML):null}function p(G){return G?G.querySelectorAll("*[data-l10n-id]"):[]}function y(G){if(!G)return{};var Q=G.getAttribute("data-l10n-id"),X=G.getAttribute("data-l10n-args"),j={};if(X)try{j=JSON.parse(X)}catch{console.warn("could not parse arguments for #"+Q)}return{id:Q,args:j}}function v(G,Q,X){Q=Q||function(P){},X=X||function(){};var j=new XMLHttpRequest;j.open("GET",G,c),j.overrideMimeType&&j.overrideMimeType("text/plain; charset=utf-8"),j.onreadystatechange=function(){j.readyState==4&&(j.status==200||j.status===0?Q(j.responseText):X())},j.onerror=X,j.ontimeout=X;try{j.send(null)}catch{X()}}function A(G,Q,X,j){var H=G.replace(/[^\/]*$/,"")||"./";function P(C){return C.lastIndexOf("\\")<0?C:C.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function _(C,S){var M={},L=/^\s*|\s*$/,N=/^\s*#|^\s*$/,V=/^\s*\[(.*)\]\s*$/,F=/^\s*@import\s+url\((.*)\)\s*$/i,E=/^([^=\s]*)\s*=\s*(.+)$/;function x(k,B,$){var q=k.replace(L,"").split(/[\r\n]+/),ne="*",Z=Q.split("-",1)[0],z=!1,K="";function Y(){for(;;){if(!q.length){$();return}var J=q.shift();if(!N.test(J)){if(B){if(K=V.exec(J),K){ne=K[1].toLowerCase(),z=ne!=="*"&&ne!==Q&&ne!==Z;continue}else if(z)continue;if(K=F.exec(J),K){T(H+K[1],Y);return}}var ie=J.match(E);ie&&ie.length==3&&(M[ie[1]]=P(ie[2]))}}}Y()}function T(k,B){v(k,function($){x($,!1,B)},function(){console.warn(k+" not found."),B()})}x(C,!0,function(){S(M)})}v(G,function(C){a+=C,_(C,function(S){for(var M in S){var L,N,V=M.lastIndexOf(".");V>0?(L=M.substring(0,V),N=M.substring(V+1)):(L=M,N=h),o[L]||(o[L]={}),o[L][N]=S[M]}X&&X()})},j)}function m(G,Q){G&&(G=G.toLowerCase()),Q=Q||function(){},b(),d=G;var X=g(),j=X.length;if(j===0){var H=f();if(H&&H.locales&&H.default_locale){if(console.log("using the embedded JSON directory, early way out"),o=H.locales[G],!o){var P=H.default_locale.toLowerCase();for(var _ in H.locales)if(_=_.toLowerCase(),_===G){o=H.locales[G];break}else _===P&&(o=H.locales[P])}Q()}else console.log("no resource to load, early way out");l="complete";return}var C=null,S=0;C=function(){S++,S>=j&&(Q(),l="complete")};function M(V){var F=V.href;this.load=function(E,x){A(F,E,x,function(){console.warn(F+" not found."),console.warn('"'+E+'" resource not found'),d="",x()})}}for(var L=0;L<j;L++){var N=new M(X[L]);N.load(G,C)}}function b(){o={},a="",d=""}function w(G){var Q={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function X(_,C){return C.indexOf(_)!==-1}function j(_,C,S){return C<=_&&_<=S}var H={0:function(_){return"other"},1:function(_){return j(_%100,3,10)?"few":_===0?"zero":j(_%100,11,99)?"many":_==2?"two":_==1?"one":"other"},2:function(_){return _!==0&&_%10===0?"many":_==2?"two":_==1?"one":"other"},3:function(_){return _==1?"one":"other"},4:function(_){return j(_,0,1)?"one":"other"},5:function(_){return j(_,0,2)&&_!=2?"one":"other"},6:function(_){return _===0?"zero":_%10==1&&_%100!=11?"one":"other"},7:function(_){return _==2?"two":_==1?"one":"other"},8:function(_){return j(_,3,6)?"few":j(_,7,10)?"many":_==2?"two":_==1?"one":"other"},9:function(_){return _===0||_!=1&&j(_%100,1,19)?"few":_==1?"one":"other"},10:function(_){return j(_%10,2,9)&&!j(_%100,11,19)?"few":_%10==1&&!j(_%100,11,19)?"one":"other"},11:function(_){return j(_%10,2,4)&&!j(_%100,12,14)?"few":_%10===0||j(_%10,5,9)||j(_%100,11,14)?"many":_%10==1&&_%100!=11?"one":"other"},12:function(_){return j(_,2,4)?"few":_==1?"one":"other"},13:function(_){return j(_%10,2,4)&&!j(_%100,12,14)?"few":_!=1&&j(_%10,0,1)||j(_%10,5,9)||j(_%100,12,14)?"many":_==1?"one":"other"},14:function(_){return j(_%100,3,4)?"few":_%100==2?"two":_%100==1?"one":"other"},15:function(_){return _===0||j(_%100,2,10)?"few":j(_%100,11,19)?"many":_==1?"one":"other"},16:function(_){return _%10==1&&_!=11?"one":"other"},17:function(_){return _==3?"few":_===0?"zero":_==6?"many":_==2?"two":_==1?"one":"other"},18:function(_){return _===0?"zero":j(_,0,2)&&_!==0&&_!=2?"one":"other"},19:function(_){return j(_,2,10)?"few":j(_,0,1)?"one":"other"},20:function(_){return(j(_%10,3,4)||_%10==9)&&!(j(_%100,10,19)||j(_%100,70,79)||j(_%100,90,99))?"few":_%1e6===0&&_!==0?"many":_%10==2&&!X(_%100,[12,72,92])?"two":_%10==1&&!X(_%100,[11,71,91])?"one":"other"},21:function(_){return _===0?"zero":_==1?"one":"other"},22:function(_){return j(_,0,1)||j(_,11,99)?"one":"other"},23:function(_){return j(_%10,1,2)||_%20===0?"one":"other"},24:function(_){return j(_,3,10)||j(_,13,19)?"few":X(_,[2,12])?"two":X(_,[1,11])?"one":"other"}},P=Q[G.replace(/-.*$/,"")];return P in H?H[P]:(console.warn("plural form unknown for ["+G+"]"),function(){return"other"})}u.plural=function(G,Q,X,j){var H=parseFloat(Q);if(isNaN(H)||j!=h)return G;u._pluralRules||(u._pluralRules=w(d));var P="["+u._pluralRules(H)+"]";return H===0&&X+"[zero]"in o?G=o[X+"[zero]"][j]:H==1&&X+"[one]"in o?G=o[X+"[one]"][j]:H==2&&X+"[two]"in o?G=o[X+"[two]"][j]:X+P in o?G=o[X+P][j]:X+"[other]"in o&&(G=o[X+"[other]"][j]),G};function D(G,Q,X){var j=o[G];if(!j){if(console.warn("#"+G+" is undefined."),!X)return null;j=X}var H={};for(var P in j){var _=j[P];_=I(_,Q,G,P),_=R(_,Q,G),H[P]=_}return H}function I(G,Q,X,j){var H=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,P=H.exec(G);if(!P||!P.length)return G;var _=P[1],C=P[2],S;if(Q&&C in Q?S=Q[C]:C in o&&(S=o[C]),_ in u){var M=u[_];G=M(G,S,X,j)}return G}function R(G,Q,X){var j=/\{\{\s*(.+?)\s*\}\}/g;return G.replace(j,function(H,P){return Q&&P in Q?Q[P]:P in o?o[P]:(console.log("argument {{"+P+"}} for #"+X+" is undefined."),H)})}function O(G){var Q=y(G);if(Q.id){var X=D(Q.id,Q.args);if(!X){console.warn("#"+Q.id+" is undefined.");return}if(X[h]){if(U(G)===0)G[h]=X[h];else{for(var j=G.childNodes,H=!1,P=0,_=j.length;P<_;P++)j[P].nodeType===3&&/\S/.test(j[P].nodeValue)&&(H?j[P].nodeValue="":(j[P].nodeValue=X[h],H=!0));if(!H){var C=s.createTextNode(X[h]);G.prepend(C)}}delete X[h]}for(var S in X)G[S]=X[S]}}function U(G){if(G.children)return G.children.length;if(typeof G.childElementCount<"u")return G.childElementCount;for(var Q=0,X=0;X<G.childNodes.length;X++)Q+=G.nodeType===1?1:0;return Q}function W(G){G=G||s.documentElement;for(var Q=p(G),X=Q.length,j=0;j<X;j++)O(Q[j]);O(G)}return{get:function(G,Q,X){var j=G.lastIndexOf("."),H=h;j>0&&(H=G.substring(j+1),G=G.substring(0,j));var P;X&&(P={},P[H]=X);var _=D(G,Q,P);return _&&H in _?_[H]:"{{"+G+"}}"},getData:function(){return o},getText:function(){return a},getLanguage:function(){return d},setLanguage:function(G,Q){m(G,function(){Q&&Q()})},getDirection:function(){var G=["ar","he","fa","ps","ur"],Q=d.split("-",1)[0];return G.indexOf(Q)>=0?"rtl":"ltr"},translate:W,getReadyState:function(){return l},ready:function(G){if(G)l=="complete"||l=="interactive"?r.setTimeout(function(){G()}):s.addEventListener&&s.addEventListener("localized",function Q(){s.removeEventListener("localized",Q),G()});else return}}}(window,document)},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=p,s.isDestHashesEqual=f;var a=o(2),h=o(9);let d=1e3,u=50,l=1e3;function c(){return document.location.hash}class g{constructor({linkService:v,eventBus:A}){this.linkService=v,this.eventBus=A,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",m=>{this._isPagesLoaded=!!m.pagesCount},{once:!0})})}initialize({fingerprint:v,resetHistory:A=!1,updateUrl:m=!1}){if(!v||typeof v!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let b=this._fingerprint!==""&&this._fingerprint!==v;this._fingerprint=v,this._updateUrl=m===!0,this._initialized=!0,this._bindEvents();let w=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=c(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(w,!0)||A){let{hash:I,page:R,rotation:O}=this._parseCurrentHash(!0);if(!I||b||A){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:I,page:R,rotation:O},!0);return}let D=w.destination;this._updateInternalState(D,w.uid,!0),D.rotation!==void 0&&(this._initialRotation=D.rotation),D.dest?(this._initialBookmark=JSON.stringify(D.dest),this._destination.page=null):D.hash?this._initialBookmark=D.hash:D.page&&(this._initialBookmark=`page=${D.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:v=null,explicitDest:A,pageNumber:m}){if(!this._initialized)return;if(v&&typeof v!="string"){console.error(`PDFHistory.push: "${v}" is not a valid namedDest parameter.`);return}else if(Array.isArray(A)){if(!this._isValidPage(m)&&(m!==null||this._destination)){console.error(`PDFHistory.push: "${m}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${A}" is not a valid explicitDest parameter.`);return}let b=v||JSON.stringify(A);if(!b)return;let w=!1;if(this._destination&&(f(this._destination.hash,b)||p(this._destination.dest,A))){if(this._destination.page)return;w=!0}this._popStateInProgress&&!w||(this._pushOrReplaceState({dest:A,hash:b,page:m,rotation:this.linkService.rotation},w),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(v){if(this._initialized){if(!this._isValidPage(v)){console.error(`PDFHistory.pushPage: "${v}" is not a valid page number.`);return}this._destination?.page!==v&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${v}`,page:v,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let v=window.history.state;this._isValidState(v)&&v.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let v=window.history.state;this._isValidState(v)&&v.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(v,A=!1){let m=A||!this._destination,b={fingerprint:this._fingerprint,uid:m?this._uid:this._uid+1,destination:v};this._updateInternalState(v,b.uid);let w;if(this._updateUrl&&v?.hash){let D=document.location.href.split("#")[0];D.startsWith("file://")||(w=`${D}#${v.hash}`)}m?window.history.replaceState(b,"",w):window.history.pushState(b,"",w)}_tryPushCurrentPosition(v=!1){if(!this._position)return;let A=this._position;if(v&&(A=Object.assign(Object.create(null),this._position),A.temporary=!0),!this._destination){this._pushOrReplaceState(A);return}if(this._destination.temporary){this._pushOrReplaceState(A,!0);return}if(this._destination.hash===A.hash||!this._destination.page&&(u<=0||this._numPositionUpdates<=u))return;let m=!1;if(this._destination.page>=A.first&&this._destination.page<=A.page){if(this._destination.dest!==void 0||!this._destination.first)return;m=!0}this._pushOrReplaceState(A,m)}_isValidPage(v){return Number.isInteger(v)&&v>0&&v<=this.linkService.pagesCount}_isValidState(v,A=!1){if(!v)return!1;if(v.fingerprint!==this._fingerprint)if(A){if(typeof v.fingerprint!="string"||v.fingerprint.length!==this._fingerprint.length)return!1;let[m]=performance.getEntriesByType("navigation");if(m?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(v.uid)||v.uid<0||v.destination===null||typeof v.destination!="object")}_updateInternalState(v,A,m=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),m&&v?.temporary&&delete v.temporary,this._destination=v,this._uid=A,this._maxUid=Math.max(this._maxUid,A),this._numPositionUpdates=0}_parseCurrentHash(v=!1){let A=unescape(c()).substring(1),m=(0,a.parseQueryString)(A),b=m.get("nameddest")||"",w=m.get("page")|0;return(!this._isValidPage(w)||v&&b.length>0)&&(w=null),{hash:A,page:w,rotation:this.linkService.rotation}}_updateViewarea({location:v}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:v.pdfOpenParams.substring(1),page:this.linkService.page,first:v.pageNumber,rotation:v.rotation},!this._popStateInProgress&&(u>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,l>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},l)))}_popState({state:v}){let A=c(),m=this._currentHash!==A;if(this._currentHash=A,!v){this._uid++;let{hash:w,page:D,rotation:I}=this._parseCurrentHash();this._pushOrReplaceState({hash:w,page:D,rotation:I},!0);return}if(!this._isValidState(v))return;this._popStateInProgress=!0,m&&(this._blockHashChange++,(0,h.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:d}).then(()=>{this._blockHashChange--}));let b=v.destination;this._updateInternalState(b,v.uid,!0),(0,a.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=g;function f(y,v){return typeof y!="string"||typeof v!="string"?!1:y===v||(0,a.parseQueryString)(y).get("nameddest")===v}function p(y,v){function A(m,b){if(typeof m!=typeof b||Array.isArray(m)||Array.isArray(b))return!1;if(m!==null&&typeof m=="object"&&b!==null){if(Object.keys(m).length!==Object.keys(b).length)return!1;for(let w in m)if(!A(m[w],b[w]))return!1;return!0}return m===b||Number.isNaN(m)&&Number.isNaN(b)}if(!(Array.isArray(y)&&Array.isArray(v))||y.length!==v.length)return!1;for(let m=0,b=y.length;m<b;m++)if(!A(y[m],v[m]))return!1;return!0}},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var a=o(4),h=o(2),d=o(14),u=o(6),l=o(15),c=o(7),g=o(5),f=o(16),p=o(17),y=o(18),v=o(19),A=o(20);let m=l.compatibilityParams.maxCanvasPixels||16777216,b=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new g.SimpleLinkService}});class w{#e=a.AnnotationMode.ENABLE_FORMS;#t=!1;#n=null;#i=null;#a=null;#s=null;#o=h.RenderingStates.INITIAL;#l=h.TextLayerMode.ENABLE;#c={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#r=new WeakMap;constructor(I){let R=I.container,O=I.defaultViewport;this.id=I.id,this.renderingId="page"+this.id,this.#n=I.layerProperties||b,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=I.scale||h.DEFAULT_SCALE,this.viewport=O,this.pdfPageRotate=O.rotation,this._optionalContentConfigPromise=I.optionalContentConfigPromise||null,this.#l=I.textLayerMode??h.TextLayerMode.ENABLE,this.#e=I.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=I.imageResourcesPath||"",this.isOffscreenCanvasSupported=I.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=I.maxCanvasPixels??m,this.pageColors=I.pageColors||null,this.eventBus=I.eventBus,this.renderingQueue=I.renderingQueue,this.l10n=I.l10n||c.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=R,I.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let U=document.createElement("div");if(U.className="page",U.setAttribute("data-page-number",this.id),U.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(W=>{U.setAttribute("aria-label",W)}),this.div=U,this.#u(),R?.append(U),this._isStandalone){R?.style.setProperty("--scale-factor",this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:W}=I;W&&W.then(G=>{W===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=G.hasInitialVisibility)})}}get renderingState(){return this.#o}set renderingState(I){if(I!==this.#o)switch(this.#o=I,this.#i&&(clearTimeout(this.#i),this.#i=null),I){case h.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case h.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),this.#i=setTimeout(()=>{this.div.classList.add("loading"),this.#i=null},0);break;case h.RenderingStates.INITIAL:case h.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#u(){let{viewport:I}=this;if(this.pdfPage){if(this.#a===I.rotation)return;this.#a=I.rotation}(0,a.setLayerDimensions)(this.div,I,!0,!1)}setPdfPage(I){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this._container?.style.setProperty("--hcm-highligh-filter",I.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight")),this.pdfPage=I,this.pdfPageRotate=I.rotate;let R=(this.rotation+this.pdfPageRotate)%360;this.viewport=I.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:R}),this.#u(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}get _textHighlighter(){return(0,a.shadow)(this,"_textHighlighter",new y.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#n().findController}))}#d(){return oe(this,null,function*(){let I=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(R){console.error(`#renderAnnotationLayer: "${R}".`),I=R}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:I})}})}#f(){return oe(this,null,function*(){let I=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(R){console.error(`#renderAnnotationEditorLayer: "${R}".`),I=R}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:I})}})}#p(){return oe(this,null,function*(){let I=null;try{let R=yield this.xfaLayer.render(this.viewport,"display");R?.textDivs&&this._textHighlighter&&this.#v(R.textDivs)}catch(R){console.error(`#renderXfaLayer: "${R}".`),I=R}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:I})}})}#g(){return oe(this,null,function*(){let{pdfPage:I,textLayer:R,viewport:O}=this;if(!R)return;let U=null;try{if(!R.renderingDone){let W=I.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});R.setTextContentSource(W)}yield R.render(O)}catch(W){if(W instanceof a.AbortException)return;console.error(`#renderTextLayer: "${W}".`),U=W}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:R.numTextDivs,error:U}),this.#m()})}#m(){return oe(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new f.StructTreeLayerBuilder;let I=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),R=this.structTreeLayer?.render(I);R&&this.canvas?.append(R),this.structTreeLayer?.show()})}#v(I){return oe(this,null,function*(){let R=yield this.pdfPage.getTextContent(),O=[];for(let U of R.items)O.push(U.str);this._textHighlighter.setTextMapping(I,O),this._textHighlighter.enable()})}_resetZoomLayer(I=!1){if(!this.zoomLayer)return;let R=this.zoomLayer.firstChild;this.#r.delete(R),R.width=0,R.height=0,I&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:I=!1,keepAnnotationLayer:R=!1,keepAnnotationEditorLayer:O=!1,keepXfaLayer:U=!1,keepTextLayer:W=!1}={}){this.cancelRendering({keepAnnotationLayer:R,keepAnnotationEditorLayer:O,keepXfaLayer:U,keepTextLayer:W}),this.renderingState=h.RenderingStates.INITIAL;let G=this.div,Q=G.childNodes,X=I&&this.zoomLayer||null,j=R&&this.annotationLayer?.div||null,H=O&&this.annotationEditorLayer?.div||null,P=U&&this.xfaLayer?.div||null,_=W&&this.textLayer?.div||null;for(let C=Q.length-1;C>=0;C--){let S=Q[C];switch(S){case X:case j:case H:case P:case _:continue}S.remove()}G.removeAttribute("data-loaded"),j&&this.annotationLayer.hide(),H&&this.annotationEditorLayer.hide(),P&&this.xfaLayer.hide(),_&&this.textLayer.hide(),this.structTreeLayer?.hide(),X||(this.canvas&&(this.#r.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:I=0,rotation:R=null,optionalContentConfigPromise:O=null,drawingDelay:U=-1}){this.scale=I||this.scale,typeof R=="number"&&(this.rotation=R),O instanceof Promise&&(this._optionalContentConfigPromise=O,O.then(G=>{O===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=G.hasInitialVisibility)})),this.#c.directDrawing=!0;let W=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:W}),this.#u(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let G=!1;if(this.#t){if(this.maxCanvasPixels===0)G=!0;else if(this.maxCanvasPixels>0){let{width:X,height:j}=this.viewport,{sx:H,sy:P}=this.outputScale;G=(Math.floor(X)*H|0)*(Math.floor(j)*P|0)>this.maxCanvasPixels}}let Q=!G&&U>=0&&U<1e3;if(Q||G){if(Q&&this.renderingState!==h.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:U}),this.renderingState=h.RenderingStates.FINISHED,this.#c.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!Q,hideTextLayer:Q}),Q)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#s});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:I=!1,keepAnnotationEditorLayer:R=!1,keepXfaLayer:O=!1,keepTextLayer:U=!1,cancelExtraDelay:W=0}={}){this.renderTask&&(this.renderTask.cancel(W),this.renderTask=null),this.resume=null,this.textLayer&&(!U||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!I||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!R||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!O||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:I,redrawAnnotationLayer:R=!1,redrawAnnotationEditorLayer:O=!1,redrawXfaLayer:U=!1,redrawTextLayer:W=!1,hideTextLayer:G=!1}){if(!I.hasAttribute("zooming")){I.setAttribute("zooming",!0);let{style:X}=I;X.width=X.height=""}let Q=this.#r.get(I);if(this.viewport!==Q){let X=this.viewport.rotation-Q.rotation,j=Math.abs(X),H=1,P=1;if(j===90||j===270){let{width:_,height:C}=this.viewport;H=C/_,P=_/C}I.style.transform=`rotate(${X}deg) scale(${H}, ${P})`}R&&this.annotationLayer&&this.#d(),O&&this.annotationEditorLayer&&this.#f(),U&&this.xfaLayer&&this.#p(),this.textLayer&&(G?(this.textLayer.hide(),this.structTreeLayer?.hide()):W&&this.#g())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(I,R){return this.viewport.convertToPdfPoint(I,R)}#h(I,R=null){return oe(this,null,function*(){if(I===this.renderTask&&(this.renderTask=null),R instanceof a.RenderingCancelledException){this.#s=null;return}if(this.#s=R,this.renderingState=h.RenderingStates.FINISHED,this._resetZoomLayer(!0),this.#c.regularAnnotations=!I.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#s}),R)throw R})}draw(){return oe(this,null,function*(){this.renderingState!==h.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:I,l10n:R,pageColors:O,pdfPage:U,viewport:W}=this;if(!U)throw this.renderingState=h.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=h.RenderingStates.RUNNING;let G=document.createElement("div");if(G.classList.add("canvasWrapper"),I.append(G),!this.textLayer&&this.#l!==h.TextLayerMode.DISABLE&&!U.isPureXfa&&(this._accessibilityManager||=new p.TextAccessibilityManager,this.textLayer=new v.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:this.#l===h.TextLayerMode.ENABLE_PERMISSIONS}),I.append(this.textLayer.div)),!this.annotationLayer&&this.#e!==a.AnnotationMode.DISABLE){let{annotationStorage:T,downloadManager:k,enableScripting:B,fieldObjectsPromise:$,hasJSActionsPromise:q,linkService:ne}=this.#n();this._annotationCanvasMap||=new Map,this.annotationLayer=new u.AnnotationLayerBuilder({pageDiv:I,pdfPage:U,annotationStorage:T,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===a.AnnotationMode.ENABLE_FORMS,linkService:ne,downloadManager:k,l10n:R,enableScripting:B,hasJSActionsPromise:q,fieldObjectsPromise:$,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}let Q=T=>{if(_?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=h.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=h.RenderingStates.RUNNING,T()};return}T()},{width:X,height:j}=W,H=document.createElement("canvas");H.setAttribute("role","presentation"),H.hidden=!0;let P=!!(O?.background&&O?.foreground),_=T=>{(!P||T)&&(H.hidden=!1,_=null)};G.append(H),this.canvas=H;let C=H.getContext("2d",{alpha:!1}),S=this.outputScale=new h.OutputScale;if(this.maxCanvasPixels===0){let T=1/this.scale;S.sx*=T,S.sy*=T,this.#t=!0}else if(this.maxCanvasPixels>0){let T=X*j,k=Math.sqrt(this.maxCanvasPixels/T);S.sx>k||S.sy>k?(S.sx=k,S.sy=k,this.#t=!0):this.#t=!1}let M=(0,h.approximateFraction)(S.sx),L=(0,h.approximateFraction)(S.sy);H.width=(0,h.roundToDivide)(X*S.sx,M[0]),H.height=(0,h.roundToDivide)(j*S.sy,L[0]);let{style:N}=H;N.width=(0,h.roundToDivide)(X,M[1])+"px",N.height=(0,h.roundToDivide)(j,L[1])+"px",this.#r.set(H,W);let V=S.scaled?[S.sx,0,0,S.sy,0,0]:null,F={canvasContext:C,transform:V,viewport:W,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:O},E=this.renderTask=this.pdfPage.render(F);E.onContinue=Q;let x=E.promise.then(()=>oe(this,null,function*(){if(_?.(!0),yield this.#h(E),this.#g(),this.annotationLayer&&(yield this.#d()),!this.annotationEditorLayer){let{annotationEditorUIManager:T}=this.#n();if(!T)return;this.annotationEditorLayer=new d.AnnotationEditorLayerBuilder({uiManager:T,pageDiv:I,pdfPage:U,l10n:R,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer})}this.#f()}),T=>(T instanceof a.RenderingCancelledException||_?.(!0),this.#h(E,T)));if(U.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&I.append(this.xfaLayer.div);else{let{annotationStorage:T,linkService:k}=this.#n();this.xfaLayer=new A.XfaLayerBuilder({pageDiv:I,pdfPage:U,annotationStorage:T,linkService:k})}this.#p()}return I.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),x})}setPageLabel(I){this.pageLabel=typeof I=="string"?I:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:I,initialOptionalContent:R,regularAnnotations:O}=this.#c;return I&&R&&O?this.canvas:null}}s.PDFPageView=w},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var a=o(4),h=o(7);class d{#e=null;#t;constructor(l){this.pageDiv=l.pageDiv,this.pdfPage=l.pdfPage,this.accessibilityManager=l.accessibilityManager,this.l10n=l.l10n||h.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#t=l.uiManager,this.#e=l.annotationLayer||null}render(l,c="display"){return oe(this,null,function*(){if(c!=="display"||this._cancelled)return;let g=l.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:g}),this.show();return}let f=this.div=document.createElement("div");f.className="annotationEditorLayer",f.tabIndex=0,f.hidden=!0,f.dir=this.#t.direction,this.pageDiv.append(f),this.annotationEditorLayer=new a.AnnotationEditorLayer({uiManager:this.#t,div:f,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:g,annotationLayer:this.#e});let p={viewport:g,div:f,annotations:null,intent:c};this.annotationEditorLayer.render(p),this.show()})}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}s.AnnotationEditorLayerBuilder=d},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;let o=Object.create(null);s.compatibilityParams=o;{let l=navigator.userAgent||"",c=navigator.platform||"",g=navigator.maxTouchPoints||1,f=/Android/.test(l),p=/\b(iPad|iPhone|iPod)(?=;)/.test(l)||c==="MacIntel"&&g>1;(function(){(p||f)&&(o.maxCanvasPixels=5242880)})()}let a={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=a;let h={annotationEditorMode:{value:0,kind:a.VIEWER+a.PREFERENCE},annotationMode:{value:2,kind:a.VIEWER+a.PREFERENCE},cursorToolOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},defaultZoomDelay:{value:400,kind:a.VIEWER+a.PREFERENCE},defaultZoomValue:{value:"",kind:a.VIEWER+a.PREFERENCE},disableHistory:{value:!1,kind:a.VIEWER},disablePageLabels:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePermissions:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableScripting:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableStampEditor:{value:!0,kind:a.VIEWER+a.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:a.VIEWER},externalLinkTarget:{value:0,kind:a.VIEWER+a.PREFERENCE},historyUpdateUrl:{value:!1,kind:a.VIEWER+a.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},imageResourcesPath:{value:"./images/",kind:a.VIEWER},maxCanvasPixels:{value:16777216,kind:a.VIEWER},forcePageColors:{value:!1,kind:a.VIEWER+a.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:a.VIEWER+a.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:a.VIEWER+a.PREFERENCE},pdfBugEnabled:{value:!1,kind:a.VIEWER+a.PREFERENCE},printResolution:{value:150,kind:a.VIEWER},sidebarViewOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},scrollModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},spreadModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},textLayerMode:{value:1,kind:a.VIEWER+a.PREFERENCE},viewerCssTheme:{value:0,kind:a.VIEWER+a.PREFERENCE},viewOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},cMapPacked:{value:!0,kind:a.API},cMapUrl:{value:"../web/cmaps/",kind:a.API},disableAutoFetch:{value:!1,kind:a.API+a.PREFERENCE},disableFontFace:{value:!1,kind:a.API+a.PREFERENCE},disableRange:{value:!1,kind:a.API+a.PREFERENCE},disableStream:{value:!1,kind:a.API+a.PREFERENCE},docBaseUrl:{value:"",kind:a.API},enableXfa:{value:!0,kind:a.API+a.PREFERENCE},fontExtraProperties:{value:!1,kind:a.API},isEvalSupported:{value:!0,kind:a.API},isOffscreenCanvasSupported:{value:!0,kind:a.API},maxImageSize:{value:-1,kind:a.API},pdfBug:{value:!1,kind:a.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:a.API},verbosity:{value:1,kind:a.API},workerPort:{value:null,kind:a.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:a.WORKER}};h.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:a.VIEWER},h.disablePreferences={value:!1,kind:a.VIEWER},h.locale={value:navigator.language||"en-US",kind:a.VIEWER},h.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:a.VIEWER};let d=Object.create(null);class u{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(c){let g=d[c];if(g!==void 0)return g;let f=h[c];if(f!==void 0)return o[c]??f.value}static getAll(c=null){let g=Object.create(null);for(let f in h){let p=h[f];if(c){if(!(c&p.kind))continue;if(c===a.PREFERENCE){let v=p.value,A=typeof v;if(A==="boolean"||A==="string"||A==="number"&&Number.isInteger(v)){g[f]=v;continue}throw new Error(`Invalid type for preference: ${f}`)}}let y=d[f];g[f]=y!==void 0?y:o[f]??p.value}return g}static set(c,g){d[c]=g}static setAll(c){for(let g in c)d[g]=c[g]}static remove(c){delete d[c]}}s.AppOptions=u,u._hasUserOptions=function(){return Object.keys(d).length>0}},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;var a=o(2);let h={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},d=/^H(\d+)$/;class u{#e=void 0;get renderingDone(){return this.#e!==void 0}render(c){if(this.#e!==void 0)return this.#e;let g=this.#n(c);return g?.classList.add("structTree"),this.#e=g}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(c,g){let{alt:f,id:p,lang:y}=c;f!==void 0&&g.setAttribute("aria-label",(0,a.removeNullCharacters)(f)),p!==void 0&&g.setAttribute("aria-owns",p),y!==void 0&&g.setAttribute("lang",(0,a.removeNullCharacters)(y,!0))}#n(c){if(!c)return null;let g=document.createElement("span");if("role"in c){let{role:f}=c,p=f.match(d);p?(g.setAttribute("role","heading"),g.setAttribute("aria-level",p[1])):h[f]&&g.setAttribute("role",h[f])}if(this.#t(c,g),c.children)if(c.children.length===1&&"id"in c.children[0])this.#t(c.children[0],g);else for(let f of c.children)g.append(this.#n(f));return g}}s.StructTreeLayerBuilder=u},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var a=o(2);class h{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(u){this.#t=u}static#a(u,l){let c=u.getBoundingClientRect(),g=l.getBoundingClientRect();if(c.width===0&&c.height===0)return 1;if(g.width===0&&g.height===0)return-1;let f=c.y,p=c.y+c.height,y=c.y+c.height/2,v=g.y,A=g.y+g.height,m=g.y+g.height/2;if(y<=v&&m>=p)return-1;if(m<=f&&y>=A)return 1;let b=c.x+c.width/2,w=g.x+g.width/2;return b-w}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(h.#a),this.#n.size>0){let u=this.#t;for(let[l,c]of this.#n){if(!document.getElementById(l)){this.#n.delete(l);continue}this.#s(l,u[c])}}for(let[u,l]of this.#i)this.addPointerInTextLayer(u,l);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(u){if(!this.#e){this.#i.delete(u);return}let l=this.#t;if(!l||l.length===0)return;let{id:c}=u,g=this.#n.get(c);if(g===void 0)return;let f=l[g];this.#n.delete(c);let p=f.getAttribute("aria-owns");p?.includes(c)&&(p=p.split(" ").filter(y=>y!==c).join(" "),p?f.setAttribute("aria-owns",p):(f.removeAttribute("aria-owns"),f.setAttribute("role","presentation")))}#s(u,l){let c=l.getAttribute("aria-owns");c?.includes(u)||l.setAttribute("aria-owns",c?`${c} ${u}`:u),l.removeAttribute("role")}addPointerInTextLayer(u,l){let{id:c}=u;if(!c)return null;if(!this.#e)return this.#i.set(u,l),null;l&&this.removePointerInTextLayer(u);let g=this.#t;if(!g||g.length===0)return null;let f=(0,a.binarySearchFirstItem)(g,A=>h.#a(u,A)<0),p=Math.max(0,f-1),y=g[p];this.#s(c,y),this.#n.set(c,p);let v=y.parentNode;return v?.classList.contains("markedContent")?v.id:null}moveElementInDOM(u,l,c,g){let f=this.addPointerInTextLayer(c,g);if(!u.hasChildNodes())return u.append(l),f;let p=Array.from(u.childNodes).filter(A=>A!==l);if(p.length===0)return f;let y=c||l,v=(0,a.binarySearchFirstItem)(p,A=>h.#a(y,A)<0);return v===0?p[0].before(l):p[v-1].after(l),f}}s.TextAccessibilityManager=h},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class o{constructor({findController:h,eventBus:d,pageIndex:u}){this.findController=h,this.matches=[],this.eventBus=d,this.pageIdx=u,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(h,d){this.textDivs=h,this.textContentItemsStr=d}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=h=>{(h.pageIndex===this.pageIdx||h.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(h,d){if(!h)return[];let{textContentItemsStr:u}=this,l=0,c=0,g=u.length-1,f=[];for(let p=0,y=h.length;p<y;p++){let v=h[p];for(;l!==g&&v>=c+u[l].length;)c+=u[l].length,l++;l===u.length&&console.error("Could not find a matching mapping");let A={begin:{divIdx:l,offset:v-c}};for(v+=d[p];l!==g&&v>c+u[l].length;)c+=u[l].length,l++;A.end={divIdx:l,offset:v-c},f.push(A)}return f}_renderMatches(h){if(h.length===0)return;let{findController:d,pageIdx:u}=this,{textContentItemsStr:l,textDivs:c}=this,g=u===d.selected.pageIdx,f=d.selected.matchIdx,p=d.state.highlightAll,y=null,v={divIdx:-1,offset:void 0};function A(R,O){let U=R.divIdx;return c[U].textContent="",m(U,0,R.offset,O)}function m(R,O,U,W){let G=c[R];if(G.nodeType===Node.TEXT_NODE){let j=document.createElement("span");G.before(j),j.append(G),c[R]=j,G=j}let Q=l[R].substring(O,U),X=document.createTextNode(Q);if(W){let j=document.createElement("span");return j.className=`${W} appended`,j.append(X),G.append(j),W.includes("selected")?j.offsetLeft:0}return G.append(X),0}let b=f,w=b+1;if(p)b=0,w=h.length;else if(!g)return;let D=-1,I=-1;for(let R=b;R<w;R++){let O=h[R],U=O.begin;if(U.divIdx===D&&U.offset===I)continue;D=U.divIdx,I=U.offset;let W=O.end,G=g&&R===f,Q=G?" selected":"",X=0;if(!y||U.divIdx!==y.divIdx?(y!==null&&m(y.divIdx,y.offset,v.offset),A(U)):m(y.divIdx,y.offset,U.offset),U.divIdx===W.divIdx)X=m(U.divIdx,U.offset,W.offset,"highlight"+Q);else{X=m(U.divIdx,U.offset,v.offset,"highlight begin"+Q);for(let j=U.divIdx+1,H=W.divIdx;j<H;j++)c[j].className="highlight middle"+Q;A(W,"highlight end"+Q)}y=W,G&&d.scrollMatchIntoView({element:c[U.divIdx],selectedLeft:X,pageIndex:u,matchIndex:f})}y&&m(y.divIdx,y.offset,v.offset)}_updateMatches(h=!1){if(!this.enabled&&!h)return;let{findController:d,matches:u,pageIdx:l}=this,{textContentItemsStr:c,textDivs:g}=this,f=-1;for(let v of u){let A=Math.max(f,v.begin.divIdx);for(let m=A,b=v.end.divIdx;m<=b;m++){let w=g[m];w.textContent=c[m],w.className=""}f=v.end.divIdx+1}if(!d?.highlightMatches||h)return;let p=d.pageMatches[l]||null,y=d.pageMatchesLength[l]||null;this.matches=this._convertMatches(p,y),this._renderMatches(this.matches)}}s.TextHighlighter=o},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var a=o(4),h=o(2);class d{#e=!1;#t=0;#n=0;#i=null;constructor({highlighter:l=null,accessibilityManager:c=null,isOffscreenCanvasSupported:g=!0,enablePermissions:f=!1}){this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=l,this.accessibilityManager=c,this.isOffscreenCanvasSupported=g,this.#e=f===!0,this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}#a(){this.renderingDone=!0;let l=document.createElement("div");l.className="endOfContent",this.div.append(l),this.#s()}get numTextDivs(){return this.textDivs.length}render(l){return oe(this,null,function*(){if(!this.#i)throw new Error('No "textContentSource" parameter specified.');let c=l.scale*(globalThis.devicePixelRatio||1),{rotation:g}=l;if(this.renderingDone){let f=g!==this.#t,p=c!==this.#n;(f||p)&&(this.hide(),(0,a.updateTextLayer)({container:this.div,viewport:l,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:p,mustRotate:f}),this.#n=c,this.#t=g),this.show();return}this.cancel(),this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,a.renderTextLayer)({textContentSource:this.#i,container:this.div,viewport:l,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),yield this.textLayerRenderTask.promise,this.#a(),this.#n=c,this.#t=g,this.show(),this.accessibilityManager?.enable()})}hide(){this.div.hidden||(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(l){this.cancel(),this.#i=l}#s(){let{div:l}=this;l.addEventListener("mousedown",c=>{let g=l.querySelector(".endOfContent");if(!g)return;let f=c.target!==l;if(f&&=getComputedStyle(g).getPropertyValue("-moz-user-select")!=="none",f){let p=l.getBoundingClientRect(),y=Math.max(0,(c.pageY-p.top)/p.height);g.style.top=(y*100).toFixed(2)+"%"}g.classList.add("active")}),l.addEventListener("mouseup",()=>{let c=l.querySelector(".endOfContent");c&&(c.style.top="",c.classList.remove("active"))}),l.addEventListener("copy",c=>{if(!this.#e){let g=document.getSelection();c.clipboardData.setData("text/plain",(0,h.removeNullCharacters)((0,a.normalizeUnicode)(g.toString())))}c.preventDefault(),c.stopPropagation()})}}s.TextLayerBuilder=d},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var a=o(4);class h{constructor({pageDiv:u,pdfPage:l,annotationStorage:c=null,linkService:g,xfaHtml:f=null}){this.pageDiv=u,this.pdfPage=l,this.annotationStorage=c,this.linkService=g,this.xfaHtml=f,this.div=null,this._cancelled=!1}render(u,l="display"){return oe(this,null,function*(){if(l==="print"){let f={viewport:u.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:l},p=document.createElement("div");return this.pageDiv.append(p),f.div=p,a.XfaLayer.render(f)}let c=yield this.pdfPage.getXfa();if(this._cancelled||!c)return{textDivs:[]};let g={viewport:u.clone({dontFlip:!0}),div:this.div,xfaHtml:c,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:l};return this.div?a.XfaLayer.update(g):(this.div=document.createElement("div"),this.pageDiv.append(this.div),g.div=this.div,a.XfaLayer.render(g))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.XfaLayerBuilder=h},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var a=o(22),h=o(23);class d extends h.PDFScriptingManager{constructor(l){l.externalServices||window.addEventListener("updatefromsandbox",c=>{l.eventBus.dispatch("updatefromsandbox",{source:window,detail:c.detail})}),l.externalServices||={createScripting:({sandboxBundleSrc:c})=>new a.GenericScripting(c)},l.docProperties||=c=>(0,a.docProperties)(c),super(l)}}s.PDFScriptingManager=d},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docProperties=h;var a=o(4);function h(u){return oe(this,null,function*(){let l="",c=l.split("#")[0],{info:g,metadata:f,contentDispositionFilename:p,contentLength:y}=yield u.getMetadata();if(!y){let{length:v}=yield u.getDownloadInfo();y=v}return Fe(ue({},g),{baseURL:c,filesize:y,filename:p||(0,a.getPdfFilenameFromUrl)(l),metadata:f?.getRaw(),authors:f?.get("dc:creator"),numPages:u.numPages,URL:l})})}class d{constructor(l){this._ready=(0,a.loadScript)(l,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(l){return oe(this,null,function*(){(yield this._ready).create(l)})}dispatchEventInSandbox(l){return oe(this,null,function*(){let c=yield this._ready;setTimeout(()=>c.dispatchEvent(l),0)})}destroySandbox(){return oe(this,null,function*(){(yield this._ready).nukeSandbox()})}}s.GenericScripting=d},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var a=o(2),h=o(4);class d{#e=null;#t=null;#n=null;#i=null;#a=null;#s=null;#o=null;#l=!1;#c=null;#r=null;#u=null;constructor({eventBus:l,sandboxBundleSrc:c=null,externalServices:g=null,docProperties:f=null}){this.#i=l,this.#c=c,this.#a=g,this.#n=f}setViewer(l){this.#o=l}setDocument(l){return oe(this,null,function*(){if(this.#s&&(yield this.#m()),this.#s=l,!l)return;let[c,g,f]=yield Promise.all([l.getFieldObjects(),l.getCalculationOrderIds(),l.getJSActions()]);if(!c&&!f){yield this.#m();return}if(l===this.#s){try{this.#r=this.#g()}catch(p){console.error(`setDocument: "${p.message}".`),yield this.#m();return}this._internalEvents.set("updatefromsandbox",p=>{p?.source===window&&this.#d(p.detail)}),this._internalEvents.set("dispatcheventinsandbox",p=>{this.#r?.dispatchEventInSandbox(p.detail)}),this._internalEvents.set("pagechanging",({pageNumber:p,previous:y})=>{p!==y&&(this.#p(y),this.#f(p))}),this._internalEvents.set("pagerendered",({pageNumber:p})=>{this._pageOpenPending.has(p)&&p===this.#o.currentPageNumber&&this.#f(p)}),this._internalEvents.set("pagesdestroy",()=>oe(this,null,function*(){yield this.#p(this.#o.currentPageNumber),yield this.#r?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}));for(let[p,y]of this._internalEvents)this.#i._on(p,y);try{let p=yield this.#n(l);if(l!==this.#s)return;yield this.#r.createSandbox({objects:c,calculationOrder:g,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Fe(ue({},p),{actions:f})}),this.#i.dispatch("sandboxcreated",{source:this})}catch(p){console.error(`setDocument: "${p.message}".`),yield this.#m();return}yield this.#r?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#f(this.#o.currentPageNumber,!0),Promise.resolve().then(()=>{l===this.#s&&(this.#l=!0)})}})}dispatchWillSave(){return oe(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return oe(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return oe(this,null,function*(){if(this.#r){yield this.#u?.promise,this.#u=new h.PromiseCapability;try{yield this.#r.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(l){throw this.#u.resolve(),this.#u=null,l}yield this.#u.promise}})}dispatchDidPrint(){return oe(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#l}get _internalEvents(){return(0,h.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,h.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,h.shadow)(this,"_visitedPages",new Map)}#d(l){return oe(this,null,function*(){let c=this.#o,g=c.isInPresentationMode||c.isChangingPresentationMode,{id:f,siblings:p,command:y,value:v}=l;if(!f){switch(y){case"clear":console.clear();break;case"error":console.error(v);break;case"layout":if(!g){let m=(0,a.apiPageLayoutToViewerModes)(v);c.spreadMode=m.spreadMode}break;case"page-num":c.currentPageNumber=v+1;break;case"print":yield c.pagesPromise,this.#i.dispatch("print",{source:this});break;case"println":console.log(v);break;case"zoom":g||(c.currentScaleValue=v);break;case"SaveAs":this.#i.dispatch("download",{source:this});break;case"FirstPage":c.currentPageNumber=1;break;case"LastPage":c.currentPageNumber=c.pagesCount;break;case"NextPage":c.nextPage();break;case"PrevPage":c.previousPage();break;case"ZoomViewIn":g||c.increaseScale();break;case"ZoomViewOut":g||c.decreaseScale();break;case"WillPrintFinished":this.#u?.resolve(),this.#u=null;break}return}if(g&&l.focus)return;delete l.id,delete l.siblings;let A=p?[f,...p]:[f];for(let m of A){let b=document.querySelector(`[data-element-id="${m}"]`);b?b.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:l})):this.#s?.annotationStorage.setValue(m,l)}})}#f(l,c=!1){return oe(this,null,function*(){let g=this.#s,f=this._visitedPages;if(c&&(this.#e=new h.PromiseCapability),!this.#e)return;let p=this.#o.getPageView(l-1);if(p?.renderingState!==a.RenderingStates.FINISHED){this._pageOpenPending.add(l);return}this._pageOpenPending.delete(l);let y=oe(this,null,function*(){let v=yield f.has(l)?null:p.pdfPage?.getJSActions();g===this.#s&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:l,actions:v}))});f.set(l,y)})}#p(l){return oe(this,null,function*(){let c=this.#s,g=this._visitedPages;if(!this.#e||this._pageOpenPending.has(l))return;let f=g.get(l);f&&(g.set(l,null),yield f,c===this.#s&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:l})))})}#g(){if(this.#t=new h.PromiseCapability,this.#r)throw new Error("#initScripting: Scripting already exists.");return this.#a.createScripting({sandboxBundleSrc:this.#c})}#m(){return oe(this,null,function*(){if(!this.#r){this.#s=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(l=>{setTimeout(l,1e3)})]).catch(()=>{}),this.#e=null),this.#s=null;try{yield this.#r.destroySandbox()}catch{}this.#u?.reject(new Error("Scripting destroyed.")),this.#u=null;for(let[l,c]of this._internalEvents)this.#i._off(l,c);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this.#r=null,this.#l=!1,this.#t?.resolve()})}}s.PDFScriptingManager=d},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFSinglePageViewer=void 0;var a=o(2),h=o(25);class d extends h.PDFViewer{_resetView(){super._resetView(),this._scrollMode=a.ScrollMode.PAGE,this._spreadMode=a.SpreadMode.NONE}set scrollMode(l){}_updateScrollMode(){}set spreadMode(l){}_updateSpreadMode(){}}s.PDFSinglePageViewer=d},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFViewer=s.PDFPageViewBuffer=void 0;var a=o(4),h=o(2),d=o(7),u=o(13),l=o(26),c=o(5);let g=10,f={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=f;function p(A){return Object.values(a.AnnotationEditorType).includes(A)&&A!==a.AnnotationEditorType.DISABLE}class y{#e=new Set;#t=0;constructor(m){this.#t=m}push(m){let b=this.#e;b.has(m)&&b.delete(m),b.add(m),b.size>this.#t&&this.#n()}resize(m,b=null){this.#t=m;let w=this.#e;if(b){let D=w.size,I=1;for(let R of w)if(b.has(R.id)&&(w.delete(R),w.add(R)),++I>D)break}for(;w.size>this.#t;)this.#n()}has(m){return this.#e.has(m)}[Symbol.iterator](){return this.#e.keys()}#n(){let m=this.#e.keys().next().value;m?.destroy(),this.#e.delete(m)}}s.PDFPageViewBuffer=y;class v{#e=null;#t=null;#n=a.AnnotationEditorType.NONE;#i=null;#a=a.AnnotationMode.ENABLE_FORMS;#s=null;#o=null;#l=!1;#c=!1;#r=null;#u=!1;#d=0;#f=new ResizeObserver(this.#D.bind(this));#p=null;#g=null;#m=null;#v=h.TextLayerMode.ENABLE;constructor(m){let b="3.11.174";if(a.version!==b)throw new Error(`The API version "${a.version}" does not match the Viewer version "${b}".`);if(this.container=m.container,this.viewer=m.viewer||m.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#f.observe(this.container),this.eventBus=m.eventBus,this.linkService=m.linkService||new c.SimpleLinkService,this.downloadManager=m.downloadManager||null,this.findController=m.findController||null,this.#t=m.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=w=>this._getVisiblePages().ids.has(w)),this._scriptingManager=m.scriptingManager||null,this.#v=m.textLayerMode??h.TextLayerMode.ENABLE,this.#a=m.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.#n=m.annotationEditorMode??a.AnnotationEditorType.NONE,this.imageResourcesPath=m.imageResourcesPath||"",this.enablePrintAutoRotate=m.enablePrintAutoRotate||!1,this.removePageBorders=m.removePageBorders||!1,m.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),m.maxCanvasPixels=0),this.isOffscreenCanvasSupported=m.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=m.maxCanvasPixels,this.l10n=m.l10n||d.NullL10n,this.#l=m.enablePermissions||!1,this.pageColors=m.pageColors||null,this.defaultRenderingQueue=!m.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new l.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=m.renderingQueue,this.scroll=(0,h.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=h.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#C(),this.eventBus._on("thumbnailrendered",({pageNumber:w,pdfPage:D})=>{let I=this._pages[w-1];this.#e.has(I)||D?.cleanup()})}get pagesCount(){return this._pages.length}getPageView(m){return this._pages[m]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(m=>m?.pdfPage)}get renderForms(){return this.#a===a.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(m){if(!Number.isInteger(m))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(m,!0)||console.error(`currentPageNumber: "${m}" is not a valid page.`))}_setCurrentPageNumber(m,b=!1){if(this._currentPageNumber===m)return b&&this.#I(),!0;if(!(0<m&&m<=this.pagesCount))return!1;let w=this._currentPageNumber;return this._currentPageNumber=m,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:m,pageLabel:this._pageLabels?.[m-1]??null,previous:w}),b&&this.#I(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(m){if(!this.pdfDocument)return;let b=m|0;if(this._pageLabels){let w=this._pageLabels.indexOf(m);w>=0&&(b=w+1)}this._setCurrentPageNumber(b,!0)||console.error(`currentPageLabel: "${m}" is not a valid page.`)}get currentScale(){return this._currentScale!==h.UNKNOWN_SCALE?this._currentScale:h.DEFAULT_SCALE}set currentScale(m){if(isNaN(m))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#b(m,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(m){this.pdfDocument&&this.#b(m,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(m){if(!(0,h.isValidRotation)(m))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(m%=360,m<0&&(m+=360),this._pagesRotation===m))return;this._pagesRotation=m;let b=this._currentPageNumber;this.refresh(!0,{rotation:m}),this._currentScaleValue&&this.#b(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:m,pageNumber:b}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(){let m=this;return{get annotationEditorUIManager(){return m.#i},get annotationStorage(){return m.pdfDocument?.annotationStorage},get downloadManager(){return m.downloadManager},get enableScripting(){return!!m._scriptingManager},get fieldObjectsPromise(){return m.pdfDocument?.getFieldObjects()},get findController(){return m.findController},get hasJSActionsPromise(){return m.pdfDocument?.hasJSActions()},get linkService(){return m.linkService}}}#y(m){let b={annotationEditorMode:this.#n,annotationMode:this.#a,textLayerMode:this.#v};return m&&(!m.includes(a.PermissionFlag.COPY)&&this.#v===h.TextLayerMode.ENABLE&&(b.textLayerMode=h.TextLayerMode.ENABLE_PERMISSIONS),m.includes(a.PermissionFlag.MODIFY_CONTENTS)||(b.annotationEditorMode=a.AnnotationEditorType.DISABLE),!m.includes(a.PermissionFlag.MODIFY_ANNOTATIONS)&&!m.includes(a.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#a===a.AnnotationMode.ENABLE_FORMS&&(b.annotationMode=a.AnnotationMode.ENABLE)),b}#A(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let m=new Promise(b=>{this.#g=()=>{document.visibilityState==="hidden"&&(b(),document.removeEventListener("visibilitychange",this.#g),this.#g=null)},document.addEventListener("visibilitychange",this.#g)});return Promise.race([this._onePageRenderedCapability.promise,m])}getAllText(){return oe(this,null,function*(){let m=[],b=[];for(let w=1,D=this.pdfDocument.numPages;w<=D;++w){if(this.#u)return null;b.length=0;let I=yield this.pdfDocument.getPage(w),{items:R}=yield I.getTextContent();for(let O of R)O.str&&b.push(O.str),O.hasEOL&&b.push(`
`);m.push((0,h.removeNullCharacters)(b.join("")))}return m.join(`
`)})}#_(m,b){let w=document.getSelection(),{focusNode:D,anchorNode:I}=w;if(I&&D&&w.containsNode(this.#r)){if(this.#c||m===h.TextLayerMode.ENABLE_PERMISSIONS){b.preventDefault(),b.stopPropagation();return}this.#c=!0;let R=this.container.style.cursor;this.container.style.cursor="wait";let O=U=>this.#u=U.key==="Escape";window.addEventListener("keydown",O),this.getAllText().then(U=>oe(this,null,function*(){U!==null&&(yield navigator.clipboard.writeText(U))})).catch(U=>{console.warn(`Something goes wrong when extracting the text: ${U.message}`)}).finally(()=>{this.#c=!1,this.#u=!1,window.removeEventListener("keydown",O),this.container.style.cursor=R}),b.preventDefault(),b.stopPropagation()}}setDocument(m){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#i&&(this.#i.destroy(),this.#i=null)),this.pdfDocument=m,!m)return;let b=m.numPages,w=m.getPage(1),D=m.getOptionalContentConfig(),I=this.#l?m.getPermissions():Promise.resolve();if(b>f.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let R=this._scrollMode=h.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:R})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:b})},()=>{}),this._onBeforeDraw=R=>{let O=this._pages[R.pageNumber-1];O&&this.#e.push(O)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=R=>{R.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:R.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([w,I]).then(([R,O])=>{if(m!==this.pdfDocument)return;this._firstPageCapability.resolve(R),this._optionalContentConfigPromise=D;let{annotationEditorMode:U,annotationMode:W,textLayerMode:G}=this.#y(O);if(G!==h.TextLayerMode.DISABLE){let _=this.#r=document.createElement("div");_.id="hiddenCopyElement",this.viewer.before(_)}if(U!==a.AnnotationEditorType.DISABLE){let _=U;m.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):p(_)?(this.#i=new a.AnnotationEditorUIManager(this.container,this.viewer,this.#t,this.eventBus,m,this.pageColors),_!==a.AnnotationEditorType.NONE&&this.#i.updateMode(_)):console.error(`Invalid AnnotationEditor mode: ${_}`)}let Q=this.#h.bind(this),X=this._scrollMode===h.ScrollMode.PAGE?null:this.viewer,j=this.currentScale,H=R.getViewport({scale:j*a.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",H.scale),(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",m.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let _=1;_<=b;++_){let C=new u.PDFPageView({container:X,eventBus:this.eventBus,id:_,scale:j,defaultViewport:H.clone(),optionalContentConfigPromise:D,renderingQueue:this.renderingQueue,textLayerMode:G,annotationMode:W,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:Q});this._pages.push(C)}let P=this._pages[0];P&&(P.setPdfPage(R),this.linkService.cachePageRef(1,R.ref)),this._scrollMode===h.ScrollMode.PAGE?this.#w():this._spreadMode!==h.SpreadMode.NONE&&this._updateSpreadMode(),this.#A().then(()=>oe(this,null,function*(){if(this.findController?.setDocument(m),this._scriptingManager?.setDocument(m),this.#r&&(this.#o=this.#_.bind(this,G),document.addEventListener("copy",this.#o)),this.#i&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#n}),m.loadingParams.disableAutoFetch||b>f.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let _=b-1;if(_<=0){this._pagesCapability.resolve();return}for(let C=2;C<=b;++C){let S=m.getPage(C).then(M=>{let L=this._pages[C-1];L.pdfPage||L.setPdfPage(M),this.linkService.cachePageRef(C,M.ref),--_===0&&this._pagesCapability.resolve()},M=>{console.error(`Unable to get page ${C} to initialize viewer`,M),--_===0&&this._pagesCapability.resolve()});C%f.PAUSE_EAGER_PAGE_INIT===0&&(yield S)}})),this.eventBus.dispatch("pagesinit",{source:this}),m.getMetadata().then(({info:_})=>{m===this.pdfDocument&&_.Language&&(this.viewer.lang=_.Language)}),this.defaultRenderingQueue&&this.update()}).catch(R=>{console.error("Unable to initialize viewer",R),this._pagesCapability.reject(R)})}setPageLabels(m){if(this.pdfDocument){m?Array.isArray(m)&&this.pdfDocument.numPages===m.length?this._pageLabels=m:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let b=0,w=this._pages.length;b<w;b++)this._pages[b].setPageLabel(this._pageLabels?.[b]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=h.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new y(g),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new a.PromiseCapability,this._onePageRenderedCapability=new a.PromiseCapability,this._pagesCapability=new a.PromiseCapability,this._scrollMode=h.ScrollMode.VERTICAL,this._previousScrollMode=h.ScrollMode.UNKNOWN,this._spreadMode=h.SpreadMode.NONE,this.#p={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#r&&(document.removeEventListener("copy",this.#o),this.#o=null,this.#r.remove(),this.#r=null)}#w(){if(this._scrollMode!==h.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let m=this._currentPageNumber,b=this.#p,w=this.viewer;if(w.textContent="",b.pages.length=0,this._spreadMode===h.SpreadMode.NONE&&!this.isInPresentationMode){let D=this._pages[m-1];w.append(D.div),b.pages.push(D)}else{let D=new Set,I=this._spreadMode-1;I===-1?D.add(m-1):m%2!==I?(D.add(m-1),D.add(m)):(D.add(m-2),D.add(m-1));let R=document.createElement("div");if(R.className="spread",this.isInPresentationMode){let O=document.createElement("div");O.className="dummyPage",R.append(O)}for(let O of D){let U=this._pages[O];U&&(R.append(U.div),b.pages.push(U))}w.append(R)}b.scrollDown=m>=b.previousPageNumber,b.previousPageNumber=m}_scrollUpdate(){this.pagesCount!==0&&this.update()}#E(m,b=null){let{div:w,id:D}=m;if(this._currentPageNumber!==D&&this._setCurrentPageNumber(D),this._scrollMode===h.ScrollMode.PAGE&&(this.#w(),this.update()),!b&&!this.isInPresentationMode){let I=w.offsetLeft+w.clientLeft,R=I+w.clientWidth,{scrollLeft:O,clientWidth:U}=this.container;(this._scrollMode===h.ScrollMode.HORIZONTAL||I<O||R>O+U)&&(b={left:0,top:0})}(0,h.scrollIntoView)(w,b),!this._currentScaleValue&&this._location&&(this._location=null)}#O(m){return m===this._currentScale||Math.abs(m-this._currentScale)<1e-15}#R(m,b,{noScroll:w=!1,preset:D=!1,drawingDelay:I=-1}){if(this._currentScaleValue=b.toString(),this.#O(m)){D&&this.eventBus.dispatch("scalechanging",{source:this,scale:m,presetValue:b});return}this.viewer.style.setProperty("--scale-factor",m*a.PixelsPerInch.PDF_TO_CSS_UNITS);let R=I>=0&&I<1e3;if(this.refresh(!0,{scale:m,drawingDelay:R?I:-1}),R&&(this.#m=setTimeout(()=>{this.#m=null,this.refresh()},I)),this._currentScale=m,!w){let O=this._currentPageNumber,U;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,U=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:U,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:m,presetValue:D?b:void 0}),this.defaultRenderingQueue&&this.update()}get#N(){return this._spreadMode!==h.SpreadMode.NONE&&this._scrollMode!==h.ScrollMode.HORIZONTAL?2:1}#b(m,b){let w=parseFloat(m);if(w>0)b.preset=!1,this.#R(w,m,b);else{let D=this._pages[this._currentPageNumber-1];if(!D)return;let I=h.SCROLLBAR_PADDING,R=h.VERTICAL_PADDING;this.isInPresentationMode?(I=R=4,this._spreadMode!==h.SpreadMode.NONE&&(I*=2)):this.removePageBorders?I=R=0:this._scrollMode===h.ScrollMode.HORIZONTAL&&([I,R]=[R,I]);let O=(this.container.clientWidth-I)/D.width*D.scale/this.#N,U=(this.container.clientHeight-R)/D.height*D.scale;switch(m){case"page-actual":w=1;break;case"page-width":w=O;break;case"page-height":w=U;break;case"page-fit":w=Math.min(O,U);break;case"auto":let W=(0,h.isPortraitOrientation)(D)?O:Math.min(U,O);w=Math.min(h.MAX_AUTO_SCALE,W);break;default:console.error(`#setScale: "${m}" is an unknown zoom value.`);return}b.preset=!0,this.#R(w,m,b)}}#I(){let m=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#b(this._currentScaleValue,{noScroll:!0}),this.#E(m)}pageLabelToPageNumber(m){if(!this._pageLabels)return null;let b=this._pageLabels.indexOf(m);return b<0?null:b+1}scrollPageIntoView({pageNumber:m,destArray:b=null,allowNegativeOffset:w=!1,ignoreDestinationZoom:D=!1}){if(!this.pdfDocument)return;let I=Number.isInteger(m)&&this._pages[m-1];if(!I){console.error(`scrollPageIntoView: "${m}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!b){this._setCurrentPageNumber(m,!0);return}let R=0,O=0,U=0,W=0,G,Q,X=I.rotation%180!==0,j=(X?I.height:I.width)/I.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,H=(X?I.width:I.height)/I.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,P=0;switch(b[1].name){case"XYZ":R=b[2],O=b[3],P=b[4],R=R!==null?R:0,O=O!==null?O:H;break;case"Fit":case"FitB":P="page-fit";break;case"FitH":case"FitBH":O=b[2],P="page-width",O===null&&this._location?(R=this._location.left,O=this._location.top):(typeof O!="number"||O<0)&&(O=H);break;case"FitV":case"FitBV":R=b[2],U=j,W=H,P="page-height";break;case"FitR":R=b[2],O=b[3],U=b[4]-R,W=b[5]-O;let M=h.SCROLLBAR_PADDING,L=h.VERTICAL_PADDING;this.removePageBorders&&(M=L=0),G=(this.container.clientWidth-M)/U/a.PixelsPerInch.PDF_TO_CSS_UNITS,Q=(this.container.clientHeight-L)/W/a.PixelsPerInch.PDF_TO_CSS_UNITS,P=Math.min(Math.abs(G),Math.abs(Q));break;default:console.error(`scrollPageIntoView: "${b[1].name}" is not a valid destination type.`);return}if(D||(P&&P!==this._currentScale?this.currentScaleValue=P:this._currentScale===h.UNKNOWN_SCALE&&(this.currentScaleValue=h.DEFAULT_SCALE_VALUE)),P==="page-fit"&&!b[4]){this.#E(I);return}let _=[I.viewport.convertToViewportPoint(R,O),I.viewport.convertToViewportPoint(R+U,O+W)],C=Math.min(_[0][0],_[1][0]),S=Math.min(_[0][1],_[1][1]);w||(C=Math.max(C,0),S=Math.max(S,0)),this.#E(I,{left:C,top:S})}_updateLocation(m){let b=this._currentScale,w=this._currentScaleValue,D=parseFloat(w)===b?Math.round(b*1e4)/100:w,I=m.id,R=this._pages[I-1],O=this.container,U=R.getPagePoint(O.scrollLeft-m.x,O.scrollTop-m.y),W=Math.round(U[0]),G=Math.round(U[1]),Q=`#page=${I}`;this.isInPresentationMode||(Q+=`&zoom=${D},${W},${G}`),this._location={pageNumber:I,scale:D,top:G,left:W,rotation:this._pagesRotation,pdfOpenParams:Q}}update(){let m=this._getVisiblePages(),b=m.views,w=b.length;if(w===0)return;let D=Math.max(g,2*w+1);this.#e.resize(D,m.ids),this.renderingQueue.renderHighestPriority(m);let I=this._spreadMode===h.SpreadMode.NONE&&(this._scrollMode===h.ScrollMode.PAGE||this._scrollMode===h.ScrollMode.VERTICAL),R=this._currentPageNumber,O=!1;for(let U of b){if(U.percent<100)break;if(U.id===R&&I){O=!0;break}}this._setCurrentPageNumber(O?R:b[0].id),this._updateLocation(m.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(m){return this.container.contains(m)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===h.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===h.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let m=this._scrollMode===h.ScrollMode.PAGE?this.#p.pages:this._pages,b=this._scrollMode===h.ScrollMode.HORIZONTAL,w=b&&this._isContainerRtl;return(0,h.getVisibleElements)({scrollEl:this.container,views:m,sortByVisibility:!0,horizontal:b,rtl:w})}cleanup(){for(let m of this._pages)m.renderingState!==h.RenderingStates.FINISHED&&m.reset()}_cancelRendering(){for(let m of this._pages)m.cancelRendering()}#M(m){return oe(this,null,function*(){if(m.pdfPage)return m.pdfPage;try{let b=yield this.pdfDocument.getPage(m.id);return m.pdfPage||m.setPdfPage(b),this.linkService._cachedPageNumber?.(b.ref)||this.linkService.cachePageRef(m.id,b.ref),b}catch(b){return console.error("Unable to get page for page view",b),null}})}#x(m){if(m.first?.id===1)return!0;if(m.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case h.ScrollMode.PAGE:return this.#p.scrollDown;case h.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(m){let b=m||this._getVisiblePages(),w=this.#x(b),D=this._spreadMode!==h.SpreadMode.NONE&&this._scrollMode!==h.ScrollMode.HORIZONTAL,I=this.renderingQueue.getHighestPriority(b,this._pages,w,D);return I?(this.#M(I).then(()=>{this.renderingQueue.renderView(I)}),!0):!1}get hasEqualPageSizes(){let m=this._pages[0];for(let b=1,w=this._pages.length;b<w;++b){let D=this._pages[b];if(D.width!==m.width||D.height!==m.height)return!1}return!0}getPagesOverview(){let m;return this._pages.map(b=>{let w=b.pdfPage.getViewport({scale:1}),D=(0,h.isPortraitOrientation)(w);if(m===void 0)m=D;else if(this.enablePrintAutoRotate&&D!==m)return{width:w.height,height:w.width,rotation:(w.rotation-90)%360};return{width:w.width,height:w.height,rotation:w.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(m){if(!(m instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${m}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=m,this.refresh(!1,{optionalContentConfigPromise:m}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:m}))}get scrollMode(){return this._scrollMode}set scrollMode(m){if(this._scrollMode!==m){if(!(0,h.isValidScrollMode)(m))throw new Error(`Invalid scroll mode: ${m}`);this.pagesCount>f.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=m,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:m}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(m=null){let b=this._scrollMode,w=this.viewer;w.classList.toggle("scrollHorizontal",b===h.ScrollMode.HORIZONTAL),w.classList.toggle("scrollWrapped",b===h.ScrollMode.WRAPPED),!(!this.pdfDocument||!m)&&(b===h.ScrollMode.PAGE?this.#w():this._previousScrollMode===h.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#b(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(m,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(m){if(this._spreadMode!==m){if(!(0,h.isValidSpreadMode)(m))throw new Error(`Invalid spread mode: ${m}`);this._spreadMode=m,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:m}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(m=null){if(!this.pdfDocument)return;let b=this.viewer,w=this._pages;if(this._scrollMode===h.ScrollMode.PAGE)this.#w();else if(b.textContent="",this._spreadMode===h.SpreadMode.NONE)for(let D of this._pages)b.append(D.div);else{let D=this._spreadMode-1,I=null;for(let R=0,O=w.length;R<O;++R)I===null?(I=document.createElement("div"),I.className="spread",b.append(I)):R%2===D&&(I=I.cloneNode(!1),b.append(I)),I.append(w[R].div)}m&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#b(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(m,!0),this.update())}_getPageAdvance(m,b=!1){switch(this._scrollMode){case h.ScrollMode.WRAPPED:{let{views:w}=this._getVisiblePages(),D=new Map;for(let{id:I,y:R,percent:O,widthPercent:U}of w){if(O===0||U<100)continue;let W=D.get(R);W||D.set(R,W||=[]),W.push(I)}for(let I of D.values()){let R=I.indexOf(m);if(R===-1)continue;let O=I.length;if(O===1)break;if(b)for(let U=R-1,W=0;U>=W;U--){let G=I[U],Q=I[U+1]-1;if(G<Q)return m-Q}else for(let U=R+1,W=O;U<W;U++){let G=I[U],Q=I[U-1]+1;if(G>Q)return Q-m}if(b){let U=I[0];if(U<m)return m-U+1}else{let U=I[O-1];if(U>m)return U-m+1}break}break}case h.ScrollMode.HORIZONTAL:break;case h.ScrollMode.PAGE:case h.ScrollMode.VERTICAL:{if(this._spreadMode===h.SpreadMode.NONE)break;let w=this._spreadMode-1;if(b&&m%2!==w)break;if(!b&&m%2===w)break;let{views:D}=this._getVisiblePages(),I=b?m-1:m+1;for(let{id:R,percent:O,widthPercent:U}of D)if(R===I){if(O>0&&U===100)return 2;break}break}}return 1}nextPage(){let m=this._currentPageNumber,b=this.pagesCount;if(m>=b)return!1;let w=this._getPageAdvance(m,!1)||1;return this.currentPageNumber=Math.min(m+w,b),!0}previousPage(){let m=this._currentPageNumber;if(m<=1)return!1;let b=this._getPageAdvance(m,!0)||1;return this.currentPageNumber=Math.max(m-b,1),!0}increaseScale({drawingDelay:m,scaleFactor:b,steps:w}={}){if(!this.pdfDocument)return;let D=this._currentScale;if(b>1)D=Math.round(D*b*100)/100;else{w??=1;do D=Math.ceil((D*h.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--w>0&&D<h.MAX_SCALE)}this.#b(Math.min(h.MAX_SCALE,D),{noScroll:!1,drawingDelay:m})}decreaseScale({drawingDelay:m,scaleFactor:b,steps:w}={}){if(!this.pdfDocument)return;let D=this._currentScale;if(b>0&&b<1)D=Math.round(D*b*100)/100;else{w??=1;do D=Math.floor((D/h.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--w>0&&D>h.MIN_SCALE)}this.#b(Math.max(h.MIN_SCALE,D),{noScroll:!1,drawingDelay:m})}#C(m=this.container.clientHeight){m!==this.#d&&(this.#d=m,h.docStyle.setProperty("--viewer-container-height",`${m}px`))}#D(m){for(let b of m)if(b.target===this.container){this.#C(Math.floor(b.borderBoxSize[0].blockSize)),this.#s=null;break}}get containerTopLeft(){return this.#s||=[this.container.offsetTop,this.container.offsetLeft]}get annotationEditorMode(){return this.#i?this.#n:a.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:m,editId:b=null}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");if(this.#n!==m){if(!p(m))throw new Error(`Invalid AnnotationEditor mode: ${m}`);this.pdfDocument&&(this.#n=m,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:m}),this.#i.updateMode(m,b))}}set annotationEditorParams({type:m,value:b}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");this.#i.updateParams(m,b)}refresh(m=!1,b=Object.create(null)){if(this.pdfDocument){for(let w of this._pages)w.update(b);this.#m!==null&&(clearTimeout(this.#m),this.#m=null),m||this.update()}}}s.PDFViewer=v},(r,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var a=o(4),h=o(2);let d=3e4;class u{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(c){this.pdfViewer=c}setThumbnailViewer(c){this.pdfThumbnailViewer=c}isHighestPriority(c){return this.highestPriorityPage===c.renderingId}renderHighestPriority(c){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(c)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),d)))}getHighestPriority(c,g,f,p=!1){let y=c.views,v=y.length;if(v===0)return null;for(let D=0;D<v;D++){let I=y[D].view;if(!this.isViewFinished(I))return I}let A=c.first.id,m=c.last.id;if(m-A+1>v){let D=c.ids;for(let I=1,R=m-A;I<R;I++){let O=f?A+I:m-I;if(D.has(O))continue;let U=g[O-1];if(!this.isViewFinished(U))return U}}let b=f?m:A-2,w=g[b];return w&&!this.isViewFinished(w)||p&&(b+=f?1:-1,w=g[b],w&&!this.isViewFinished(w))?w:null}isViewFinished(c){return c.renderingState===h.RenderingStates.FINISHED}renderView(c){switch(c.renderingState){case h.RenderingStates.FINISHED:return!1;case h.RenderingStates.PAUSED:this.highestPriorityPage=c.renderingId,c.resume();break;case h.RenderingStates.RUNNING:this.highestPriorityPage=c.renderingId;break;case h.RenderingStates.INITIAL:this.highestPriorityPage=c.renderingId,c.draw().finally(()=>{this.renderHighestPriority()}).catch(g=>{g instanceof a.RenderingCancelledException||console.error(`renderView: "${g}"`)});break}return!0}}s.PDFRenderingQueue=u}],e={};function i(r){var s=e[r];if(s!==void 0)return s.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,i),o.exports}var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return h.AnnotationLayerBuilder}}),Object.defineProperty(r,"DownloadManager",{enumerable:!0,get:function(){return d.DownloadManager}}),Object.defineProperty(r,"EventBus",{enumerable:!0,get:function(){return u.EventBus}}),Object.defineProperty(r,"FindState",{enumerable:!0,get:function(){return s.FindState}}),Object.defineProperty(r,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(r,"LinkTarget",{enumerable:!0,get:function(){return o.LinkTarget}}),Object.defineProperty(r,"NullL10n",{enumerable:!0,get:function(){return c.NullL10n}}),Object.defineProperty(r,"PDFFindController",{enumerable:!0,get:function(){return s.PDFFindController}}),Object.defineProperty(r,"PDFHistory",{enumerable:!0,get:function(){return g.PDFHistory}}),Object.defineProperty(r,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(r,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(r,"PDFScriptingManager",{enumerable:!0,get:function(){return p.PDFScriptingManager}}),Object.defineProperty(r,"PDFSinglePageViewer",{enumerable:!0,get:function(){return y.PDFSinglePageViewer}}),Object.defineProperty(r,"PDFViewer",{enumerable:!0,get:function(){return v.PDFViewer}}),Object.defineProperty(r,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(r,"RenderingStates",{enumerable:!0,get:function(){return a.RenderingStates}}),Object.defineProperty(r,"ScrollMode",{enumerable:!0,get:function(){return a.ScrollMode}}),Object.defineProperty(r,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(r,"SpreadMode",{enumerable:!0,get:function(){return a.SpreadMode}}),Object.defineProperty(r,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return A.StructTreeLayerBuilder}}),Object.defineProperty(r,"TextLayerBuilder",{enumerable:!0,get:function(){return m.TextLayerBuilder}}),Object.defineProperty(r,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(r,"parseQueryString",{enumerable:!0,get:function(){return a.parseQueryString}});var s=i(1),o=i(5),a=i(2),h=i(6),d=i(8),u=i(9),l=i(10),c=i(7),g=i(12),f=i(13),p=i(21),y=i(24),v=i(25),A=i(16),m=i(19),b=i(20);let w="3.11.174",D="ce8716743"})(),n})())});var Na=null;var Oa=1,Xu=Symbol("SIGNAL");function Oe(t){let e=Na;return Na=t,e}function Ku(){return Na}var ka={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vm(t){if(!(Va(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Oa)){if(!t.producerMustRecompute(t)&&!Fa(t)){t.dirty=!1,t.lastCleanEpoch=Oa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Oa}}function La(t){return t&&(t.nextProducerIndex=0),Oe(t)}function Qu(t,e){if(Oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Va(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ba(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fa(t){Ua(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(vm(i),n!==i.version))return!0}return!1}function ja(t){if(Ua(t),Va(t))for(let e=0;e<t.producerNode.length;e++)Ba(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ba(t,e){if(ym(t),t.liveConsumerNode.length===1&&bm(t))for(let n=0;n<t.producerNode.length;n++)Ba(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Ua(r),r.producerIndexOfThis[n]=e}}function Va(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ua(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ym(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bm(t){return t.producerNode!==void 0}function _m(){throw new Error}var wm=_m;function Zu(t){wm=t}function ge(t){return typeof t=="function"}function Ei(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var bs=Ei(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Qn(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(ge(n))try{n()}catch(s){e=s instanceof bs?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Ju(s)}catch(o){e=e??[],o instanceof bs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new bs(e)}}add(e){var i;if(e&&e!==this)if(this.closed)Ju(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&Qn(i,e)}remove(e){let{_finalizers:i}=this;i&&Qn(i,e),e instanceof t&&e._removeParent(this)}};Xe.EMPTY=(()=>{let t=new Xe;return t.closed=!0,t})();var Ha=Xe.EMPTY;function _s(t){return t instanceof Xe||t&&"closed"in t&&ge(t.remove)&&ge(t.add)&&ge(t.unsubscribe)}function Ju(t){ge(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ci={setTimeout(t,e,...i){let{delegate:n}=Ci;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=Ci;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ws(t){Ci.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function gr(){}var ed=$a("C",void 0,void 0);function td(t){return $a("E",void 0,t)}function nd(t){return $a("N",t,void 0)}function $a(t,e,i){return{kind:t,value:e,error:i}}var Zn=null;function Ai(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!Zn;if(e&&(Zn={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Zn;if(Zn=null,i)throw n}}else t()}function id(t){zt.useDeprecatedSynchronousErrorHandling&&Zn&&(Zn.errorThrown=!0,Zn.error=t)}var Jn=class extends Xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_s(e)&&e.add(this)):this.destination=Am}static create(e,i,n){return new Si(e,i,n)}next(e){this.isStopped?Wa(nd(e),this):this._next(e)}error(e){this.isStopped?Wa(td(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wa(ed,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Em=Function.prototype.bind;function za(t,e){return Em.call(t,e)}var Ga=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){Es(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){Es(n)}else Es(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){Es(i)}}},Si=class extends Jn{constructor(e,i,n){super();let r;if(ge(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&za(e.next,s),error:e.error&&za(e.error,s),complete:e.complete&&za(e.complete,s)}):r=e}this.destination=new Ga(r)}};function Es(t){zt.useDeprecatedSynchronousErrorHandling?id(t):ws(t)}function Cm(t){throw t}function Wa(t,e){let{onStoppedNotification:i}=zt;i&&Ci.setTimeout(()=>i(t,e))}var Am={closed:!0,next:gr,error:Cm,complete:gr};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(t){return t}function qa(...t){return Ya(t)}function Ya(t){return t.length===0?St:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var xe=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=Dm(i)?i:new Si(i,n,r);return Ai(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=rd(n),new n((r,s)=>{let o=new Si({next:a=>{try{i(a)}catch(h){s(h),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[Di](){return this}pipe(...i){return Ya(i)(this)}toPromise(i){return i=rd(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function rd(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function Sm(t){return t&&ge(t.next)&&ge(t.error)&&ge(t.complete)}function Dm(t){return t&&t instanceof Jn||Sm(t)&&_s(t)}function Xa(t){return ge(t?.lift)}function Ie(t){return e=>{if(Xa(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Me(t,e,i,n,r){return new Ka(t,e,i,n,r)}var Ka=class extends Jn{constructor(e,i,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(h){e.error(h)}}:super._next,this._error=r?function(a){try{r(a)}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ii(){return Ie((t,e)=>{let i=null;t._refCount++;let n=Me(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var Mi=class extends xe{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Xa(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xe;let i=this.getSubject();e.add(this.source.subscribe(Me(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xe.EMPTY)}return e}refCount(){return Ii()(this)}};var sd=Ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=(()=>{class t extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new Cs(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new sd}next(i){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?Ha:(this.currentObservers=null,s.push(i),new Xe(()=>{this.currentObservers=null,Qn(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new xe;return i.source=this,i}}return t.create=(e,i)=>new Cs(e,i),t})(),Cs=class extends lt{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:Ha}};var ct=class extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Qa={now(){return(Qa.delegate||Date).now()},delegate:void 0};var As=class extends Xe{constructor(e,i){super()}schedule(e,i=0){return this}};var mr={setInterval(t,e,...i){let{delegate:n}=mr;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=mr;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ss=class extends As{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(e,i,n=0){return mr.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&mr.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Qn(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var xi=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};xi.now=Qa.now;var Ds=class extends xi{constructor(e,i=xi.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var od=new Ds(Ss);var Dt=new xe(t=>t.complete());function ad(t){return t&&ge(t.schedule)}function ld(t){return t[t.length-1]}function cd(t){return ge(ld(t))?t.pop():void 0}function Pn(t){return ad(ld(t))?t.pop():void 0}function dd(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{d(n.next(u))}catch(l){o(l)}}function h(u){try{d(n.throw(u))}catch(l){o(l)}}function d(u){u.done?s(u.value):r(u.value).then(a,h)}d((n=n.apply(t,e||[])).next())})}function ud(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(t){return this instanceof ei?(this.v=t,this):new ei(t)}function hd(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(g){return function(f){return Promise.resolve(f).then(g,l)}}function a(g,f){n[g]&&(r[g]=function(p){return new Promise(function(y,v){s.push([g,p,y,v])>1||h(g,p)})},f&&(r[g]=f(r[g])))}function h(g,f){try{d(n[g](f))}catch(p){c(s[0][3],p)}}function d(g){g.value instanceof ei?Promise.resolve(g.value.v).then(u,l):c(s[0][2],g)}function u(g){h("next",g)}function l(g){h("throw",g)}function c(g,f){g(f),s.shift(),s.length&&h(s[0][0],s[0][1])}}function fd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof ud=="function"?ud(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=t[s]&&function(o){return new Promise(function(a,h){o=t[s](o),r(a,h,o.done,o.value)})}}function r(s,o,a,h){Promise.resolve(h).then(function(d){s({value:d,done:a})},o)}}var Ti=t=>t&&typeof t.length=="number"&&typeof t!="function";function Is(t){return ge(t?.then)}function Ms(t){return ge(t[Di])}function xs(t){return Symbol.asyncIterator&&ge(t?.[Symbol.asyncIterator])}function Ts(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Im(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ps=Im();function Rs(t){return ge(t?.[Ps])}function Os(t){return hd(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield ei(i.read());if(r)return yield ei(void 0);yield yield ei(n)}}finally{i.releaseLock()}})}function Ns(t){return ge(t?.getReader)}function et(t){if(t instanceof xe)return t;if(t!=null){if(Ms(t))return Mm(t);if(Ti(t))return xm(t);if(Is(t))return Tm(t);if(xs(t))return pd(t);if(Rs(t))return Pm(t);if(Ns(t))return Rm(t)}throw Ts(t)}function Mm(t){return new xe(e=>{let i=t[Di]();if(ge(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xm(t){return new xe(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function Tm(t){return new xe(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,ws)})}function Pm(t){return new xe(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function pd(t){return new xe(e=>{Om(t,e).catch(i=>e.error(i))})}function Rm(t){return pd(Os(t))}function Om(t,e){var i,n,r,s;return dd(this,void 0,void 0,function*(){try{for(i=fd(t);n=yield i.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}e.complete()})}function bt(t,e,i,n=0,r=!1){let s=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!r)return s}function ks(t,e=0){return Ie((i,n)=>{i.subscribe(Me(n,r=>bt(n,t,()=>n.next(r),e),()=>bt(n,t,()=>n.complete(),e),r=>bt(n,t,()=>n.error(r),e)))})}function Ls(t,e=0){return Ie((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function gd(t,e){return et(t).pipe(Ls(e),ks(e))}function md(t,e){return et(t).pipe(Ls(e),ks(e))}function vd(t,e){return new xe(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function yd(t,e){return new xe(i=>{let n;return bt(i,e,()=>{n=t[Ps](),bt(i,e,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>ge(n?.return)&&n.return()})}function Fs(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(i=>{bt(i,e,()=>{let n=t[Symbol.asyncIterator]();bt(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function bd(t,e){return Fs(Os(t),e)}function _d(t,e){if(t!=null){if(Ms(t))return gd(t,e);if(Ti(t))return vd(t,e);if(Is(t))return md(t,e);if(xs(t))return Fs(t,e);if(Rs(t))return yd(t,e);if(Ns(t))return bd(t,e)}throw Ts(t)}function ze(t,e){return e?_d(t,e):et(t)}function _e(...t){let e=Pn(t);return ze(t,e)}function Pi(t,e){let i=ge(t)?t:()=>t,n=r=>r.error(i());return new xe(e?r=>e.schedule(n,0,r):n)}function Za(t){return!!t&&(t instanceof xe||ge(t.lift)&&ge(t.subscribe))}var fn=Ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(t,e){return Ie((i,n)=>{let r=0;i.subscribe(Me(n,s=>{n.next(t.call(e,s,r++))}))})}var{isArray:Nm}=Array;function km(t,e){return Nm(e)?t(...e):t(e)}function js(t){return Ee(e=>km(t,e))}var{isArray:Lm}=Array,{getPrototypeOf:Fm,prototype:jm,keys:Bm}=Object;function wd(t){if(t.length===1){let e=t[0];if(Lm(e))return{args:e,keys:null};if(Vm(e)){let i=Bm(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function Vm(t){return t&&typeof t=="object"&&Fm(t)===jm}function Ed(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function Bs(...t){let e=Pn(t),i=cd(t),{args:n,keys:r}=wd(t);if(n.length===0)return ze([],e);let s=new xe(Um(n,e,r?o=>Ed(r,o):St));return i?s.pipe(js(i)):s}function Um(t,e,i=St){return n=>{Cd(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let h=0;h<r;h++)Cd(e,()=>{let d=ze(t[h],e),u=!1;d.subscribe(Me(n,l=>{s[h]=l,u||(u=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function Cd(t,e,i){t?bt(i,t,e):e()}function Ad(t,e,i,n,r,s,o,a){let h=[],d=0,u=0,l=!1,c=()=>{l&&!h.length&&!d&&e.complete()},g=p=>d<n?f(p):h.push(p),f=p=>{s&&e.next(p),d++;let y=!1;et(i(p,u++)).subscribe(Me(e,v=>{r?.(v),s?g(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(d--;h.length&&d<n;){let v=h.shift();o?bt(e,o,()=>f(v)):f(v)}c()}catch(v){e.error(v)}}))};return t.subscribe(Me(e,g,()=>{l=!0,c()})),()=>{a?.()}}function Ke(t,e,i=1/0){return ge(e)?Ke((n,r)=>Ee((s,o)=>e(n,s,r,o))(et(t(n,r))),i):(typeof e=="number"&&(i=e),Ie((n,r)=>Ad(n,r,t,i)))}function Ja(t=1/0){return Ke(St,t)}function Sd(){return Ja(1)}function Ri(...t){return Sd()(ze(t,Pn(t)))}function Vs(t){return new xe(e=>{et(t()).subscribe(e)})}var Hm=["addListener","removeListener"],$m=["addEventListener","removeEventListener"],zm=["on","off"];function We(t,e,i,n){if(ge(i)&&(n=i,i=void 0),n)return We(t,e,i).pipe(js(n));let[r,s]=qm(t)?$m.map(o=>a=>t[o](e,a,i)):Wm(t)?Hm.map(Dd(t,e)):Gm(t)?zm.map(Dd(t,e)):[];if(!r&&Ti(t))return Ke(o=>We(o,e,i))(et(t));if(!r)throw new TypeError("Invalid event target");return new xe(o=>{let a=(...h)=>o.next(1<h.length?h:h[0]);return r(a),()=>s(a)})}function Dd(t,e){return i=>n=>t[i](e,n)}function Wm(t){return ge(t.addListener)&&ge(t.removeListener)}function Gm(t){return ge(t.on)&&ge(t.off)}function qm(t){return ge(t.addEventListener)&&ge(t.removeEventListener)}function mt(t,e){return Ie((i,n)=>{let r=0;i.subscribe(Me(n,s=>t.call(e,s,r++)&&n.next(s)))})}function Rn(t){return Ie((e,i)=>{let n=null,r=!1,s;n=e.subscribe(Me(i,void 0,void 0,o=>{s=et(t(o,Rn(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function Id(t,e,i,n,r){return(s,o)=>{let a=i,h=e,d=0;s.subscribe(Me(o,u=>{let l=d++;h=a?t(h,u,l):(a=!0,u),n&&o.next(h)},r&&(()=>{a&&o.next(h),o.complete()})))}}function On(t,e){return ge(e)?Ke(t,e,1):Ke(t,1)}function el(t,e=od){return Ie((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=s;s=null,n.next(d)}};function h(){let d=o+t,u=e.now();if(u<d){r=this.schedule(void 0,d-u),n.add(r);return}a()}i.subscribe(Me(n,d=>{s=d,o=e.now(),r||(r=e.schedule(h,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function Nn(t){return Ie((e,i)=>{let n=!1;e.subscribe(Me(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function pn(t){return t<=0?()=>Dt:Ie((e,i)=>{let n=0;e.subscribe(Me(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function tl(t){return Ee(()=>t)}function Us(t=Ym){return Ie((e,i)=>{let n=!1;e.subscribe(Me(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function Ym(){return new fn}function ti(t){return Ie((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function tn(t,e){let i=arguments.length>=2;return n=>n.pipe(t?mt((r,s)=>t(r,s,n)):St,pn(1),i?Nn(e):Us(()=>new fn))}function Oi(t){return t<=0?()=>Dt:Ie((e,i)=>{let n=[];e.subscribe(Me(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function nl(t,e){let i=arguments.length>=2;return n=>n.pipe(t?mt((r,s)=>t(r,s,n)):St,Oi(1),i?Nn(e):Us(()=>new fn))}function il(t,e){return Ie(Id(t,e,arguments.length>=2,!0))}function rl(...t){let e=Pn(t);return Ie((i,n)=>{(e?Ri(t,i,e):Ri(t,i)).subscribe(n)})}function It(t,e){return Ie((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(Me(n,h=>{r?.unsubscribe();let d=0,u=s++;et(t(h,u)).subscribe(r=Me(n,l=>n.next(e?e(h,l,u,d++):l),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ue(t){return Ie((e,i)=>{et(t).subscribe(Me(i,()=>i.complete(),gr)),!i.closed&&e.subscribe(i)})}function st(t,e,i){let n=ge(t)||e||i?{next:t,error:e,complete:i}:t;return n?Ie((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(Me(s,h=>{var d;(d=n.next)===null||d===void 0||d.call(n,h),s.next(h)},()=>{var h;a=!1,(h=n.complete)===null||h===void 0||h.call(n),s.complete()},h=>{var d;a=!1,(d=n.error)===null||d===void 0||d.call(n,h),s.error(h)},()=>{var h,d;a&&((h=n.unsubscribe)===null||h===void 0||h.call(n)),(d=n.finalize)===null||d===void 0||d.call(n)}))}):St}var pe=class extends Error{constructor(e,i){super(mo(e,i)),this.code=e}};function mo(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Tr(t){return{toString:t}.toString()}var Hs="__parameters__";function Xm(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function dh(t,e,i){return Tr(()=>{let n=Xm(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(h,d,u){let l=h.hasOwnProperty(Hs)?h[Hs]:Object.defineProperty(h,Hs,{value:[]})[Hs];for(;l.length<=u;)l.push(null);return(l[u]=l[u]||[]).push(o),h}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var vr=globalThis;function Be(t){for(let e in t)if(t[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function Mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function Md(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Km=Be({__forward_ref__:Be});function hh(t){return t.__forward_ref__=hh,t.toString=function(){return Mt(this())},t}function Lt(t){return fh(t)?t():t}function fh(t){return typeof t=="function"&&t.hasOwnProperty(Km)&&t.__forward_ref__===hh}function fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pi(t){return{providers:t.providers||[],imports:t.imports||[]}}function vo(t){return xd(t,gh)||xd(t,mh)}function ph(t){return vo(t)!==null}function xd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Qm(t){let e=t&&(t[gh]||t[mh]);return e||null}function Td(t){return t&&(t.hasOwnProperty(Pd)||t.hasOwnProperty(Zm))?t[Pd]:null}var gh=Be({\u0275prov:Be}),Pd=Be({\u0275inj:Be}),mh=Be({ngInjectableDef:Be}),Zm=Be({ngInjectorDef:Be}),me=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=fe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vh(t){return t&&!!t.\u0275providers}var Jm=Be({\u0275cmp:Be}),ev=Be({\u0275dir:Be}),tv=Be({\u0275pipe:Be}),nv=Be({\u0275mod:Be}),Ks=Be({\u0275fac:Be}),_r=Be({__NG_ELEMENT_ID__:Be}),Rd=Be({__NG_ENV_ID__:Be});function yh(t){return typeof t=="string"?t:t==null?"":String(t)}function iv(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yh(t)}function rv(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new pe(-200,t)}function ic(t,e){throw new pe(-201,!1)}var Se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Se||{}),pl;function bh(){return pl}function _t(t){let e=pl;return pl=t,e}function _h(t,e,i){let n=vo(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&Se.Optional)return null;if(e!==void 0)return e;ic(t,"Injector")}var sv={},wr=sv,gl="__NG_DI_FLAG__",Qs="ngTempTokenPath",ov="ngTokenPath",av=/\n/gm,lv="\u0275",Od="__source",Fi;function cv(){return Fi}function kn(t){let e=Fi;return Fi=t,e}function uv(t,e=Se.Default){if(Fi===void 0)throw new pe(-203,!1);return Fi===null?_h(t,void 0,e):Fi.get(t,e&Se.Optional?null:void 0,e)}function be(t,e=Se.Default){return(bh()||uv)(Lt(t),e)}function ae(t,e=Se.Default){return be(t,yo(e))}function yo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ml(t){let e=[];for(let i=0;i<t.length;i++){let n=Lt(t[i]);if(Array.isArray(n)){if(n.length===0)throw new pe(900,!1);let r,s=Se.Default;for(let o=0;o<n.length;o++){let a=n[o],h=dv(a);typeof h=="number"?h===-1?r=a.token:s|=h:r=a}e.push(be(r,s))}else e.push(be(n))}return e}function wh(t,e){return t[gl]=e,t.prototype[gl]=e,t}function dv(t){return t[gl]}function hv(t,e,i,n){let r=t[Qs];throw e[Od]&&r.unshift(e[Od]),t.message=fv(`
`+t.message,r,i,n),t[ov]=r,t[Qs]=null,t}function fv(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lv?t.slice(2):t;let r=Mt(e);if(Array.isArray(e))r=e.map(Mt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(av,`
  `)}`}var rc=wh(dh("Optional"),8);var Eh=wh(dh("SkipSelf"),4);function oi(t,e){let i=t.hasOwnProperty(Ks);return i?t[Ks]:null}function pv(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function gv(t){return t.flat(Number.POSITIVE_INFINITY)}function sc(t,e){t.forEach(i=>Array.isArray(i)?sc(i,e):e(i))}function Ch(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Zs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Er={},nn=[],Bi=new me(""),Ah=new me("",-1),Sh=new me(""),Js=class{get(e,i=wr){if(i===wr){let n=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw n.name="NullInjectorError",n}return i}},Dh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dh||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),jn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(jn||{});function mv(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===n||t.charCodeAt(r+s)<=32)return r}i=r+1}}function vl(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];t.setAttribute(e,o,a,s)}else{let s=r,o=i[++n];yv(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function vv(t){return t===3||t===4||t===6}function yv(t){return t.charCodeAt(0)===64}function oc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?Nd(t,i,r,null,e[++n]):Nd(t,i,r,null,null))}}return t}function Nd(t,e,i,n,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[s+1]=r);return}else if(n===t[s+1]){t[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),n!==null&&t.splice(s++,0,n),r!==null&&t.splice(s++,0,r)}var Ih="ng-template";function bv(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&mv(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(ac(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function ac(t){return t.type===4&&t.value!==Ih}function _v(t,e,i){let n=t.type===4&&!i?Ih:t.value;return e===n}function wv(t,e,i){let n=4,r=t.attrs,s=r!==null?Av(r):0,o=!1;for(let a=0;a<e.length;a++){let h=e[a];if(typeof h=="number"){if(!o&&!Wt(n)&&!Wt(h))return!1;if(o&&Wt(h))continue;o=!1,n=h|n&1;continue}if(!o)if(n&4){if(n=2|n&1,h!==""&&!_v(t,h,i)||h===""&&e.length===1){if(Wt(n))return!1;o=!0}}else if(n&8){if(r===null||!bv(t,r,h,i)){if(Wt(n))return!1;o=!0}}else{let d=e[++a],u=Ev(h,r,ac(t),i);if(u===-1){if(Wt(n))return!1;o=!0;continue}if(d!==""){let l;if(u>s?l="":l=r[u+1].toLowerCase(),n&2&&d!==l){if(Wt(n))return!1;o=!0}}}}return Wt(n)||o}function Wt(t){return(t&1)===0}function Ev(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return Sv(e,t)}function Cv(t,e,i=!1){for(let n=0;n<e.length;n++)if(wv(t,e[n],i))return!0;return!1}function Av(t){for(let e=0;e<t.length;e++){let i=t[e];if(vv(i))return e}return t.length}function Sv(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function kd(t,e){return t?":not("+e.trim()+")":e}function Dv(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if(typeof o=="string")if(n&2){let a=t[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!Wt(o)&&(e+=kd(s,r),r=""),n=o,s=s||!Wt(n);i++}return r!==""&&(e+=kd(s,r)),e}function Iv(t){return t.map(Dv).join(",")}function Mv(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++n]):r===8&&i.push(s);else{if(!Wt(r))break;r=s}n++}return{attrs:e,classes:i}}function Ct(t){return Tr(()=>{let e=Oh(t),i=Fe(ue({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||nn,_:null,schemas:t.schemas||null,tView:null,id:""});Nh(i);let n=t.dependencies;return i.directiveDefs=Fd(n,!1),i.pipeDefs=Fd(n,!0),i.id=Pv(i),i})}function xv(t){return ai(t)||xh(t)}function Tv(t){return t!==null}function gi(t){return Tr(()=>({type:t.type,bootstrap:t.bootstrap||nn,declarations:t.declarations||nn,imports:t.imports||nn,exports:t.exports||nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ld(t,e){if(t==null)return Er;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],s,o,a=jn.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(i[s]=a!==jn.None?[n,a]:n,e[s]=o):i[s]=n}return i}function bo(t){return Tr(()=>{let e=Oh(t);return Nh(e),e})}function Mh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ai(t){return t[Jm]||null}function xh(t){return t[ev]||null}function Th(t){return t[tv]||null}function Ph(t){let e=ai(t)||xh(t)||Th(t);return e!==null?e.standalone:!1}function Rh(t,e){let i=t[nv]||null;if(!i&&e===!0)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return i}function Oh(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Er,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ld(t.inputs,e),outputs:Ld(t.outputs),debugInfo:null}}function Nh(t){t.features?.forEach(e=>e(t))}function Fd(t,e){if(!t)return null;let i=e?Th:xv;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(Tv)}function Pv(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qi(t){return{\u0275providers:t}}function Rv(...t){return{\u0275providers:kh(!0,t),\u0275fromNgModule:!0}}function kh(t,...e){let i=[],n=new Set,r,s=o=>{i.push(o)};return sc(e,o=>{let a=o;yl(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Lh(r,s),i}function Lh(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];lc(r,s=>{e(s,n)})}}function yl(t,e,i,n){if(t=Lt(t),!t)return!1;let r=null,s=Td(t),o=!s&&ai(t);if(!s&&!o){let h=t.ngModule;if(s=Td(h),s)r=h;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let h=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of h)yl(d,e,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let d;try{sc(s.imports,u=>{yl(u,e,i,n)&&(d||=[],d.push(u))})}finally{}d!==void 0&&Lh(d,e)}if(!a){let d=oi(r)||(()=>new r);e({provide:r,useFactory:d,deps:nn},r),e({provide:Sh,useValue:r,multi:!0},r),e({provide:Bi,useValue:()=>be(r),multi:!0},r)}let h=s.providers;if(h!=null&&!a){let d=t;lc(h,u=>{e(u,d)})}}else return!1;return r!==t&&t.providers!==void 0}function lc(t,e){for(let i of t)vh(i)&&(i=i.\u0275providers),Array.isArray(i)?lc(i,e):e(i)}var Ov=Be({provide:String,useValue:Be});function Fh(t){return t!==null&&typeof t=="object"&&Ov in t}function Nv(t){return!!(t&&t.useExisting)}function kv(t){return!!(t&&t.useFactory)}function bl(t){return typeof t=="function"}var _o=new me(""),zs={},Lv={},sl;function cc(){return sl===void 0&&(sl=new Js),sl}var wt=class{},Cr=class extends wt{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wl(e,o=>this.processProvider(o)),this.records.set(Ah,Ni(void 0,this)),r.has("environment")&&this.records.set(wt,Ni(void 0,this));let s=this.records.get(_o);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Sh,nn,Se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=kn(this),n=_t(void 0),r;try{return e()}finally{kn(i),_t(n)}}get(e,i=wr,n=Se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rd))return e[Rd](this);n=yo(n);let r,s=kn(this),o=_t(void 0);try{if(!(n&Se.SkipSelf)){let h=this.records.get(e);if(h===void 0){let d=Hv(e)&&vo(e);d&&this.injectableDefInScope(d)?h=Ni(_l(e),zs):h=null,this.records.set(e,h)}if(h!=null)return this.hydrate(e,h)}let a=n&Se.Self?cc():this.parent;return i=n&Se.Optional&&i===wr?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[Qs]=a[Qs]||[]).unshift(Mt(e)),s)throw a;return hv(a,e,"R3InjectorError",this.source)}else throw a}finally{_t(o),kn(s)}}resolveInjectorInitializers(){let e=Oe(null),i=kn(this),n=_t(void 0),r;try{let s=this.get(Bi,nn,Se.Self);for(let o of s)o()}finally{kn(i),_t(n),Oe(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(Mt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(e){e=Lt(e);let i=bl(e)?e:Lt(e&&e.provide),n=jv(e);if(!bl(e)&&e.multi===!0){let r=this.records.get(i);r||(r=Ni(void 0,zs,!0),r.factory=()=>ml(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=Oe(null);try{return i.value===zs&&(i.value=Lv,i.value=i.factory()),typeof i.value=="object"&&i.value&&Uv(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Oe(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=Lt(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function _l(t){let e=vo(t),i=e!==null?e.factory:oi(t);if(i!==null)return i;if(t instanceof me)throw new pe(204,!1);if(t instanceof Function)return Fv(t);throw new pe(204,!1)}function Fv(t){if(t.length>0)throw new pe(204,!1);let i=Qm(t);return i!==null?()=>i.factory(t):()=>new t}function jv(t){if(Fh(t))return Ni(void 0,t.useValue);{let e=Bv(t);return Ni(e,zs)}}function Bv(t,e,i){let n;if(bl(t)){let r=Lt(t);return oi(r)||_l(r)}else if(Fh(t))n=()=>Lt(t.useValue);else if(kv(t))n=()=>t.useFactory(...ml(t.deps||[]));else if(Nv(t))n=()=>be(Lt(t.useExisting));else{let r=Lt(t&&(t.useClass||t.provide));if(Vv(t))n=()=>new r(...ml(t.deps));else return oi(r)||_l(r)}return n}function Ni(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function Vv(t){return!!t.deps}function Uv(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Hv(t){return typeof t=="function"||typeof t=="object"&&t instanceof me}function wl(t,e){for(let i of t)Array.isArray(i)?wl(i,e):i&&vh(i)?wl(i.\u0275providers,e):e(i)}function qt(t,e){t instanceof Cr&&t.assertNotDestroyed();let i,n=kn(t),r=_t(void 0);try{return e()}finally{kn(n),_t(r)}}function $v(){return bh()!==void 0||cv()!=null}function zv(t){return typeof t=="function"}var _n=0,Ce=1,ye=2,pt=3,Gt=4,Yt=5,eo=6,to=7,gn=8,Vi=9,mn=10,Et=11,Ar=12,jd=13,Pr=14,an=15,li=16,ki=17,vn=18,wo=19,jh=20,Ln=21,ol=22,Ft=23,yn=25,Bh=1;var ci=7,no=8,Ui=9,xt=10,io=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(io||{});function Fn(t){return Array.isArray(t)&&typeof t[Bh]=="object"}function wn(t){return Array.isArray(t)&&t[Bh]===!0}function Vh(t){return(t.flags&4)!==0}function Eo(t){return t.componentOffset>-1}function Uh(t){return(t.flags&1)===1}function Rr(t){return!!t.template}function El(t){return(t[ye]&512)!==0}var Cl=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function Hh(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function Yi(){return $h}function $h(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gv),Wv}Yi.ngInherit=!0;function Wv(){let t=Wh(this),e=t?.current;if(e){let i=t.previous;if(i===Er)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function Gv(t,e,i,n,r){let s=this.declaredInputs[n],o=Wh(t)||qv(t,{previous:Er,current:null}),a=o.current||(o.current={}),h=o.previous,d=h[s];a[s]=new Cl(d&&d.currentValue,i,h===Er),Hh(t,e,r,i)}var zh="__ngSimpleChanges__";function Wh(t){return t[zh]||null}function qv(t,e){return t[zh]=e}var Bd=null;var rn=function(t,e,i){Bd?.(t,e,i)},Gh="svg",Yv="math";function ln(t){for(;Array.isArray(t);)t=t[_n];return t}function Xv(t,e){return ln(e[t])}function Xt(t,e){return ln(e[t.index])}function qh(t,e){return t.data[e]}function Kv(t,e){return t[e]}function Vn(t,e){let i=e[t];return Fn(i)?i:i[_n]}function Qv(t){return(t[ye]&4)===4}function uc(t){return(t[ye]&128)===128}function Zv(t){return wn(t[pt])}function Vd(t,e){return e==null?null:t[e]}function Yh(t){t[ki]=0}function Xh(t){t[ye]&1024||(t[ye]|=1024,uc(t)&&Ao(t))}function Co(t){return!!(t[ye]&9216||t[Ft]?.dirty)}function Al(t){t[mn].changeDetectionScheduler?.notify(8),t[ye]&64&&(t[ye]|=1024),Co(t)&&Ao(t)}function Ao(t){t[mn].changeDetectionScheduler?.notify(0);let e=ui(t);for(;e!==null&&!(e[ye]&8192||(e[ye]|=8192,!uc(e)));)e=ui(e)}function Kh(t,e){if((t[ye]&256)===256)throw new pe(911,!1);t[Ln]===null&&(t[Ln]=[]),t[Ln].push(e)}function Jv(t,e){if(t[Ln]===null)return;let i=t[Ln].indexOf(e);i!==-1&&t[Ln].splice(i,1)}function ui(t){let e=t[pt];return wn(e)?e[pt]:e}var Te={lFrame:lf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qh=!1;function ey(){return Te.lFrame.elementDepthCount}function ty(){Te.lFrame.elementDepthCount++}function ny(){Te.lFrame.elementDepthCount--}function Zh(){return Te.bindingsEnabled}function iy(){return Te.skipHydrationRootTNode!==null}function ry(t){return Te.skipHydrationRootTNode===t}function sy(){Te.skipHydrationRootTNode=null}function qe(){return Te.lFrame.lView}function En(){return Te.lFrame.tView}function jt(){let t=Jh();for(;t!==null&&t.type===64;)t=t.parent;return t}function Jh(){return Te.lFrame.currentTNode}function oy(){let t=Te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function So(t,e){let i=Te.lFrame;i.currentTNode=t,i.isParent=e}function ef(){return Te.lFrame.isParent}function ay(){Te.lFrame.isParent=!1}function tf(){return Qh}function Ud(t){Qh=t}function nf(){let t=Te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ly(t){return Te.lFrame.bindingIndex=t}function rf(){return Te.lFrame.bindingIndex++}function cy(){return Te.lFrame.inI18n}function uy(t,e){let i=Te.lFrame;i.bindingIndex=i.bindingRootIndex=t,Sl(e)}function dy(){return Te.lFrame.currentDirectiveIndex}function Sl(t){Te.lFrame.currentDirectiveIndex=t}function sf(){return Te.lFrame.currentQueryIndex}function dc(t){Te.lFrame.currentQueryIndex=t}function hy(t){let e=t[Ce];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function of(t,e,i){if(i&Se.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(i&Se.Host);)if(r=hy(s),r===null||(s=s[Pr],r.type&10))break;if(r===null)return!1;e=r,t=s}let n=Te.lFrame=af();return n.currentTNode=e,n.lView=t,!0}function hc(t){let e=af(),i=t[Ce];Te.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function af(){let t=Te.lFrame,e=t===null?null:t.child;return e===null?lf(t):e}function lf(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cf(){let t=Te.lFrame;return Te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var uf=cf;function fc(){let t=cf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pc(){return Te.lFrame.selectedIndex}function di(t){Te.lFrame.selectedIndex=t}function fy(){let t=Te.lFrame;return qh(t.tView,t.selectedIndex)}function Or(){Te.lFrame.currentNamespace=Gh}function Nr(){py()}function py(){Te.lFrame.currentNamespace=null}function gy(){return Te.lFrame.currentNamespace}var df=!0;function hf(){return df}function ff(t){df=t}function my(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){let o=$h(e);(i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o)}r&&(i.preOrderHooks??=[]).push(0-t,r),s&&((i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s))}function pf(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let s=t.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:h,ngAfterViewChecked:d,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-i,o),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),h&&(t.viewHooks??=[]).push(-i,h),d&&((t.viewHooks??=[]).push(i,d),(t.viewCheckHooks??=[]).push(i,d)),u!=null&&(t.destroyHooks??=[]).push(i,u)}}function Ws(t,e,i){gf(t,e,3,i)}function Gs(t,e,i,n){(t[ye]&3)===i&&gf(t,e,i,n)}function al(t,e){let i=t[ye];(i&3)===e&&(i&=16383,i+=1,t[ye]=i)}function gf(t,e,i,n){let r=n!==void 0?t[ki]&65535:0,s=n??-1,o=e.length-1,a=0;for(let h=r;h<o;h++)if(typeof e[h+1]=="number"){if(a=e[h],n!=null&&a>=n)break}else e[h]<0&&(t[ki]+=65536),(a<s||s==-1)&&(vy(t,i,e,h),t[ki]=(t[ki]&4294901760)+h+2),h++}function Hd(t,e){rn(4,t,e);let i=Oe(null);try{e.call(t)}finally{Oe(i),rn(5,t,e)}}function vy(t,e,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=t[o];r?t[ye]>>14<t[ki]>>16&&(t[ye]&3)===e&&(t[ye]+=16384,Hd(a,s)):Hd(a,s)}var ji=-1,Sr=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function yy(t){return t instanceof Sr}function by(t){return(t.flags&8)!==0}function _y(t){return(t.flags&16)!==0}var ll={},Dl=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=yo(n);let r=this.injector.get(e,ll,n);return r!==ll||i===ll?r:this.parentInjector.get(e,i,n)}};function mf(t){return t!==ji}function ro(t){return t&32767}function wy(t){return t>>16}function so(t,e){let i=wy(t),n=e;for(;i>0;)n=n[Pr],i--;return n}var Il=!0;function oo(t){let e=Il;return Il=t,e}var Ey=256,vf=Ey-1,yf=5,Cy=0,sn={};function Ay(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(_r)&&(n=i[_r]),n==null&&(n=i[_r]=Cy++);let r=n&vf,s=1<<r;e.data[t+(r>>yf)]|=s}function bf(t,e){let i=_f(t,e);if(i!==-1)return i;let n=e[Ce];n.firstCreatePass&&(t.injectorIndex=e.length,cl(n.data,t),cl(e,null),cl(n.blueprint,null));let r=gc(t,e),s=t.injectorIndex;if(mf(r)){let o=ro(r),a=so(r,e),h=a[Ce].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|h[o+d]}return e[s+8]=r,s}function cl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _f(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gc(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=Sf(r),n===null)return ji;if(i++,r=r[Pr],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return ji}function Sy(t,e,i){Ay(t,e,i)}function wf(t,e,i){if(i&Se.Optional||t!==void 0)return t;ic(e,"NodeInjector")}function Ef(t,e,i,n){if(i&Se.Optional&&n===void 0&&(n=null),!(i&(Se.Self|Se.Host))){let r=t[Vi],s=_t(void 0);try{return r?r.get(e,n,i&Se.Optional):_h(e,n,i&Se.Optional)}finally{_t(s)}}return wf(n,e,i)}function Cf(t,e,i,n=Se.Default,r){if(t!==null){if(e[ye]&2048&&!(n&Se.Self)){let o=xy(t,e,i,n,sn);if(o!==sn)return o}let s=Af(t,e,i,n,sn);if(s!==sn)return s}return Ef(e,i,n,r)}function Af(t,e,i,n,r){let s=Iy(i);if(typeof s=="function"){if(!of(e,t,n))return n&Se.Host?wf(r,i,n):Ef(e,i,n,r);try{let o;if(o=s(n),o==null&&!(n&Se.Optional))ic(i);else return o}finally{uf()}}else if(typeof s=="number"){let o=null,a=_f(t,e),h=ji,d=n&Se.Host?e[an][Yt]:null;for((a===-1||n&Se.SkipSelf)&&(h=a===-1?gc(t,e):e[a+8],h===ji||!zd(n,!1)?a=-1:(o=e[Ce],a=ro(h),e=so(h,e)));a!==-1;){let u=e[Ce];if($d(s,a,u.data)){let l=Dy(a,e,i,o,n,d);if(l!==sn)return l}h=e[a+8],h!==ji&&zd(n,e[Ce].data[a+8]===d)&&$d(s,a,e)?(o=u,a=ro(h),e=so(h,e)):a=-1}}return r}function Dy(t,e,i,n,r,s){let o=e[Ce],a=o.data[t+8],h=n==null?Eo(a)&&Il:n!=o&&(a.type&3)!==0,d=r&Se.Host&&s===a,u=qs(a,o,i,h,d);return u!==null?Hi(e,o,u,a):sn}function qs(t,e,i,n,r){let s=t.providerIndexes,o=e.data,a=s&1048575,h=t.directiveStart,d=t.directiveEnd,u=s>>20,l=n?a:a+u,c=r?a+u:d;for(let g=l;g<c;g++){let f=o[g];if(g<h&&i===f||g>=h&&f.type===i)return g}if(r){let g=o[h];if(g&&Rr(g)&&g.type===i)return h}return null}function Hi(t,e,i,n){let r=t[i],s=e.data;if(yy(r)){let o=r;o.resolving&&rv(iv(s[i]));let a=oo(o.canSeeViewProviders);o.resolving=!0;let h,d=o.injectImpl?_t(o.injectImpl):null,u=of(t,n,Se.Default);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&my(i,s[i],e)}finally{d!==null&&_t(d),oo(a),o.resolving=!1,uf()}}return r}function Iy(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(_r)?t[_r]:void 0;return typeof e=="number"?e>=0?e&vf:My:e}function $d(t,e,i){let n=1<<t;return!!(i[e+(t>>yf)]&n)}function zd(t,e){return!(t&Se.Self)&&!(t&Se.Host&&e)}var si=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return Cf(this._tNode,this._lView,e,yo(n),i)}};function My(){return new si(jt(),qe())}function mc(t){return Tr(()=>{let e=t.prototype.constructor,i=e[Ks]||Ml(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let s=r[Ks]||Ml(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ml(t){return fh(t)?()=>{let e=Ml(Lt(t));return e&&e()}:oi(t)}function xy(t,e,i,n,r){let s=t,o=e;for(;s!==null&&o!==null&&o[ye]&2048&&!(o[ye]&512);){let a=Af(s,o,i,n|Se.Self,sn);if(a!==sn)return a;let h=s.parent;if(!h){let d=o[jh];if(d){let u=d.get(i,sn,n);if(u!==sn)return u}h=Sf(o),o=o[Pr]}s=h}return r}function Sf(t){let e=t[Ce],i=e.type;return i===2?e.declTNode:i===1?t[Yt]:null}function Wd(t,e=null,i=null,n){let r=Df(t,e,i,n);return r.resolveInjectorInitializers(),r}function Df(t,e=null,i=null,n,r=new Set){let s=[i||nn,Rv(t)];return n=n||(typeof t=="object"?void 0:Mt(t)),new Cr(s,e||cc(),n||null,r)}var ii=class ii{static create(e,i){if(Array.isArray(e))return Wd({name:""},i,e,"");{let n=e.name??"";return Wd({name:n},e.parent,e.providers,n)}}};ii.THROW_IF_NOT_FOUND=wr,ii.NULL=new Js,ii.\u0275prov=fe({token:ii,providedIn:"any",factory:()=>be(Ah)}),ii.__NG_ELEMENT_ID__=-1;var hi=ii;var Ty=new me("");Ty.__NG_ELEMENT_ID__=t=>{let e=jt();if(e===null)throw new pe(204,!1);if(e.type&2)return e.value;if(t&Se.Optional)return null;throw new pe(204,!1)};var Py="ngOriginalError";function ul(t){return t[Py]}var If=!0,Mf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ry,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),xl=class extends Mf{constructor(e){super(),this._lView=e}onDestroy(e){return Kh(this._lView,e),()=>Jv(this._lView,e)}};function Ry(){return new xl(qe())}var Un=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Tl=class extends lt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,$v()&&(this.destroyRef=ae(Mf,{optional:!0})??void 0,this.pendingTasks=ae(Un,{optional:!0})??void 0)}emit(e){let i=Oe(null);try{super.next(e)}finally{Oe(i)}}subscribe(e,i,n){let r=e,s=i||(()=>null),o=n;if(e&&typeof e=="object"){let h=e;r=h.next?.bind(h),s=h.error?.bind(h),o=h.complete?.bind(h)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Xe&&e.add(a),a}wrapInTimeout(e){return i=>{let n=this.pendingTasks?.add();setTimeout(()=>{e(i),n!==void 0&&this.pendingTasks?.remove(n)})}}},He=Tl;function ao(...t){}function xf(t){let e,i;function n(){t=ao;try{i!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(i),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),n()}),typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(()=>{t(),n()})),()=>n()}function Gd(t){return queueMicrotask(()=>t()),()=>{t=ao}}var vc="isAngularZone",lo=vc+"_ID",Oy=0,Ge=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1);let{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=If}=e;if(typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,Ly(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new pe(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Ny,ao,ao);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},Ny={};function yc(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ky(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){xf(()=>{t.callbackScheduled=!1,Pl(t),t.isCheckStableRunning=!0,yc(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Pl(t)}function Ly(t){let e=()=>{ky(t)},i=Oy++;t._inner=t._inner.fork({name:"angular",properties:{[vc]:!0,[lo]:i,[lo+i]:!0},onInvokeTask:(n,r,s,o,a,h)=>{if(Fy(h))return n.invokeTask(s,o,a,h);try{return qd(t),n.invokeTask(s,o,a,h)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Yd(t)}},onInvoke:(n,r,s,o,a,h,d)=>{try{return qd(t),n.invoke(s,o,a,h,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!jy(h)&&e(),Yd(t)}},onHasTask:(n,r,s,o)=>{n.hasTask(s,o),r===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Pl(t),yc(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,s,o)=>(n.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Pl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qd(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yd(t){t._nesting--,yc(t)}var Rl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function Fy(t){return Tf(t,"__ignore_ng_zone__")}function jy(t){return Tf(t,"__scheduler_tick__")}function Tf(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var bn=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&ul(e);for(;i&&ul(i);)i=ul(i);return i||null}},By=new me("",{providedIn:"root",factory:()=>{let t=ae(Ge),e=ae(bn);return i=>t.runOutsideAngular(()=>e.handleError(i))}});function Vy(){return Xi(jt(),qe())}function Xi(t,e){return new cn(Xt(t,e))}var cn=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=Vy;let t=e;return t})();function Uy(t){return t instanceof cn?t.nativeElement:t}function Hy(){return this._results[Symbol.iterator]()}var Ol=class t{get changes(){return this._changes??=new He}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Hy)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=gv(e);(this._changesDetected=!pv(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Pf(t){return(t.flags&128)===128}var Rf=new Map,$y=0;function zy(){return $y++}function Wy(t){Rf.set(t[wo],t)}function Nl(t){Rf.delete(t[wo])}var Xd="__ngContext__";function $i(t,e){Fn(e)?(t[Xd]=e[wo],Wy(e)):t[Xd]=e}function Of(t){return kf(t[Ar])}function Nf(t){return kf(t[Gt])}function kf(t){for(;t!==null&&!wn(t);)t=t[Gt];return t}var kl;function Lf(t){kl=t}function Gy(){if(kl!==void 0)return kl;if(typeof document<"u")return document;throw new pe(210,!1)}var bc=new me("",{providedIn:"root",factory:()=>qy}),qy="ng",_c=new me(""),Hn=new me("",{providedIn:"platform",factory:()=>"unknown"});var wc=new me("",{providedIn:"root",factory:()=>Gy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Yy="h",Xy="b";var Ky=()=>null;function Ec(t,e,i=!1){return Ky(t,e,i)}var Ff=!1,Qy=new me("",{providedIn:"root",factory:()=>Ff});function jf(t){return t instanceof Function?t():t}var $n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($n||{}),Zy;function Cc(t,e){return Zy(t,e)}function Li(t,e,i,n,r){if(n!=null){let s,o=!1;wn(n)?s=n:Fn(n)&&(o=!0,n=n[_n]);let a=ln(n);t===0&&i!==null?r==null?$f(e,i,a):co(e,i,a,r||null,!0):t===1&&i!==null?co(e,i,a,r||null,!0):t===2?fb(e,a,o):t===3&&e.destroyNode(a),s!=null&&gb(e,t,s,i,r)}}function Jy(t,e){return t.createText(e)}function eb(t,e,i){t.setValue(e,i)}function Bf(t,e,i){return t.createElement(e,i)}function tb(t,e){Vf(t,e),e[_n]=null,e[Yt]=null}function nb(t,e,i,n,r,s){n[_n]=r,n[Yt]=e,Do(t,n,i,1,r,s)}function Vf(t,e){e[mn].changeDetectionScheduler?.notify(9),Do(t,e,e[Et],2,null,null)}function ib(t){let e=t[Ar];if(!e)return dl(t[Ce],t);for(;e;){let i=null;if(Fn(e))i=e[Ar];else{let n=e[xt];n&&(i=n)}if(!i){for(;e&&!e[Gt]&&e!==t;)Fn(e)&&dl(e[Ce],e),e=e[pt];e===null&&(e=t),Fn(e)&&dl(e[Ce],e),i=e&&e[Gt]}e=i}}function rb(t,e,i,n){let r=xt+n,s=i.length;n>0&&(i[r-1][Gt]=e),n<s-xt?(e[Gt]=i[r],Ch(i,xt+n,e)):(i.push(e),e[Gt]=null),e[pt]=i;let o=e[li];o!==null&&i!==o&&Uf(o,e);let a=e[vn];a!==null&&a.insertView(t),Al(e),e[ye]|=128}function Uf(t,e){let i=t[Ui],n=e[pt];if(Fn(n))t[ye]|=io.HasTransplantedViews;else{let r=n[pt][an];e[an]!==r&&(t[ye]|=io.HasTransplantedViews)}i===null?t[Ui]=[e]:i.push(e)}function Ac(t,e){let i=t[Ui],n=i.indexOf(e);i.splice(n,1)}function Ll(t,e){if(t.length<=xt)return;let i=xt+e,n=t[i];if(n){let r=n[li];r!==null&&r!==t&&Ac(r,n),e>0&&(t[i-1][Gt]=n[Gt]);let s=Zs(t,xt+e);tb(n[Ce],n);let o=s[vn];o!==null&&o.detachView(s[Ce]),n[pt]=null,n[Gt]=null,n[ye]&=-129}return n}function Hf(t,e){if(!(e[ye]&256)){let i=e[Et];i.destroyNode&&Do(t,e,i,3,null,null),ib(e)}}function dl(t,e){if(e[ye]&256)return;let i=Oe(null);try{e[ye]&=-129,e[ye]|=256,e[Ft]&&ja(e[Ft]),ob(t,e),sb(t,e),e[Ce].type===1&&e[Et].destroy();let n=e[li];if(n!==null&&wn(e[pt])){n!==e[pt]&&Ac(n,e);let r=e[vn];r!==null&&r.detachView(t)}Nl(e)}finally{Oe(i)}}function sb(t,e){let i=t.cleanup,n=e[to];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(e[to]=null);let r=e[Ln];if(r!==null){e[Ln]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function ob(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Sr)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],h=s[o+1];rn(4,a,h);try{h.call(a)}finally{rn(5,a,h)}}else{rn(4,r,s);try{s.call(r)}finally{rn(5,r,s)}}}}}function ab(t,e,i){return lb(t,e.parent,i)}function lb(t,e,i){let n=e;for(;n!==null&&n.type&168;)e=n,n=e.parent;if(n===null)return i[_n];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=t.data[n.directiveStart+r];if(s===on.None||s===on.Emulated)return null}return Xt(n,i)}}function co(t,e,i,n,r){t.insertBefore(e,i,n,r)}function $f(t,e,i){t.appendChild(e,i)}function Kd(t,e,i,n,r){n!==null?co(t,e,i,n,r):$f(t,e,i)}function zf(t,e){return t.parentNode(e)}function cb(t,e){return t.nextSibling(e)}function ub(t,e,i){return hb(t,e,i)}function db(t,e,i){return t.type&40?Xt(t,i):null}var hb=db,Qd;function Wf(t,e,i,n){let r=ab(t,n,e),s=e[Et],o=n.parent||e[Yt],a=ub(o,n,e);if(r!=null)if(Array.isArray(i))for(let h=0;h<i.length;h++)Kd(s,r,i[h],a,!1);else Kd(s,r,i,a,!1);Qd!==void 0&&Qd(s,n,e,i,r)}function yr(t,e){if(e!==null){let i=e.type;if(i&3)return Xt(e,t);if(i&4)return Fl(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return yr(t,n);{let r=t[e.index];return wn(r)?Fl(-1,r):ln(r)}}else{if(i&128)return yr(t,e.next);if(i&32)return Cc(e,t)()||ln(t[e.index]);{let n=Gf(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=ui(t[an]);return yr(r,n)}else return yr(t,e.next)}}}return null}function Gf(t,e){if(e!==null){let n=t[an][Yt],r=e.projection;return n.projection[r]}return null}function Fl(t,e){let i=xt+t+1;if(i<e.length){let n=e[i],r=n[Ce].firstChild;if(r!==null)return yr(n,r)}return e[ci]}function fb(t,e,i){t.removeChild(null,e,i)}function Sc(t,e,i,n,r,s,o){for(;i!=null;){if(i.type===128){i=i.next;continue}let a=n[i.index],h=i.type;if(o&&e===0&&(a&&$i(ln(a),n),i.flags|=2),(i.flags&32)!==32)if(h&8)Sc(t,e,i.child,n,r,s,!1),Li(e,t,r,a,s);else if(h&32){let d=Cc(i,n),u;for(;u=d();)Li(e,t,r,u,s);Li(e,t,r,a,s)}else h&16?pb(t,e,n,i,r,s):Li(e,t,r,a,s);i=o?i.projectionNext:i.next}}function Do(t,e,i,n,r,s){Sc(i,n,t.firstChild,e,r,s,!1)}function pb(t,e,i,n,r,s){let o=i[an],h=o[Yt].projection[n.projection];if(Array.isArray(h))for(let d=0;d<h.length;d++){let u=h[d];Li(e,t,r,u,s)}else{let d=h,u=o[pt];Pf(n)&&(d.flags|=128),Sc(t,e,d,u,r,s,!0)}}function gb(t,e,i,n,r){let s=i[ci],o=ln(i);s!==o&&Li(e,t,n,s,r);for(let a=xt;a<i.length;a++){let h=i[a];Do(h[Ce],h,t,e,n,s)}}function mb(t,e,i){t.setAttribute(e,"style",i)}function qf(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function Yf(t,e,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&vl(t,e,n),r!==null&&qf(t,e,r),s!==null&&mb(t,e,s)}var kr={};function Tt(t=1){Xf(En(),qe(),pc()+t,!1)}function Xf(t,e,i,n){if(!n)if((e[ye]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ws(e,s,i)}else{let s=t.preOrderHooks;s!==null&&Gs(e,s,0,i)}di(i)}function ut(t,e=Se.Default){let i=qe();if(i===null)return be(t,e);let n=jt();return Cf(n,i,Lt(t),e)}function Kf(t,e,i,n,r,s){let o=Oe(null);try{let a=null;r&jn.SignalBased&&(a=e[n][Xu]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&jn.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,i,n):Hh(e,a,n,s)}finally{Oe(o)}}function vb(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)di(~r);else{let s=r,o=i[++n],a=i[++n];uy(o,s);let h=e[s];a(2,h)}}}finally{di(-1)}}function Io(t,e,i,n,r,s,o,a,h,d,u){let l=e.blueprint.slice();return l[_n]=r,l[ye]=n|4|128|8|64,(d!==null||t&&t[ye]&2048)&&(l[ye]|=2048),Yh(l),l[pt]=l[Pr]=t,l[gn]=i,l[mn]=o||t&&t[mn],l[Et]=a||t&&t[Et],l[Vi]=h||t&&t[Vi]||null,l[Yt]=s,l[wo]=zy(),l[eo]=u,l[jh]=d,l[an]=e.type==2?t[an]:l,l}function Dc(t,e,i,n,r){let s=t.data[e];if(s===null)s=yb(t,e,i,n,r),cy()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=oy();s.injectorIndex=o===null?-1:o.injectorIndex}return So(s,!0),s}function yb(t,e,i,n,r){let s=Jh(),o=ef(),a=o?s:s&&s.parent,h=t.data[e]=Db(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=h),s!==null&&(o?s.child==null&&h.parent!==null&&(s.child=h):s.next===null&&(s.next=h,h.prev=s)),h}function Qf(t,e,i,n){if(i===0)return-1;let r=e.length;for(let s=0;s<i;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function Zf(t,e,i,n,r){let s=pc(),o=n&2;try{di(-1),o&&e.length>yn&&Xf(t,e,yn,!1),rn(o?2:0,r),i(n,r)}finally{di(s),rn(o?3:1,r)}}function Jf(t,e,i){if(Vh(e)){let n=Oe(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let h=i[o];a.contentQueries(1,h,o)}}}finally{Oe(n)}}}function bb(t,e,i){Zh()&&(Nb(t,e,i,Xt(i,e)),(i.flags&64)===64&&ip(t,e,i))}function _b(t,e,i=Xt){let n=e.localNames;if(n!==null){let r=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(e,t):t[o];t[r++]=a}}}function ep(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=tp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function tp(t,e,i,n,r,s,o,a,h,d,u){let l=yn+n,c=l+r,g=wb(l,c),f=typeof d=="function"?d():d;return g[Ce]={type:t,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:c,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:h,consts:f,incompleteFirstPass:!1,ssrId:u}}function wb(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:kr);return i}function Eb(t,e,i,n){let s=n.get(Qy,Ff)||i===on.ShadowDom,o=t.selectRootElement(e,s);return Cb(o),o}function Cb(t){Ab(t)}var Ab=()=>null;function Sb(t,e,i,n){let r=sp(e);r.push(i),t.firstCreatePass&&op(t).push(n,r.length-1)}function Db(t,e,i,n,r,s){let o=e?e.injectorIndex:-1,a=0;return iy()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zd(t,e,i,n,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,h=jn.None;Array.isArray(o)?(a=o[0],h=o[1]):a=o;let d=s;if(r!==null){if(!r.hasOwnProperty(s))continue;d=r[s]}t===0?Jd(n,i,d,a,h):Jd(n,i,d,a)}return n}function Jd(t,e,i,n,r){let s;t.hasOwnProperty(i)?(s=t[i]).push(e,n):s=t[i]=[e,n],r!==void 0&&s.push(r)}function Ib(t,e,i){let n=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],h=null,d=null;for(let u=n;u<r;u++){let l=s[u],c=i?i.get(l):null,g=c?c.inputs:null,f=c?c.outputs:null;h=Zd(0,l.inputs,u,h,g),d=Zd(1,l.outputs,u,d,f);let p=h!==null&&o!==null&&!ac(e)?$b(h,u,o):null;a.push(p)}h!==null&&(h.hasOwnProperty("class")&&(e.flags|=8),h.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=h,e.outputs=d}function Mb(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xb(t,e,i,n,r,s,o,a){let h=Xt(e,i),d=e.inputs,u;!a&&d!=null&&(u=d[n])?(Mc(t,i,u,n,r),Eo(e)&&Tb(i,e.index)):e.type&3?(n=Mb(n),r=o!=null?o(r,e.value||"",n):r,s.setProperty(h,n,r)):e.type&12}function Tb(t,e){let i=Vn(e,t);i[ye]&16||(i[ye]|=64)}function Pb(t,e,i,n){if(Zh()){let r=n===null?null:{"":-1},s=Lb(t,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&np(t,e,i,o,r,a),r&&Fb(i,n,r)}i.mergedAttrs=oc(i.mergedAttrs,i.attrs)}function np(t,e,i,n,r,s){for(let d=0;d<n.length;d++)Sy(bf(i,e),t,n[d].type);Bb(i,t.data.length,n.length);for(let d=0;d<n.length;d++){let u=n[d];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,h=Qf(t,e,n.length,null);for(let d=0;d<n.length;d++){let u=n[d];i.mergedAttrs=oc(i.mergedAttrs,u.hostAttrs),Vb(t,i,e,h,u),jb(h,u,r),u.contentQueries!==null&&(i.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(i.flags|=64);let l=u.type.prototype;!o&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),o=!0),!a&&(l.ngOnChanges||l.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),h++}Ib(t,i,s)}function Rb(t,e,i,n,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Ob(o)!=a&&o.push(a),o.push(i,n,s)}}function Ob(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function Nb(t,e,i,n){let r=i.directiveStart,s=i.directiveEnd;Eo(i)&&Ub(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||bf(i,e),$i(n,e);let o=i.initialInputs;for(let a=r;a<s;a++){let h=t.data[a],d=Hi(e,t,a,i);if($i(d,e),o!==null&&Hb(e,a-r,d,h,i,o),Rr(h)){let u=Vn(i.index,e);u[gn]=Hi(e,t,a,i)}}}function ip(t,e,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=dy();try{di(s);for(let a=n;a<r;a++){let h=t.data[a],d=e[a];Sl(a),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&kb(h,d)}}finally{di(-1),Sl(o)}}function kb(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Lb(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(Cv(e,o.selectors,!1))if(n||(n=[]),Rr(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let h=a.length;jl(t,e,h)}else n.unshift(o),jl(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function jl(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function Fb(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=i[e[r+1]];if(s==null)throw new pe(-301,!1);n.push(e[r],s)}}}function jb(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;Rr(e)&&(i[""]=t)}}function Bb(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Vb(t,e,i,n,r){t.data[n]=r;let s=r.factory||(r.factory=oi(r.type,!0)),o=new Sr(s,Rr(r),ut);t.blueprint[n]=o,i[n]=o,Rb(t,e,n,Qf(t,i,r.hostVars,kr),r)}function Ub(t,e,i){let n=Xt(e,t),r=ep(i),s=t[mn].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=Ic(t,Io(t,r,null,o,n,e,null,s.createRenderer(n,i),null,null,null));t[e.index]=a}function Hb(t,e,i,n,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let h=o[a++],d=o[a++],u=o[a++],l=o[a++];Kf(n,i,h,d,u,l)}}function $b(t,e,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function zb(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function rp(t,e){let i=t.contentQueries;if(i!==null){let n=Oe(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=t.data[o];dc(s),a.contentQueries(2,e[o],o)}}}finally{Oe(n)}}}function Ic(t,e){return t[Ar]?t[jd][Gt]=e:t[Ar]=e,t[jd]=e,e}function Bl(t,e,i){dc(0);let n=Oe(null);try{e(t,i)}finally{Oe(n)}}function sp(t){return t[to]??=[]}function op(t){return t.cleanup??=[]}function ap(t,e){let i=t[Vi],n=i?i.get(bn,null):null;n&&n.handleError(e)}function Mc(t,e,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],h=i[s++],d=e[o],u=t.data[o];Kf(u,d,n,a,h,r)}}function Wb(t,e,i){let n=Xv(e,t);eb(t[Et],n,i)}function Gb(t,e){let i=Vn(e,t),n=i[Ce];qb(n,i);let r=i[_n];r!==null&&i[eo]===null&&(i[eo]=Ec(r,i[Vi])),xc(n,i,i[gn])}function qb(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function xc(t,e,i){hc(e);try{let n=t.viewQuery;n!==null&&Bl(1,n,i);let r=t.template;r!==null&&Zf(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[vn]?.finishViewCreation(t),t.staticContentQueries&&rp(t,e),t.staticViewQueries&&Bl(2,t.viewQuery,i);let s=t.components;s!==null&&Yb(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[ye]&=-5,fc()}}function Yb(t,e){for(let i=0;i<e.length;i++)Gb(t,e[i])}function Xb(t,e,i,n){let r=Oe(null);try{let s=e.tView,a=t[ye]&4096?4096:16,h=Io(t,s,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),d=t[e.index];h[li]=d;let u=t[vn];return u!==null&&(h[vn]=u.createEmbeddedView(s)),xc(s,h,i),h}finally{Oe(r)}}function eh(t,e){return!e||e.firstChild===null||Pf(t)}function Kb(t,e,i,n=!0){let r=e[Ce];if(rb(r,e,t,i),n){let o=Fl(i,t),a=e[Et],h=zf(a,t[ci]);h!==null&&nb(r,t[Yt],a,e,h,o)}let s=e[eo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uo(t,e,i,n,r=!1){for(;i!==null;){if(i.type===128){i=r?i.projectionNext:i.next;continue}let s=e[i.index];s!==null&&n.push(ln(s)),wn(s)&&Qb(s,n);let o=i.type;if(o&8)uo(t,e,i.child,n);else if(o&32){let a=Cc(i,e),h;for(;h=a();)n.push(h)}else if(o&16){let a=Gf(e,i);if(Array.isArray(a))n.push(...a);else{let h=ui(e[an]);uo(h[Ce],h,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function Qb(t,e){for(let i=xt;i<t.length;i++){let n=t[i],r=n[Ce].firstChild;r!==null&&uo(n[Ce],n,r,e)}t[ci]!==t[_n]&&e.push(t[ci])}var lp=[];function Zb(t){return t[Ft]??Jb(t)}function Jb(t){let e=lp.pop()??Object.create(t0);return e.lView=t,e}function e0(t){t.lView[Ft]!==t&&(t.lView=null,lp.push(t))}var t0=Fe(ue({},ka),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ao(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function n0(t){let e=t[Ft]??Object.create(i0);return e.lView=t,e}var i0=Fe(ue({},ka),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ui(t.lView);for(;e&&!cp(e[Ce]);)e=ui(e);e&&Xh(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function cp(t){return t.type!==2}var r0=100;function up(t,e=!0,i=0){let n=t[mn],r=n.rendererFactory,s=!1;s||r.begin?.();try{s0(t,i)}catch(o){throw e&&ap(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function s0(t,e){let i=tf();try{Ud(!0),Vl(t,e);let n=0;for(;Co(t);){if(n===r0)throw new pe(103,!1);n++,Vl(t,1)}}finally{Ud(i)}}function o0(t,e,i,n){let r=e[ye];if((r&256)===256)return;let s=!1,o=!1;!s&&e[mn].inlineEffectRunner?.flush(),hc(e);let a=!0,h=null,d=null;s||(cp(t)?(d=Zb(e),h=La(d)):Ku()===null?(a=!1,d=n0(e),h=La(d)):e[Ft]&&(ja(e[Ft]),e[Ft]=null));try{Yh(e),ly(t.bindingStartIndex),i!==null&&Zf(t,e,i,2,n);let u=(r&3)===3;if(!s)if(u){let g=t.preOrderCheckHooks;g!==null&&Ws(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Gs(e,g,0,null),al(e,0)}if(o||a0(e),dp(e,0),t.contentQueries!==null&&rp(t,e),!s)if(u){let g=t.contentCheckHooks;g!==null&&Ws(e,g)}else{let g=t.contentHooks;g!==null&&Gs(e,g,1),al(e,1)}vb(t,e);let l=t.components;l!==null&&fp(e,l,0);let c=t.viewQuery;if(c!==null&&Bl(2,c,n),!s)if(u){let g=t.viewCheckHooks;g!==null&&Ws(e,g)}else{let g=t.viewHooks;g!==null&&Gs(e,g,2),al(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ol]){for(let g of e[ol])g();e[ol]=null}s||(e[ye]&=-73)}catch(u){throw s||Ao(e),u}finally{d!==null&&(Qu(d,h),a&&e0(d)),fc()}}function dp(t,e){for(let i=Of(t);i!==null;i=Nf(i))for(let n=xt;n<i.length;n++){let r=i[n];hp(r,e)}}function a0(t){for(let e=Of(t);e!==null;e=Nf(e)){if(!(e[ye]&io.HasTransplantedViews))continue;let i=e[Ui];for(let n=0;n<i.length;n++){let r=i[n];Xh(r)}}}function l0(t,e,i){let n=Vn(e,t);hp(n,i)}function hp(t,e){uc(t)&&Vl(t,e)}function Vl(t,e){let n=t[Ce],r=t[ye],s=t[Ft],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Fa(s)),o||=!1,s&&(s.dirty=!1),t[ye]&=-9217,o)o0(n,t,n.template,t[gn]);else if(r&8192){dp(t,1);let a=n.components;a!==null&&fp(t,a,1)}}function fp(t,e,i){for(let n=0;n<e.length;n++)l0(t,e[n],i)}function Tc(t,e){let i=tf()?64:1088;for(t[mn].changeDetectionScheduler?.notify(e);t;){t[ye]|=i;let n=ui(t);if(El(t)&&!n)return t;t=n}return null}var fi=class{get rootNodes(){let e=this._lView,i=e[Ce];return uo(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return(this._lView[ye]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(wn(e)){let i=e[no],n=i?i.indexOf(this):-1;n>-1&&(Ll(e,n),Zs(i,n))}this._attachedToViewContainer=!1}Hf(this._lView[Ce],this._lView)}onDestroy(e){Kh(this._lView,e)}markForCheck(){Tc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ye]&=-129}reattach(){Al(this._lView),this._lView[ye]|=128}detectChanges(){this._lView[ye]|=1024,up(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=El(this._lView),i=this._lView[li];i!==null&&!e&&Ac(i,this._lView),Vf(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=e;let i=El(this._lView),n=this._lView[li];n!==null&&!i&&Uf(n,this._lView),Al(this._lView)}},Dr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=d0;let t=e;return t})(),c0=Dr,u0=class extends c0{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=Xb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new fi(r)}};function d0(){return Pc(jt(),qe())}function Pc(t,e){return t.type&4?new u0(e,t,Xi(t,e)):null}var _T=new RegExp(`^(\\d+)*(${Xy}|${Yy})*(.*)`);var h0=()=>null;function th(t,e){return h0(t,e)}var zi=class{},Rc=new me("",{providedIn:"root",factory:()=>!1});var pp=new me(""),gp=new me(""),Ul=class{},ho=class{};function f0(t){let e=Error(`No component factory found for ${Mt(t)}.`);return e[p0]=t,e}var p0="ngComponent";var Hl=class{resolveComponentFactory(e){throw f0(e)}},Fc=class Fc{};Fc.NULL=new Hl;var Wi=Fc,Gi=class{},Mo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>g0();let t=e;return t})();function g0(){let t=qe(),e=jt(),i=Vn(e.index,t);return(Fn(i)?i:t)[Et]}var m0=(()=>{let e=class e{};e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function $l(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Md(r,a);else if(s==2){let h=a,d=e[++o];n=Md(n,h+": "+d+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var fo=class extends Wi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=ai(e);return new Ir(i,this.ngModule)}};function nh(t,e){let i=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:jn.None;e?i.push({propName:o,templateName:n,isSignal:(a&jn.SignalBased)!==0}):i.push({propName:o,templateName:n})}return i}function v0(t){let e=t.toLowerCase();return e==="svg"?Gh:e==="math"?Yv:null}var Ir=class extends ho{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=nh(e.inputs,!0);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return nh(this.componentDef.outputs,!1)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=Iv(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let s=Oe(null);try{r=r||this.ngModule;let o=r instanceof wt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Dl(e,o):e,h=a.get(Gi,null);if(h===null)throw new pe(407,!1);let d=a.get(m0,null),u=a.get(zi,null),l={rendererFactory:h,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:u},c=h.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",f=n?Eb(c,n,this.componentDef.encapsulation,a):Bf(c,g,v0(g)),p=512;this.componentDef.signals?p|=4096:this.componentDef.onPush||(p|=16);let y=null;f!==null&&(y=Ec(f,a,!0));let v=tp(0,null,null,1,0,null,null,null,null,null,null),A=Io(null,v,null,p,null,null,l,c,a,null,y);hc(A);let m,b,w=null;try{let D=this.componentDef,I,R=null;D.findHostDirectiveDefs?(I=[],R=new Map,D.findHostDirectiveDefs(D,I,R),I.push(D)):I=[D];let O=y0(A,f);w=b0(O,f,D,I,A,l,c),b=qh(v,yn),f&&E0(c,D,f,n),i!==void 0&&C0(b,this.ngContentSelectors,i),m=w0(w,D,I,R,A,[A0]),xc(v,A,null)}catch(D){throw w!==null&&Nl(w),Nl(A),D}finally{fc()}return new zl(this.componentType,m,Xi(b,A),A,b)}finally{Oe(s)}}},zl=class extends Ul{constructor(e,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new fi(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let s=this._rootLView;Mc(s[Ce],s,r,e,i),this.previousInputValues.set(e,i);let o=Vn(this._tNode.index,s);Tc(o,1)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function y0(t,e){let i=t[Ce],n=yn;return t[n]=e,Dc(i,n,2,"#host",null)}function b0(t,e,i,n,r,s,o){let a=r[Ce];_0(n,t,e,o);let h=null;e!==null&&(h=Ec(e,r[Vi]));let d=s.rendererFactory.createRenderer(e,i),u=16;i.signals?u=4096:i.onPush&&(u=64);let l=Io(r,ep(i),null,u,r[t.index],t,s,d,null,null,h);return a.firstCreatePass&&jl(a,t,n.length-1),Ic(r,l),r[t.index]=l}function _0(t,e,i,n){for(let r of t)e.mergedAttrs=oc(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&($l(e,e.mergedAttrs,!0),i!==null&&Yf(n,i,e))}function w0(t,e,i,n,r,s){let o=jt(),a=r[Ce],h=Xt(o,r);np(a,r,o,i,null,n);for(let u=0;u<i.length;u++){let l=o.directiveStart+u,c=Hi(r,a,l,o);$i(c,r)}ip(a,r,o),h&&$i(h,r);let d=Hi(r,a,o.directiveStart+o.componentOffset,o);if(t[gn]=r[gn]=d,s!==null)for(let u of s)u(d,e);return Jf(a,o,r),d}function E0(t,e,i,n){if(n)vl(t,i,["ng-version","18.2.2"]);else{let{attrs:r,classes:s}=Mv(e.selectors[0]);r&&vl(t,i,r),s&&s.length>0&&qf(t,i,s.join(" "))}}function C0(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function A0(){let t=jt();pf(qe()[Ce],t)}var Ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S0;let t=e;return t})();function S0(){let t=jt();return vp(t,qe())}var D0=Ki,mp=class extends D0{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Xi(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let e=gc(this._hostTNode,this._hostLView);if(mf(e)){let i=so(e,this._hostLView),n=ro(e),r=i[Ce].data[n+8];return new si(r,i)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=ih(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=th(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,eh(this._hostTNode,o)),a}createComponent(e,i,n,r,s){let o=e&&!zv(e),a;if(o)a=i;else{let f=i||{};a=f.index,n=f.injector,r=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}let h=o?e:new Ir(ai(e)),d=n||this.parentInjector;if(!s&&h.ngModule==null){let p=(o?d:this.parentInjector).get(wt,null);p&&(s=p)}let u=ai(h.componentType??{}),l=th(this._lContainer,u?.id??null),c=l?.firstChild??null,g=h.create(d,r,c,s);return this.insertImpl(g.hostView,a,eh(this._hostTNode,l)),g}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(Zv(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let h=r[pt],d=new mp(h,h[Yt],h[pt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(i),o=this._lContainer;return Kb(o,r,s,n),e.attachToViewContainerRef(),Ch(hl(o),s,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=ih(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=Ll(this._lContainer,i);n&&(Zs(hl(this._lContainer),i),Hf(n[Ce],n))}detach(e){let i=this._adjustIndex(e,-1),n=Ll(this._lContainer,i);return n&&Zs(hl(this._lContainer),i)!=null?new fi(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function ih(t){return t[no]}function hl(t){return t[no]||(t[no]=[])}function vp(t,e){let i,n=e[t.index];return wn(n)?i=n:(i=zb(n,e,null,t),e[t.index]=i,Ic(e,i)),M0(i,e,t,n),new mp(i,t,e)}function I0(t,e){let i=t[Et],n=i.createComment(""),r=Xt(e,t),s=zf(i,r);return co(i,s,n,cb(i,r),!1),n}var M0=x0;function x0(t,e,i,n){if(t[ci])return;let r;i.type&8?r=ln(n):r=I0(e,i),t[ci]=r}var Wl=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Gl=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)Oc(e,i).matches!==null&&this.queries[i].setDirty()}},ql=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=F0(e):this.predicate=e}},Yl=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Xl=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(e,i,T0(i,s)),this.matchTNodeWithReadOption(e,i,qs(i,e,s,!1,!1))}else n===Dr?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,qs(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===cn||r===Ki||r===Dr&&i.type&4)this.addMatch(i.index,-2);else{let s=qs(i,e,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function T0(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function P0(t,e){return t.type&11?Xi(t,e):t.type&4?Pc(t,e):null}function R0(t,e,i,n){return i===-1?P0(e,t):i===-2?O0(t,e,n):Hi(t,t[Ce],i,e)}function O0(t,e,i){if(i===cn)return Xi(e,t);if(i===Dr)return Pc(e,t);if(i===Ki)return vp(e,t)}function yp(t,e,i,n){let r=e[vn].queries[n];if(r.matches===null){let s=t.data,o=i.matches,a=[];for(let h=0;o!==null&&h<o.length;h+=2){let d=o[h];if(d<0)a.push(null);else{let u=s[d];a.push(R0(e,u,o[h+1],i.metadata.read))}}r.matches=a}return r.matches}function Kl(t,e,i,n){let r=t.queries.getByIndex(i),s=r.matches;if(s!==null){let o=yp(t,e,r,i);for(let a=0;a<s.length;a+=2){let h=s[a];if(h>0)n.push(o[a/2]);else{let d=s[a+1],u=e[-h];for(let l=xt;l<u.length;l++){let c=u[l];c[li]===c[pt]&&Kl(c[Ce],c,d,n)}if(u[Ui]!==null){let l=u[Ui];for(let c=0;c<l.length;c++){let g=l[c];Kl(g[Ce],g,d,n)}}}}}return n}function N0(t,e){return t[vn].queries[e].queryList}function k0(t,e,i){let n=new Ol((i&4)===4);return Sb(t,e,n,n.destroy),(e[vn]??=new Gl).queries.push(new Wl(n))-1}function L0(t,e,i){let n=En();return n.firstCreatePass&&(j0(n,new ql(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),k0(n,qe(),e)}function F0(t){return t.split(",").map(e=>e.trim())}function j0(t,e,i){t.queries===null&&(t.queries=new Yl),t.queries.track(new Xl(e,i))}function Oc(t,e){return t.queries.getByIndex(e)}function B0(t,e){let i=t[Ce],n=Oc(i,e);return n.crossesNgTemplate?Kl(i,t,e,[]):yp(i,t,n,e)}var rh=new Set;function xo(t){rh.has(t)||(rh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Bn=class{},Mr=class{};var Ql=class extends Bn{constructor(e,i,n,r=!0){super(),this.ngModuleType=e,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fo(this);let s=Rh(e);this._bootstrapComponents=jf(s.bootstrap),this._r3Injector=Df(e,i,[{provide:Bn,useValue:this},{provide:Wi,useValue:this.componentFactoryResolver},...n],Mt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zl=class extends Mr{constructor(e){super(),this.moduleType=e}create(e){return new Ql(this.moduleType,e,[])}};var po=class extends Bn{constructor(e){super(),this.componentFactoryResolver=new fo(this),this.instance=null;let i=new Cr([...e.providers,{provide:Bn,useValue:this},{provide:Wi,useValue:this.componentFactoryResolver}],e.parent||cc(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nc(t,e,i=null){return new po({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}function bp(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function _p(t,e,i){return t[e]=i}function xr(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function V0(t,e,i,n){let r=xr(t,e,i);return xr(t,e+1,n)||r}function U0(t){return(t.flags&32)===32}var br=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(br||{}),H0=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),ri=class ri{constructor(){this.ngZone=ae(Ge),this.scheduler=ae(zi),this.errorHandler=ae(bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of ri.PHASES)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[e]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[e](i.pipelinedValue))}catch(n){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};ri.PHASES=[br.EarlyRead,br.Write,br.MixedReadWrite,br.Read],ri.\u0275prov=fe({token:ri,providedIn:"root",factory:()=>new ri});var sh=ri;function $0(t,e,i,n){return xr(t,rf(),i)?e+yh(i)+n:kr}function Kt(t,e,i){let n=qe(),r=rf();if(xr(n,r,e)){let s=En(),o=fy();xb(s,o,n,t,e,n[Et],i,!1)}return Kt}function oh(t,e,i,n,r){let s=e.inputs,o=r?"class":"style";Mc(t,i,s[o],o,n)}function z0(t,e,i,n,r,s){let o=e.consts,a=Vd(o,r),h=Dc(e,t,2,n,a);return Pb(e,i,h,Vd(o,s)),h.attrs!==null&&$l(h,h.attrs,!1),h.mergedAttrs!==null&&$l(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function Ae(t,e,i,n){let r=qe(),s=En(),o=yn+t,a=r[Et],h=s.firstCreatePass?z0(o,s,r,e,i,n):s.data[o],d=W0(s,r,h,a,e,t);r[o]=d;let u=Uh(h);return So(h,!0),Yf(a,d,h),!U0(h)&&hf()&&Wf(s,r,d,h),ey()===0&&$i(d,r),ty(),u&&(bb(s,r,h),Jf(s,h,r)),n!==null&&_b(r,h),Ae}function De(){let t=jt();ef()?ay():(t=t.parent,So(t,!1));let e=t;ry(e)&&sy(),ny();let i=En();return i.firstCreatePass&&(pf(i,t),Vh(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&by(e)&&oh(i,e,qe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&_y(e)&&oh(i,e,qe(),e.stylesWithoutHost,!1),De}function Qe(t,e,i,n){return Ae(t,e,i,n),De(),Qe}var W0=(t,e,i,n,r,s)=>(ff(!0),Bf(n,r,gy()));var ni=void 0;function G0(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var q0=["en",[["a","p"],["AM","PM"],ni],[["AM","PM"],ni,ni],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ni,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ni,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ni,"{1} 'at' {0}",ni],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",G0],fl={};function Bt(t){let e=Y0(t),i=ah(e);if(i)return i;let n=e.split("-")[0];if(i=ah(n),i)return i;if(n==="en")return q0;throw new pe(701,!1)}function ah(t){return t in fl||(fl[t]=vr.ng&&vr.ng.common&&vr.ng.common.locales&&vr.ng.common.locales[t]),fl[t]}var Ze=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ze||{});function Y0(t){return t.toLowerCase().replace(/_/g,"-")}var go="en-US";var X0=go;function K0(t){typeof t=="string"&&(X0=t.toLowerCase().replace(/_/g,"-"))}var Q0=(t,e,i)=>{};function Qi(t,e,i,n){let r=qe(),s=En(),o=jt();return J0(s,r,r[Et],o,t,e,n),Qi}function Z0(t,e,i,n){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=e[to],h=r[s+2];return a.length>h?a[h]:null}typeof o=="string"&&(s+=2)}return null}function J0(t,e,i,n,r,s,o){let a=Uh(n),d=t.firstCreatePass&&op(t),u=e[gn],l=sp(e),c=!0;if(n.type&3||o){let p=Xt(n,e),y=o?o(p):p,v=l.length,A=o?b=>o(ln(b[n.index])):n.index,m=null;if(!o&&a&&(m=Z0(t,e,r,n.index)),m!==null){let b=m.__ngLastListenerFn__||m;b.__ngNextListenerFn__=s,m.__ngLastListenerFn__=s,c=!1}else{s=ch(n,e,u,s),Q0(p,r,s);let b=i.listen(y,r,s);l.push(s,b),d&&d.push(r,A,v,v+1)}}else s=ch(n,e,u,s);let g=n.outputs,f;if(c&&g!==null&&(f=g[r])){let p=f.length;if(p)for(let y=0;y<p;y+=2){let v=f[y],A=f[y+1],w=e[v][A].subscribe(s),D=l.length;l.push(s,w),d&&d.push(r,n.index,D,-(D+1))}}}function lh(t,e,i,n){let r=Oe(null);try{return rn(6,e,i),i(n)!==!1}catch(s){return ap(t,s),!1}finally{rn(7,e,i),Oe(r)}}function ch(t,e,i,n){return function r(s){if(s===Function)return n;let o=t.componentOffset>-1?Vn(t.index,e):e;Tc(o,5);let a=lh(e,i,n,s),h=r.__ngNextListenerFn__;for(;h;)a=lh(e,i,h,s)&&a,h=h.__ngNextListenerFn__;return a}}function To(t,e,i){L0(t,e,i)}function Lr(t){let e=qe(),i=En(),n=sf();dc(n+1);let r=Oc(i,n);if(t.dirty&&Qv(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=B0(e,n);t.reset(s,Uy),t.notifyOnChanges()}return!0}return!1}function Fr(){return N0(qe(),sf())}function e_(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function je(t,e=""){let i=qe(),n=En(),r=t+yn,s=n.firstCreatePass?Dc(n,r,1,e,null):n.data[r],o=t_(n,i,s,e,t);i[r]=o,hf()&&Wf(n,i,o,s),So(s,!1)}var t_=(t,e,i,n,r)=>(ff(!0),Jy(e[Et],n));function Po(t){return Ro("",t,""),Po}function Ro(t,e,i){let n=qe(),r=$0(n,t,e,i);return r!==kr&&Wb(n,pc(),r),Ro}var n_=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=kh(!1,n.type),s=r.length>0?Nc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=fe({token:e,providedIn:"environment",factory:()=>new e(be(wt))});let t=e;return t})();function Vt(t){xo("NgStandalone"),t.getStandaloneInjector=e=>e.get(n_).getOrCreateStandaloneInjector(t)}function zn(t,e,i,n){return i_(qe(),nf(),t,e,i,n)}function wp(t,e){let i=t[e];return i===kr?void 0:i}function i_(t,e,i,n,r,s){let o=e+i;return xr(t,o,r)?_p(t,o+1,s?n.call(s,r):n(r)):wp(t,o+1)}function r_(t,e,i,n,r,s,o){let a=e+i;return V0(t,a,r,s)?_p(t,a+2,o?n.call(o,r,s):n(r,s)):wp(t,a+2)}function Ep(t,e){let i=En(),n,r=t+yn;i.firstCreatePass?(n=s_(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let s=n.factory||(n.factory=oi(n.type,!0)),o,a=_t(ut);try{let h=oo(!1),d=s();return oo(h),e_(i,qe(),r,d),d}finally{_t(a)}}function s_(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function Cp(t,e,i,n){let r=t+yn,s=qe(),o=Kv(s,r);return o_(s,r)?r_(s,nf(),e,o.transform,i,n,o):o.transform(i,n)}function o_(t,e){return t[Ce].data[e].pure}var Oo=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ap=new me("");function jr(t){return!!t&&typeof t.then=="function"}function Sp(t){return!!t&&typeof t.subscribe=="function"}var Dp=new me(""),Ip=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ae(Dp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(jr(o))n.push(o);else if(Sp(o)){let a=new Promise((h,d)=>{o.subscribe({complete:h,error:d})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),No=new me("");function a_(){Zu(()=>{throw new pe(600,!1)})}function l_(t){return t.isBoundToModule}var c_=10;function u_(t,e,i){try{let n=i();return jr(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var Wn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ae(By),this.afterRenderManager=ae(H0),this.zonelessEnabled=ae(Rc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new lt,this.afterTick=new lt,this.componentTypes=[],this.components=[],this.isStable=ae(Un).hasPendingTasks.pipe(Ee(n=>!n)),this._injector=ae(wt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof ho;if(!this._injector.get(Ip).done){let g=!s&&Ph(n),f=!1;throw new pe(405,f)}let a;s?a=n:a=this._injector.get(Wi).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let h=l_(a)?void 0:this._injector.get(Bn),d=r||a.selector,u=a.create(hi.NULL,[],d,h),l=u.location.nativeElement,c=u.injector.get(Ap,null);return c?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Ys(this.components,u),c?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new pe(101,!1);let n=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Oe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Gi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<c_;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)d_(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Co(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ys(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(No,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ys(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new pe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ys(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function d_(t,e,i,n){if(!i&&!Co(t))return;up(t,e,i&&!n?0:1)}var Jl=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},kc=(()=>{let e=class e{compileModuleSync(n){return new Zl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=Rh(n),o=jf(s.declarations).reduce((a,h)=>{let d=ai(h);return d&&a.push(new Ir(d)),a},[]);return new Jl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var h_=(()=>{let e=class e{constructor(){this.zone=ae(Ge),this.changeDetectionScheduler=ae(zi),this.applicationRef=ae(Wn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f_=new me("",{factory:()=>!1});function Mp({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:i}){return t??=()=>new Ge(Fe(ue({},Tp()),{scheduleInRootZone:i})),[{provide:Ge,useFactory:t},{provide:Bi,multi:!0,useFactory:()=>{let n=ae(h_,{optional:!0});return()=>n.initialize()}},{provide:Bi,multi:!0,useFactory:()=>{let n=ae(p_);return()=>{n.initialize()}}},e===!0?{provide:pp,useValue:!0}:[],{provide:gp,useValue:i??If}]}function xp(t){let e=t?.ignoreChangesOutsideZone,i=t?.scheduleInRootZone,n=Mp({ngZoneFactory:()=>{let r=Tp(t);return r.scheduleInRootZone=i,r.shouldCoalesceEventChangeDetection&&xo("NgZone_CoalesceEvent"),new Ge(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:i});return qi([{provide:f_,useValue:!0},{provide:Rc,useValue:!1},n])}function Tp(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var p_=(()=>{let e=class e{constructor(){this.subscription=new Xe,this.initialized=!1,this.zone=ae(Ge),this.pendingTasks=ae(Un)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var g_=(()=>{let e=class e{constructor(){this.appRef=ae(Wn),this.taskService=ae(Un),this.ngZone=ae(Ge),this.zonelessEnabled=ae(Rc),this.disableScheduling=ae(pp,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Xe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lo):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ae(gp,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Gd:xf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m_(){return typeof $localize<"u"&&$localize.locale||go}var ko=new me("",{providedIn:"root",factory:()=>ae(ko,Se.Optional|Se.SkipSelf)||m_()});var Pp=new me("");function $s(t){return!!t.platformInjector}function v_(t){let e=$s(t)?t.r3Injector:t.moduleRef.injector,i=e.get(Ge);return i.run(()=>{$s(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let n=e.get(bn,null),r;if(i.runOutsideAngular(()=>{r=i.onError.subscribe({next:s=>{n.handleError(s)}})}),$s(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Pp);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Ys(t.allPlatformModules,t.moduleRef),r.unsubscribe()});return u_(n,i,()=>{let s=e.get(Ip);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(ko,go);if(K0(o||go),$s(t)){let a=e.get(Wn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return y_(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function y_(t,e){let i=t.injector.get(Wn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(n=>i.bootstrap(n));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(i);else throw new pe(-403,!1);e.push(t)}var Xs=null;function b_(t=[],e){return hi.create({name:e,providers:[{provide:_o,useValue:"platform"},{provide:Pp,useValue:new Set([()=>Xs=null])},...t]})}function __(t=[]){if(Xs)return Xs;let e=b_(t);return Xs=e,a_(),w_(e),e}function w_(t){t.get(_c,null)?.forEach(i=>i())}var Br=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=E_;let t=e;return t})();function E_(t){return C_(jt(),qe(),(t&16)===16)}function C_(t,e,i){if(Eo(t)&&!i){let n=Vn(t.index,e);return new fi(n,n)}else if(t.type&175){let n=e[an];return new fi(n,e)}return null}var ec=class{constructor(){}supports(e){return e instanceof Map||bp(e)}create(){return new tc}},tc=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let i;for(i=this._mapHead;i!==null;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||bp(e)))throw new pe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){let n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,i);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new nc(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}},nc=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function uh(){return new Lc([new ec])}var Lc=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||uh()),deps:[[e,new Eh,new rc]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new pe(901,!1)}};e.\u0275prov=fe({token:e,providedIn:"root",factory:uh});let t=e;return t})();function Rp(t){try{let{rootComponent:e,appProviders:i,platformProviders:n}=t,r=__(n),s=[Mp({}),{provide:zi,useExisting:g_},...i||[]],o=new po({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return v_({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var Op=new me("");var jp=null;function Zi(){return jp}function Bp(t){jp??=t}var zo=class{};var yt=new me(""),Vp=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>ae(x_),providedIn:"platform"});let t=e;return t})();var x_=(()=>{let e=class e extends Vp{constructor(){super(),this._doc=ae(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zi().getBaseHref(this._doc)}onPopState(n){let r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Up(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function Np(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function mi(t){return t&&t[0]!=="?"?"?"+t:t}var Go=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>ae(Hp),providedIn:"root"});let t=e;return t})(),T_=new me(""),Hp=(()=>{let e=class e extends Go{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ae(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Up(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+mi(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+mi(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+mi(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(be(Vp),be(T_,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vr=(()=>{let e=class e{constructor(n){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=O_(Np(kp(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mi(r))}normalize(n){return e.stripTrailingSlash(R_(this._basePath,kp(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};e.normalizeQueryParams=mi,e.joinWithSlash=Up,e.stripTrailingSlash=Np,e.\u0275fac=function(r){return new(r||e)(be(Go))},e.\u0275prov=fe({token:e,factory:()=>P_(),providedIn:"root"});let t=e;return t})();function P_(){return new Vr(be(Go))}function R_(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function kp(t){return t.replace(/\/index.html$/,"")}function O_(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}var vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(vt||{}),Ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ve||{}),Pt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Pt||{}),Gn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function N_(t){return Bt(t)[Ze.LocaleId]}function k_(t,e,i){let n=Bt(t),r=[n[Ze.DayPeriodsFormat],n[Ze.DayPeriodsStandalone]],s=Ut(r,e);return Ut(s,i)}function L_(t,e,i){let n=Bt(t),r=[n[Ze.DaysFormat],n[Ze.DaysStandalone]],s=Ut(r,e);return Ut(s,i)}function F_(t,e,i){let n=Bt(t),r=[n[Ze.MonthsFormat],n[Ze.MonthsStandalone]],s=Ut(r,e);return Ut(s,i)}function j_(t,e){let n=Bt(t)[Ze.Eras];return Ut(n,e)}function Lo(t,e){let i=Bt(t);return Ut(i[Ze.DateFormat],e)}function Fo(t,e){let i=Bt(t);return Ut(i[Ze.TimeFormat],e)}function jo(t,e){let n=Bt(t)[Ze.DateTimeFormat];return Ut(n,e)}function qo(t,e){let i=Bt(t),n=i[Ze.NumberSymbols][e];if(typeof n>"u"){if(e===Gn.CurrencyDecimal)return i[Ze.NumberSymbols][Gn.Decimal];if(e===Gn.CurrencyGroup)return i[Ze.NumberSymbols][Gn.Group]}return n}function $p(t){if(!t[Ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function B_(t){let e=Bt(t);return $p(e),(e[Ze.ExtraData][2]||[]).map(n=>typeof n=="string"?jc(n):[jc(n[0]),jc(n[1])])}function V_(t,e,i){let n=Bt(t);$p(n);let r=[n[Ze.ExtraData][0],n[Ze.ExtraData][1]],s=Ut(r,e)||[];return Ut(s,i)||[]}function Ut(t,e){for(let i=e;i>-1;i--)if(typeof t[i]<"u")return t[i];throw new Error("Locale data API: locale data undefined")}function jc(t){let[e,i]=t.split(":");return{hours:+e,minutes:+i}}var U_=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bo={},H_=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,An=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(An||{}),ke=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ke||{}),Ne=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ne||{});function $_(t,e,i,n){let r=Z_(t);e=Cn(i,e)||e;let o=[],a;for(;e;)if(a=H_.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let h=r.getTimezoneOffset();n&&(h=Wp(n,h),r=Q_(r,n,!0));let d="";return o.forEach(u=>{let l=X_(u);d+=l?l(r,i,h):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Wo(t,e,i){let n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function Cn(t,e){let i=N_(t);if(Bo[i]??={},Bo[i][e])return Bo[i][e];let n="";switch(e){case"shortDate":n=Lo(t,Pt.Short);break;case"mediumDate":n=Lo(t,Pt.Medium);break;case"longDate":n=Lo(t,Pt.Long);break;case"fullDate":n=Lo(t,Pt.Full);break;case"shortTime":n=Fo(t,Pt.Short);break;case"mediumTime":n=Fo(t,Pt.Medium);break;case"longTime":n=Fo(t,Pt.Long);break;case"fullTime":n=Fo(t,Pt.Full);break;case"short":let r=Cn(t,"shortTime"),s=Cn(t,"shortDate");n=Vo(jo(t,Pt.Short),[r,s]);break;case"medium":let o=Cn(t,"mediumTime"),a=Cn(t,"mediumDate");n=Vo(jo(t,Pt.Medium),[o,a]);break;case"long":let h=Cn(t,"longTime"),d=Cn(t,"longDate");n=Vo(jo(t,Pt.Long),[h,d]);break;case"full":let u=Cn(t,"fullTime"),l=Cn(t,"fullDate");n=Vo(jo(t,Pt.Full),[u,l]);break}return n&&(Bo[i][e]=n),n}function Vo(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,n){return e!=null&&n in e?e[n]:i})),t}function Zt(t,e,i="-",n,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=i));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.slice(o.length-e)),s+o}function z_(t,e){return Zt(t,3).substring(0,e)}function tt(t,e,i=0,n=!1,r=!1){return function(s,o){let a=W_(t,s);if((i>0||a>-i)&&(a+=i),t===ke.Hours)a===0&&i===-12&&(a=12);else if(t===ke.FractionalSeconds)return z_(a,e);let h=qo(o,Gn.MinusSign);return Zt(a,e,h,n,r)}}function W_(t,e){switch(t){case ke.FullYear:return e.getFullYear();case ke.Month:return e.getMonth();case ke.Date:return e.getDate();case ke.Hours:return e.getHours();case ke.Minutes:return e.getMinutes();case ke.Seconds:return e.getSeconds();case ke.FractionalSeconds:return e.getMilliseconds();case ke.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function $e(t,e,i=vt.Format,n=!1){return function(r,s){return G_(r,s,t,e,i,n)}}function G_(t,e,i,n,r,s){switch(i){case Ne.Months:return F_(e,r,n)[t.getMonth()];case Ne.Days:return L_(e,r,n)[t.getDay()];case Ne.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let d=B_(e),u=V_(e,r,n),l=d.findIndex(c=>{if(Array.isArray(c)){let[g,f]=c,p=o>=g.hours&&a>=g.minutes,y=o<f.hours||o===f.hours&&a<f.minutes;if(g.hours<f.hours){if(p&&y)return!0}else if(p||y)return!0}else if(c.hours===o&&c.minutes===a)return!0;return!1});if(l!==-1)return u[l]}return k_(e,r,n)[o<12?0:1];case Ne.Eras:return j_(e,n)[t.getFullYear()<=0?0:1];default:let h=i;throw new Error(`unexpected translation type ${h}`)}}function Uo(t){return function(e,i,n){let r=-1*n,s=qo(i,Gn.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case An.Short:return(r>=0?"+":"")+Zt(o,2,s)+Zt(Math.abs(r%60),2,s);case An.ShortGMT:return"GMT"+(r>=0?"+":"")+Zt(o,1,s);case An.Long:return"GMT"+(r>=0?"+":"")+Zt(o,2,s)+":"+Zt(Math.abs(r%60),2,s);case An.Extended:return n===0?"Z":(r>=0?"+":"")+Zt(o,2,s)+":"+Zt(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var q_=0,$o=4;function Y_(t){let e=Wo(t,q_,1).getDay();return Wo(t,0,1+(e<=$o?$o:$o+7)-e)}function zp(t){let e=t.getDay(),i=e===0?-3:$o-e;return Wo(t.getFullYear(),t.getMonth(),t.getDate()+i)}function Bc(t,e=!1){return function(i,n){let r;if(e){let s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{let s=zp(i),o=Y_(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Zt(r,t,qo(n,Gn.MinusSign))}}function Ho(t,e=!1){return function(i,n){let s=zp(i).getFullYear();return Zt(s,t,qo(n,Gn.MinusSign),e)}}var Vc={};function X_(t){if(Vc[t])return Vc[t];let e;switch(t){case"G":case"GG":case"GGG":e=$e(Ne.Eras,Ve.Abbreviated);break;case"GGGG":e=$e(Ne.Eras,Ve.Wide);break;case"GGGGG":e=$e(Ne.Eras,Ve.Narrow);break;case"y":e=tt(ke.FullYear,1,0,!1,!0);break;case"yy":e=tt(ke.FullYear,2,0,!0,!0);break;case"yyy":e=tt(ke.FullYear,3,0,!1,!0);break;case"yyyy":e=tt(ke.FullYear,4,0,!1,!0);break;case"Y":e=Ho(1);break;case"YY":e=Ho(2,!0);break;case"YYY":e=Ho(3);break;case"YYYY":e=Ho(4);break;case"M":case"L":e=tt(ke.Month,1,1);break;case"MM":case"LL":e=tt(ke.Month,2,1);break;case"MMM":e=$e(Ne.Months,Ve.Abbreviated);break;case"MMMM":e=$e(Ne.Months,Ve.Wide);break;case"MMMMM":e=$e(Ne.Months,Ve.Narrow);break;case"LLL":e=$e(Ne.Months,Ve.Abbreviated,vt.Standalone);break;case"LLLL":e=$e(Ne.Months,Ve.Wide,vt.Standalone);break;case"LLLLL":e=$e(Ne.Months,Ve.Narrow,vt.Standalone);break;case"w":e=Bc(1);break;case"ww":e=Bc(2);break;case"W":e=Bc(1,!0);break;case"d":e=tt(ke.Date,1);break;case"dd":e=tt(ke.Date,2);break;case"c":case"cc":e=tt(ke.Day,1);break;case"ccc":e=$e(Ne.Days,Ve.Abbreviated,vt.Standalone);break;case"cccc":e=$e(Ne.Days,Ve.Wide,vt.Standalone);break;case"ccccc":e=$e(Ne.Days,Ve.Narrow,vt.Standalone);break;case"cccccc":e=$e(Ne.Days,Ve.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=$e(Ne.Days,Ve.Abbreviated);break;case"EEEE":e=$e(Ne.Days,Ve.Wide);break;case"EEEEE":e=$e(Ne.Days,Ve.Narrow);break;case"EEEEEE":e=$e(Ne.Days,Ve.Short);break;case"a":case"aa":case"aaa":e=$e(Ne.DayPeriods,Ve.Abbreviated);break;case"aaaa":e=$e(Ne.DayPeriods,Ve.Wide);break;case"aaaaa":e=$e(Ne.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":e=$e(Ne.DayPeriods,Ve.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=$e(Ne.DayPeriods,Ve.Wide,vt.Standalone,!0);break;case"bbbbb":e=$e(Ne.DayPeriods,Ve.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=$e(Ne.DayPeriods,Ve.Abbreviated,vt.Format,!0);break;case"BBBB":e=$e(Ne.DayPeriods,Ve.Wide,vt.Format,!0);break;case"BBBBB":e=$e(Ne.DayPeriods,Ve.Narrow,vt.Format,!0);break;case"h":e=tt(ke.Hours,1,-12);break;case"hh":e=tt(ke.Hours,2,-12);break;case"H":e=tt(ke.Hours,1);break;case"HH":e=tt(ke.Hours,2);break;case"m":e=tt(ke.Minutes,1);break;case"mm":e=tt(ke.Minutes,2);break;case"s":e=tt(ke.Seconds,1);break;case"ss":e=tt(ke.Seconds,2);break;case"S":e=tt(ke.FractionalSeconds,1);break;case"SS":e=tt(ke.FractionalSeconds,2);break;case"SSS":e=tt(ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Uo(An.Short);break;case"ZZZZZ":e=Uo(An.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Uo(An.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Uo(An.Long);break;default:return null}return Vc[t]=e,e}function Wp(t,e){t=t.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function K_(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Q_(t,e,i){let n=i?-1:1,r=t.getTimezoneOffset(),s=Wp(e,r);return K_(t,n*(s-r))}function Z_(t){if(Lp(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return Wo(r,s-1,o)}let i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let n;if(n=t.match(U_))return J_(n)}let e=new Date(t);if(!Lp(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function J_(t){let e=new Date(0),i=0,n=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-i,a=Number(t[5]||0)-n,h=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,h,d),e}function Lp(t){return t instanceof Date&&!isNaN(t.valueOf())}function Yo(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var er=(()=>{let e=class e{constructor(n,r,s){this._ngEl=n,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[s,o]=n.split("."),a=s.indexOf("-")===-1?void 0:$n.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(ut(cn),ut(Lc),ut(Mo))},e.\u0275dir=bo({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function ew(t,e){return new pe(2100,!1)}var tw="mediumDate",nw=new me(""),iw=new me(""),Gp=(()=>{let e=class e{constructor(n,r,s){this.locale=n,this.defaultTimezone=r,this.defaultOptions=s}transform(n,r,s,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??tw,h=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return $_(n,a,o||this.locale,h)}catch(a){throw ew(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(ut(ko,16),ut(nw,24),ut(iw,24))},e.\u0275pipe=Mh({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var vi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=gi({type:e}),e.\u0275inj=pi({});let t=e;return t})(),qp="browser",rw="server";function Xo(t){return t===rw}var Ji=class{};var Hr=class{},Zo=class{},Jt=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Hc=class{encodeKey(e){return Yp(e)}encodeValue(e){return Yp(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function sw(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],h=i.get(o)||[];h.push(a),i.set(o,h)}),i}var ow=/%(\d[a-f0-9])/gi,aw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Yp(t){return encodeURIComponent(t).replace(ow,(e,i)=>aw[i]??e)}function Qo(t){return`${t}`}var Yn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hc,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=sw(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(Qo):[Qo(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Qo(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(Qo(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $c=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function lw(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xp(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Kp(t){return typeof Blob<"u"&&t instanceof Blob}function Qp(t){return typeof FormData<"u"&&t instanceof FormData}function cw(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ur=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(lw(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Jt,this.context??=new $c,!this.params)this.params=new Yn,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),h=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+h+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Xp(this.body)||Kp(this.body)||Qp(this.body)||cw(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Qp(this.body)?null:Kp(this.body)?this.body.type||null:Xp(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,h=e.reportProgress??this.reportProgress,d=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((c,g)=>c.set(g,e.setHeaders[g]),d)),e.setParams&&(u=Object.keys(e.setParams).reduce((c,g)=>c.set(g,e.setParams[g]),u)),new t(i,n,o,{params:u,headers:d,context:l,reportProgress:h,responseType:r,withCredentials:a,transferCache:s})}},Xn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Xn||{}),$r=class{constructor(e,i=200,n="OK"){this.headers=e.headers||new Jt,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Jo=class t extends $r{constructor(e={}){super(e),this.type=Xn.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zr=class t extends $r{constructor(e={}){super(e),this.type=Xn.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qn=class extends $r{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},tg=200,uw=204;function Uc(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Gc=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof Ur)o=n;else{let d;s.headers instanceof Jt?d=s.headers:d=new Jt(s.headers);let u;s.params&&(s.params instanceof Yn?u=s.params:u=new Yn({fromObject:s.params})),o=new Ur(n,r,s.body!==void 0?s.body:null,{headers:d,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=_e(o).pipe(On(d=>this.handler.handle(d)));if(n instanceof Ur||s.observe==="events")return a;let h=a.pipe(mt(d=>d instanceof zr));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe(Ee(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return h.pipe(Ee(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return h.pipe(Ee(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return h.pipe(Ee(d=>d.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Yn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,Uc(s,r))}post(n,r,s={}){return this.request("POST",n,Uc(s,r))}put(n,r,s={}){return this.request("PUT",n,Uc(s,r))}};e.\u0275fac=function(r){return new(r||e)(be(Hr))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),dw=/^\)\]\}',?\n/,hw="X-Request-URL";function Zp(t){if(t.url)return t.url;let e=hw.toLocaleLowerCase();return t.headers.get(e)}var fw=(()=>{let e=class e{constructor(){this.fetchImpl=ae(zc,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=ae(Ge)}handle(n){return new xe(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(Wc,o=>r.error(new qn({error:o}))),()=>s.abort()})}doRequest(n,r,s){return oe(this,null,function*(){let o=this.createRequestInit(n),a;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,ue({signal:r},o)));pw(f),s.next({type:Xn.Sent}),a=yield f}catch(f){s.error(new qn({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let h=new Jt(a.headers),d=a.statusText,u=Zp(a)??n.urlWithParams,l=a.status,c=null;if(n.reportProgress&&s.next(new Jo({headers:h,status:l,statusText:d,url:u})),a.body){let f=a.headers.get("content-length"),p=[],y=a.body.getReader(),v=0,A,m,b=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>oe(this,null,function*(){for(;;){let{done:D,value:I}=yield y.read();if(D)break;if(p.push(I),v+=I.length,n.reportProgress){m=n.responseType==="text"?(m??"")+(A??=new TextDecoder).decode(I,{stream:!0}):void 0;let R=()=>s.next({type:Xn.DownloadProgress,total:f?+f:void 0,loaded:v,partialText:m});b?b.run(R):R()}}}));let w=this.concatChunks(p,v);try{let D=a.headers.get("Content-Type")??"";c=this.parseBody(n,w,D)}catch(D){s.error(new qn({error:D,headers:new Jt(a.headers),status:a.status,statusText:a.statusText,url:Zp(a)??n.urlWithParams}));return}}l===0&&(l=c?tg:0),l>=200&&l<300?(s.next(new zr({body:c,headers:h,status:l,statusText:d,url:u})),s.complete()):s.error(new qn({error:c,headers:h,status:l,statusText:d,url:u}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(dw,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),zc=class{};function Wc(){}function pw(t){t.then(Wc,Wc)}function gw(t,e){return e(t)}function mw(t,e,i){return(n,r)=>qt(i,()=>e(n,s=>t(s,r)))}var ng=new me(""),vw=new me(""),yw=new me("",{providedIn:"root",factory:()=>!0});var Jp=(()=>{let e=class e extends Hr{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ae(Un),this.contributeToStability=ae(yw)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ng),...this.injector.get(vw,[])]));this.chain=r.reduceRight((s,o)=>mw(s,o,this.injector),gw)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(ti(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(be(Zo),be(wt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();var bw=/^\)\]\}',?\n/;function _w(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var eg=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new pe(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ze(r.\u0275loadImpl()):_e(null)).pipe(It(()=>new xe(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((y,v)=>a.setRequestHeader(y,v.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let y=n.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(n.responseType){let y=n.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let h=n.serializeBody(),d=null,u=()=>{if(d!==null)return d;let y=a.statusText||"OK",v=new Jt(a.getAllResponseHeaders()),A=_w(a)||n.url;return d=new Jo({headers:v,status:a.status,statusText:y,url:A}),d},l=()=>{let{headers:y,status:v,statusText:A,url:m}=u(),b=null;v!==uw&&(b=typeof a.response>"u"?a.responseText:a.response),v===0&&(v=b?tg:0);let w=v>=200&&v<300;if(n.responseType==="json"&&typeof b=="string"){let D=b;b=b.replace(bw,"");try{b=b!==""?JSON.parse(b):null}catch(I){b=D,w&&(w=!1,b={error:I,text:b})}}w?(o.next(new zr({body:b,headers:y,status:v,statusText:A,url:m||void 0})),o.complete()):o.error(new qn({error:b,headers:y,status:v,statusText:A,url:m||void 0}))},c=y=>{let{url:v}=u(),A=new qn({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:v||void 0});o.error(A)},g=!1,f=y=>{g||(o.next(u()),g=!0);let v={type:Xn.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),n.responseType==="text"&&a.responseText&&(v.partialText=a.responseText),o.next(v)},p=y=>{let v={type:Xn.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),o.next(v)};return a.addEventListener("load",l),a.addEventListener("error",c),a.addEventListener("timeout",c),a.addEventListener("abort",c),n.reportProgress&&(a.addEventListener("progress",f),h!==null&&a.upload&&a.upload.addEventListener("progress",p)),a.send(h),o.next({type:Xn.Sent}),()=>{a.removeEventListener("error",c),a.removeEventListener("abort",c),a.removeEventListener("load",l),a.removeEventListener("timeout",c),n.reportProgress&&(a.removeEventListener("progress",f),h!==null&&a.upload&&a.upload.removeEventListener("progress",p)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(be(Ji))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),ig=new me(""),ww="XSRF-TOKEN",Ew=new me("",{providedIn:"root",factory:()=>ww}),Cw="X-XSRF-TOKEN",Aw=new me("",{providedIn:"root",factory:()=>Cw}),ea=class{},Sw=(()=>{let e=class e{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yo(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(be(yt),be(Hn),be(Ew))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();function Dw(t,e){let i=t.url.toLowerCase();if(!ae(ig)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=ae(ea).getToken(),r=ae(Aw);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function rg(...t){let e=[Gc,eg,Jp,{provide:Hr,useExisting:Jp},{provide:Zo,useFactory:()=>ae(fw,{optional:!0})??ae(eg)},{provide:ng,useValue:Dw,multi:!0},{provide:ig,useValue:!0},{provide:ea,useClass:Sw}];for(let i of t)e.push(...i.\u0275providers);return qi(e)}var Xc=class extends zo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kc=class t extends Xc{static makeCurrent(){Bp(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.remove()}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=Mw();return i==null?null:xw(i)}resetBaseElement(){Wr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yo(document.cookie,e)}},Wr=null;function Mw(){return Wr=Wr||document.querySelector("base"),Wr?Wr.getAttribute("href"):null}function xw(t){return new URL(t,document.baseURI).pathname}var Tw=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),ta=new me(""),lg=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(be(ta),be(Ge))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),Gr=class{constructor(e){this._doc=e}},qc="ng-app-id",cg=(()=>{let e=class e{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xo(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${qc}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(qc),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(qc,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(be(yt),be(bc),be(wc,8),be(Hn))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),Yc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zc=/%COMP%/g,ug="%COMP%",Pw=`_nghost-${ug}`,Rw=`_ngcontent-${ug}`,Ow=!0,Nw=new me("",{providedIn:"root",factory:()=>Ow});function kw(t){return Rw.replace(Zc,t)}function Lw(t){return Pw.replace(Zc,t)}function dg(t,e){return e.map(i=>i.replace(Zc,t))}var sg=(()=>{let e=class e{constructor(n,r,s,o,a,h,d,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=h,this.ngZone=d,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Xo(h),this.defaultRenderer=new qr(n,a,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===on.ShadowDom&&(r=Fe(ue({},r),{encapsulation:on.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof na?s.applyToHost(n):s instanceof Yr&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,h=this.ngZone,d=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,c=this.platformIsServer;switch(r.encapsulation){case on.Emulated:o=new na(d,u,r,this.appId,l,a,h,c);break;case on.ShadowDom:return new Qc(d,u,n,r,a,h,this.nonce,c);default:o=new Yr(d,u,r,l,a,h,c);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(be(lg),be(cg),be(bc),be(Nw),be(yt),be(Hn),be(Ge),be(wc))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),qr=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Yc[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(og(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(og(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){i.remove()}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new pe(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let s=Yc[r];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=Yc[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&($n.DashCase|$n.Important)?e.style.setProperty(i,n,r&$n.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&$n.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Zi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function og(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qc=class extends qr{constructor(e,i,n,r,s,o,a,h){super(e,s,o,h),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=dg(r.id,r.styles);for(let u of d){let l=document.createElement("style");a&&l.setAttribute("nonce",a),l.textContent=u,this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(null,i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yr=class extends qr{constructor(e,i,n,r,s,o,a,h){super(e,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=h?dg(h,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},na=class extends Yr{constructor(e,i,n,r,s,o,a,h){let d=r+"-"+n.id;super(e,i,n,s,o,a,h,d),this.contentAttr=kw(d),this.hostAttr=Lw(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},Fw=(()=>{let e=class e extends Gr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(be(yt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),jw=(()=>{let e=class e extends Gr{constructor(n){super(n),this.delegate=ae(Op,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,s){return this.delegate.addEventListener(n,r,s)}removeEventListener(n,r,s){return this.delegate.removeEventListener(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(be(yt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})(),ag=["alt","control","meta","shift"],Bw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Uw=(()=>{let e=class e extends Gr{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),a="code."),ag.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let d={};return d.domEventName=s,d.fullKey=a,d}static matchEventFullKeyCode(n,r){let s=Bw[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ag.forEach(a=>{if(a!==s){let h=Vw[a];h(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(be(yt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac});let t=e;return t})();function hg(t,e){return Rp(ue({rootComponent:t},Hw(e)))}function Hw(t){return{appProviders:[...qw,...t?.providers??[]],platformProviders:Gw}}function $w(){Kc.makeCurrent()}function zw(){return new bn}function Ww(){return Lf(document),document}var Gw=[{provide:Hn,useValue:qp},{provide:_c,useValue:$w,multi:!0},{provide:yt,useFactory:Ww,deps:[]}];var qw=[{provide:_o,useValue:"root"},{provide:bn,useFactory:zw,deps:[]},{provide:ta,useClass:Fw,multi:!0,deps:[yt,Ge,Hn]},{provide:ta,useClass:Uw,multi:!0,deps:[yt]},{provide:ta,useClass:jw,multi:!0},sg,cg,lg,{provide:Gi,useExisting:sg},{provide:Ji,useClass:Tw,deps:[]},[]];var fg=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(be(yt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var we="primary",ds=Symbol("RouteTitle"),iu=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function or(t){return new iu(t)}function Xw(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function Kw(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!un(t[i],e[i]))return!1;return!0}function un(t,e){let i=t?ru(t):void 0,n=e?ru(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!wg(t[r],e[r]))return!1;return!0}function ru(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function wg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function Eg(t){return t.length>0?t[t.length-1]:null}function Kn(t){return Za(t)?t:jr(t)?ze(Promise.resolve(t)):_e(t)}var Qw={exact:Ag,subset:Sg},Cg={exact:Zw,subset:Jw,ignored:()=>!0};function pg(t,e,i){return Qw[i.paths](t.root,e.root,i.matrixParams)&&Cg[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function Zw(t,e){return un(t,e)}function Ag(t,e,i){if(!bi(t.segments,e.segments)||!sa(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!Ag(t.children[n],e.children[n],i))return!1;return!0}function Jw(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>wg(t[i],e[i]))}function Sg(t,e,i){return Dg(t,e,e.segments,i)}function Dg(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!bi(r,i)||e.hasChildren()||!sa(r,i,n))}else if(t.segments.length===i.length){if(!bi(t.segments,i)||!sa(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!Sg(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!bi(t.segments,r)||!sa(t.segments,r,n)||!t.children[we]?!1:Dg(t.children[we],e,s,n)}}function sa(t,e,i){return e.every((n,r)=>Cg[i](t[r].parameters,n.parameters))}var Dn=class{constructor(e=new Le([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){return nE.serialize(this)}},Le=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oa(this)}},yi=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=or(this.parameters),this._parameterMap}toString(){return Mg(this)}};function eE(t,e){return bi(t,e)&&t.every((i,n)=>un(i.parameters,e[n].parameters))}function bi(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function tE(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===we&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==we&&(i=i.concat(e(r,n)))}),i}var Tu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>new ts,providedIn:"root"});let t=e;return t})(),ts=class{parse(e){let i=new ou(e);return new Dn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Xr(e.root,!0)}`,n=sE(e.queryParams),r=typeof e.fragment=="string"?`#${iE(e.fragment)}`:"";return`${i}${n}${r}`}},nE=new ts;function oa(t){return t.segments.map(e=>Mg(e)).join("/")}function Xr(t,e){if(!t.hasChildren())return oa(t);if(e){let i=t.children[we]?Xr(t.children[we],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==we&&n.push(`${r}:${Xr(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=tE(t,(n,r)=>r===we?[Xr(t.children[we],!1)]:[`${r}:${Xr(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[we]!=null?`${oa(t)}/${i[0]}`:`${oa(t)}/(${i.join("//")})`}}function Ig(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ia(t){return Ig(t).replace(/%3B/gi,";")}function iE(t){return encodeURI(t)}function su(t){return Ig(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function aa(t){return decodeURIComponent(t)}function gg(t){return aa(t.replace(/\+/g,"%20"))}function Mg(t){return`${su(t.path)}${rE(t.parameters)}`}function rE(t){return Object.entries(t).map(([e,i])=>`;${su(e)}=${su(i)}`).join("")}function sE(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${ia(i)}=${ia(r)}`).join("&"):`${ia(i)}=${ia(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var oE=/^[^\/()?;#]+/;function Jc(t){let e=t.match(oE);return e?e[0]:""}var aE=/^[^\/()?;=#]+/;function lE(t){let e=t.match(aE);return e?e[0]:""}var cE=/^[^=?&#]+/;function uE(t){let e=t.match(cE);return e?e[0]:""}var dE=/^[^&#]+/;function hE(t){let e=t.match(dE);return e?e[0]:""}var ou=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[we]=new Le(e,i)),n}parseSegment(){let e=Jc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(e),new yi(aa(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=lE(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Jc(this.remaining);r&&(n=r,this.capture(n))}e[aa(i)]=aa(n)}parseQueryParam(e){let i=uE(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=hE(this.remaining);o&&(n=o,this.capture(n))}let r=gg(i),s=gg(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Jc(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new pe(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=we);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[we]:new Le([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new pe(4011,!1)}};function xg(t){return t.segments.length>0?new Le([],{[we]:t}):t}function Tg(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=Tg(r);if(n===we&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new Le(t.segments,e);return fE(i)}function fE(t){if(t.numberOfChildren===1&&t.children[we]){let e=t.children[we];return new Le(t.segments.concat(e.segments),e.children)}return t}function ns(t){return t instanceof Dn}function pE(t,e,i=null,n=null){let r=Pg(t);return Rg(r,e,i,n)}function Pg(t){let e;function i(s){let o={};for(let h of s.children){let d=i(h);o[h.outlet]=d}let a=new Le(s.url,o);return s===t&&(e=a),a}let n=i(t.root),r=xg(n);return e??r}function Rg(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return eu(r,r,r,i,n);let s=gE(e);if(s.toRoot())return eu(r,r,new Le([],{}),i,n);let o=mE(s,r,t),a=o.processChildren?Zr(o.segmentGroup,o.index,s.commands):Ng(o.segmentGroup,o.index,s.commands);return eu(r,o.segmentGroup,a,i,n)}function la(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function is(t){return typeof t=="object"&&t!=null&&t.outlets}function eu(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([h,d])=>{s[h]=Array.isArray(d)?d.map(u=>`${u}`):`${d}`});let o;t===e?o=i:o=Og(t,e,i);let a=xg(Tg(o));return new Dn(a,s,r)}function Og(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=Og(s,e,i)}),new Le(t.segments,n)}var ca=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&la(n[0]))throw new pe(4003,!1);let r=n.find(is);if(r&&r!==Eg(n))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ca(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([h,d])=>{a[h]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,h)=>{h==0&&a==="."||(h==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new ca(i,e,n)}var ir=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function mE(t,e,i){if(t.isAbsolute)return new ir(e,!0,0);if(!i)return new ir(e,!1,NaN);if(i.parent===null)return new ir(i,!0,0);let n=la(t.commands[0])?0:1,r=i.segments.length-1+n;return vE(i,r,t.numberOfDoubleDots)}function vE(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new pe(4005,!1);r=n.segments.length}return new ir(n,!1,r-s)}function yE(t){return is(t[0])?t[0].outlets:{[we]:t}}function Ng(t,e,i){if(t??=new Le([],{}),t.segments.length===0&&t.hasChildren())return Zr(t,e,i);let n=bE(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new Le(t.segments.slice(0,n.pathIndex),{});return s.children[we]=new Le(t.segments.slice(n.pathIndex),t.children),Zr(s,0,r)}else return n.match&&r.length===0?new Le(t.segments,{}):n.match&&!t.hasChildren()?au(t,e,i):n.match?Zr(t,0,r):au(t,e,i)}function Zr(t,e,i){if(i.length===0)return new Le(t.segments,{});{let n=yE(i),r={};if(Object.keys(n).some(s=>s!==we)&&t.children[we]&&t.numberOfChildren===1&&t.children[we].segments.length===0){let s=Zr(t.children[we],e,i);return new Le(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Ng(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new Le(t.segments,r)}}function bE(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],a=i[n];if(is(a))break;let h=`${a}`,d=n<i.length-1?i[n+1]:null;if(r>0&&h===void 0)break;if(h&&d&&typeof d=="object"&&d.outlets===void 0){if(!vg(h,d,o))return s;n+=2}else{if(!vg(h,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function au(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(is(s)){let h=_E(s.outlets);return new Le(n,h)}if(r===0&&la(i[0])){let h=t.segments[e];n.push(new yi(h.path,mg(i[0]))),r++;continue}let o=is(s)?s.outlets[we]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&la(a)?(n.push(new yi(o,mg(a))),r+=2):(n.push(new yi(o,{})),r++)}return new Le(n,{})}function _E(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=au(new Le([],{}),0,n))}),e}function mg(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function vg(t,e,i){return t==i.path&&un(e,i.parameters)}var Jr="imperative",dt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(dt||{}),Ht=class{constructor(e,i){this.id=e,this.url=i}},rs=class extends Ht{constructor(e,i,n="imperative",r=null){super(e,i),this.type=dt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_i=class extends Ht{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ot||{}),lu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(lu||{}),Sn=class extends Ht{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wi=class extends Ht{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=dt.NavigationSkipped}},ss=class extends Ht{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ua=class extends Ht{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends Ht{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class extends Ht{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},du=class extends Ht{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hu=class extends Ht{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fu=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pu=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gu=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mu=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vu=class{constructor(e){this.snapshot=e,this.type=dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yu=class{constructor(e){this.snapshot=e,this.type=dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var os=class{},ar=class{constructor(e,i){this.url=e,this.navigationBehaviorOptions=i}};function wE(t,e){return t.providers&&!t._injector&&(t._injector=Nc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function en(t){return t.outlet||we}function EE(t,e){let i=t.filter(n=>en(n)===e);return i.push(...t.filter(n=>en(n)!==e)),i}function hs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var bu=class{get injector(){return hs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new va(this.rootInjector),this.attachRef=null}},va=(()=>{let e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)(be(wt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),da=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=_u(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=_u(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=wu(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return wu(e,this._root).map(i=>i.value)}};function _u(t,e){if(t===e.value)return e;for(let i of e.children){let n=_u(t,i);if(n)return n}return null}function wu(t,e){if(t===e.value)return[e];for(let i of e.children){let n=wu(t,i);if(n.length)return n.unshift(e),n}return[]}var Rt=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function nr(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var ha=class extends da{constructor(e,i){super(e),this.snapshot=i,Pu(this,e)}toString(){return this.snapshot.toString()}};function kg(t){let e=CE(t),i=new ct([new yi("",{})]),n=new ct({}),r=new ct({}),s=new ct({}),o=new ct(""),a=new lr(i,n,s,o,r,we,t,e.root);return a.snapshot=e.root,new ha(new Rt(a,[]),e)}function CE(t){let e={},i={},n={},r="",s=new rr([],e,n,r,i,we,t,null,{});return new pa("",new Rt(s,[]))}var lr=class{constructor(e,i,n,r,s,o,a,h){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(Ee(d=>d[ds]))??_e(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>or(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>or(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fa(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:ue(ue({},e.params),t.params),data:ue(ue({},e.data),t.data),resolve:ue(ue(ue(ue({},t.data),e.data),r?.data),t._resolvedData)}:n={params:ue({},t.params),data:ue({},t.data),resolve:ue(ue({},t.data),t._resolvedData??{})},r&&Fg(r)&&(n.resolve[ds]=r.title),n}var rr=class{get title(){return this.data?.[ds]}constructor(e,i,n,r,s,o,a,h,d){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=h,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=or(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},pa=class extends da{constructor(e,i){super(i),this.url=e,Pu(this,i)}toString(){return Lg(this._root)}};function Pu(t,e){e.value._routerState=t,e.children.forEach(i=>Pu(t,i))}function Lg(t){let e=t.children.length>0?` { ${t.children.map(Lg).join(", ")} } `:"";return`${t.value}${e}`}function tu(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,un(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),un(e.params,i.params)||t.paramsSubject.next(i.params),Kw(e.url,i.url)||t.urlSubject.next(i.url),un(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Eu(t,e){let i=un(t.params,e.params)&&eE(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||Eu(t.parent,e.parent))}function Fg(t){return typeof t.title=="string"||t.title===null}var Ru=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=ae(va),this.location=ae(Ki),this.changeDetector=ae(Br),this.inputBinder=ae(Ou,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,d=new Cu(n,h,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=bo({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yi]});let t=e;return t})(),Cu=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===lr?this.route:e===va?this.childContexts:this.parent.get(e,i)}},Ou=new me("");function AE(t,e,i){let n=as(t,e._root,i?i._root:void 0);return new ha(n,e)}function as(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=SE(t,e,i);return new Rt(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>as(t,a)),o}}let n=DE(e.value),r=e.children.map(s=>as(t,s));return new Rt(n,r)}}function SE(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return as(t,n,r);return as(t,n)})}function DE(t){return new lr(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var ls=class{constructor(e,i){this.redirectTo=e,this.navigationBehaviorOptions=i}},jg="ngNavigationCancelingError";function ga(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Bg(!1,Ot.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function Bg(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[jg]=!0,i.cancellationCode=e,i}function IE(t){return Vg(t)&&ns(t.url)}function Vg(t){return!!t&&t[jg]}var ME=(t,e,i,n)=>Ee(r=>(new Au(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),Au=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),tu(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=nr(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=nr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=nr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=nr(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new yu(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mu(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(tu(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tu(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,n)}},ma=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},sr=class{constructor(e,i){this.component=e,this.route=i}};function xE(t,e,i){let n=t._root,r=e?e._root:null;return Kr(n,r,i,[n.value])}function TE(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ur(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!ph(t)?t:e.get(t):n}function Kr(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=nr(e);return t.children.forEach(o=>{PE(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>es(a,i.getContext(o),r)),r}function PE(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let h=RE(o,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new ma(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Kr(t,e,a?a.children:null,n,r):Kr(t,e,i,n,r),h&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new sr(a.outlet.component,o))}else o&&es(e,a,r),r.canActivateChecks.push(new ma(n)),s.component?Kr(t,null,a?a.children:null,n,r):Kr(t,null,i,n,r);return r}function RE(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!bi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bi(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eu(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Eu(t,e)}}function es(t,e,i){let n=nr(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?es(o,e.children.getContext(s),i):es(o,null,i):es(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new sr(e.outlet.component,r)):i.canDeactivateChecks.push(new sr(null,r)):i.canDeactivateChecks.push(new sr(null,r))}function fs(t){return typeof t=="function"}function OE(t){return typeof t=="boolean"}function NE(t){return t&&fs(t.canLoad)}function kE(t){return t&&fs(t.canActivate)}function LE(t){return t&&fs(t.canActivateChild)}function FE(t){return t&&fs(t.canDeactivate)}function jE(t){return t&&fs(t.canMatch)}function Ug(t){return t instanceof fn||t?.name==="EmptyError"}var ra=Symbol("INITIAL_VALUE");function cr(){return It(t=>Bs(t.map(e=>e.pipe(pn(1),rl(ra)))).pipe(Ee(e=>{for(let i of e)if(i!==!0){if(i===ra)return ra;if(i===!1||BE(i))return i}return!0}),mt(e=>e!==ra),pn(1)))}function BE(t){return ns(t)||t instanceof ls}function VE(t,e){return Ke(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?_e(Fe(ue({},i),{guardsResult:!0})):UE(o,n,r,t).pipe(Ke(a=>a&&OE(a)?HE(n,s,t,e):_e(a)),Ee(a=>Fe(ue({},i),{guardsResult:a})))})}function UE(t,e,i,n){return ze(t).pipe(Ke(r=>qE(r.component,r.route,i,e,n)),tn(r=>r!==!0,!0))}function HE(t,e,i,n){return ze(e).pipe(On(r=>Ri(zE(r.route.parent,n),$E(r.route,n),GE(t,r.path,i),WE(t,r.route,i))),tn(r=>r!==!0,!0))}function $E(t,e){return t!==null&&e&&e(new vu(t)),_e(!0)}function zE(t,e){return t!==null&&e&&e(new gu(t)),_e(!0)}function WE(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return _e(!0);let r=n.map(s=>Vs(()=>{let o=hs(e)??i,a=ur(s,o),h=kE(a)?a.canActivate(e,t):qt(o,()=>a(e,t));return Kn(h).pipe(tn())}));return _e(r).pipe(cr())}function GE(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>TE(o)).filter(o=>o!==null).map(o=>Vs(()=>{let a=o.guards.map(h=>{let d=hs(o.node)??i,u=ur(h,d),l=LE(u)?u.canActivateChild(n,t):qt(d,()=>u(n,t));return Kn(l).pipe(tn())});return _e(a).pipe(cr())}));return _e(s).pipe(cr())}function qE(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return _e(!0);let o=s.map(a=>{let h=hs(e)??r,d=ur(a,h),u=FE(d)?d.canDeactivate(t,e,i,n):qt(h,()=>d(t,e,i,n));return Kn(u).pipe(tn())});return _e(o).pipe(cr())}function YE(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return _e(!0);let s=r.map(o=>{let a=ur(o,t),h=NE(a)?a.canLoad(e,i):qt(t,()=>a(e,i));return Kn(h)});return _e(s).pipe(cr(),Hg(n))}function Hg(t){return qa(st(e=>{if(typeof e!="boolean")throw ga(t,e)}),Ee(e=>e===!0))}function XE(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return _e(!0);let s=r.map(o=>{let a=ur(o,t),h=jE(a)?a.canMatch(e,i):qt(t,()=>a(e,i));return Kn(h)});return _e(s).pipe(cr(),Hg(n))}var cs=class{constructor(e){this.segmentGroup=e||null}},us=class extends Error{constructor(e){super(),this.urlTree=e}};function tr(t){return Pi(new cs(t))}function KE(t){return Pi(new pe(4e3,!1))}function QE(t){return Pi(Bg(!1,Ot.GuardRejected))}var Su=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return _e(n);if(r.numberOfChildren>1||!r.children[we])return KE(`${e.redirectTo}`);r=r.children[we]}}applyRedirectCommands(e,i,n,r,s){if(typeof i!="string"){let a=i,{queryParams:h,fragment:d,routeConfig:u,url:l,outlet:c,params:g,data:f,title:p}=r,y=qt(s,()=>a({params:g,data:f,queryParams:h,fragment:d,routeConfig:u,url:l,outlet:c,title:p}));if(y instanceof Dn)throw new us(y);i=y}let o=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i[0]==="/")throw new us(o);return o}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new Dn(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,h])=>{o[a]=this.createSegmentGroup(e,h,n,r)}),new Le(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new pe(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},Du={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZE(t,e,i,n,r){let s=$g(t,e,i);return s.matched?(n=wE(e,n),XE(n,e,i,r).pipe(Ee(o=>o===!0?s:ue({},Du)))):_e(s)}function $g(t,e,i){if(e.path==="**")return JE(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?ue({},Du):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Xw)(i,t,e);if(!r)return ue({},Du);let s={};Object.entries(r.posParams??{}).forEach(([a,h])=>{s[a]=h.path});let o=r.consumed.length>0?ue(ue({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function JE(t){return{matched:!0,parameters:t.length>0?Eg(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yg(t,e,i,n){return i.length>0&&nC(t,i,n)?{segmentGroup:new Le(e,tC(n,new Le(i,t.children))),slicedSegments:[]}:i.length===0&&iC(t,i,n)?{segmentGroup:new Le(t.segments,eC(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:i}}function eC(t,e,i,n){let r={};for(let s of i)if(ya(t,e,s)&&!n[en(s)]){let o=new Le([],{});r[en(s)]=o}return ue(ue({},n),r)}function tC(t,e){let i={};i[we]=e;for(let n of t)if(n.path===""&&en(n)!==we){let r=new Le([],{});i[en(n)]=r}return i}function nC(t,e,i){return i.some(n=>ya(t,e,n)&&en(n)!==we)}function iC(t,e,i){return i.some(n=>ya(t,e,n))}function ya(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function rC(t,e,i){return e.length===0&&!t.children[i]}var Iu=class{};function sC(t,e,i,n,r,s,o="emptyOnly"){return new Mu(t,e,i,n,r,o,s).recognize()}var oC=31,Mu=class{constructor(e,i,n,r,s,o,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Su(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new pe(4002,`'${e.segmentGroup}'`)}recognize(){let e=yg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(({children:i,rootSnapshot:n})=>{let r=new Rt(n,i),s=new pa("",r),o=pE(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let i=new rr([],Object.freeze({}),Object.freeze(ue({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,i).pipe(Ee(n=>({children:n,rootSnapshot:i})),Rn(n=>{if(n instanceof us)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof cs?this.noMatchError(n):n}))}processSegmentGroup(e,i,n,r,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n,s):this.processSegment(e,i,n,n.segments,r,!0,s).pipe(Ee(o=>o instanceof Rt?[o]:[]))}processChildren(e,i,n,r){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return ze(s).pipe(On(o=>{let a=n.children[o],h=EE(i,o);return this.processSegmentGroup(e,h,a,o,r)}),il((o,a)=>(o.push(...a),o)),Nn(null),nl(),Ke(o=>{if(o===null)return tr(n);let a=zg(o);return aC(a),_e(a)}))}processSegment(e,i,n,r,s,o,a){return ze(i).pipe(On(h=>this.processSegmentAgainstRoute(h._injector??e,i,h,n,r,s,o,a).pipe(Rn(d=>{if(d instanceof cs)return _e(null);throw d}))),tn(h=>!!h),Rn(h=>{if(Ug(h))return rC(n,r,s)?_e(new Iu):tr(n);throw h}))}processSegmentAgainstRoute(e,i,n,r,s,o,a,h){return en(n)!==o&&(o===we||!ya(r,s,n))?tr(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o,h):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o,h):tr(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,a){let{matched:h,parameters:d,consumedSegments:u,positionalParamSegments:l,remainingSegments:c}=$g(i,r,s);if(!h)return tr(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oC&&(this.allowRedirects=!1));let g=new rr(s,d,Object.freeze(ue({},this.urlTree.queryParams)),this.urlTree.fragment,bg(r),en(r),r.component??r._loadedComponent??null,r,_g(r)),f=fa(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(f.params),g.data=Object.freeze(f.data);let p=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,l,g,e);return this.applyRedirects.lineralizeSegments(r,p).pipe(Ke(y=>this.processSegment(e,n,i,y.concat(c),o,!1,a)))}matchSegmentAgainstRoute(e,i,n,r,s,o){let a=ZE(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(It(h=>h.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(It(({routes:d})=>{let u=n._loadedInjector??e,{parameters:l,consumedSegments:c,remainingSegments:g}=h,f=new rr(c,l,Object.freeze(ue({},this.urlTree.queryParams)),this.urlTree.fragment,bg(n),en(n),n.component??n._loadedComponent??null,n,_g(n)),p=fa(f,o,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:y,slicedSegments:v}=yg(i,c,g,d);if(v.length===0&&y.hasChildren())return this.processChildren(u,d,y,f).pipe(Ee(m=>new Rt(f,m)));if(d.length===0&&v.length===0)return _e(new Rt(f,[]));let A=en(n)===s;return this.processSegment(u,d,y,v,A?we:s,!0,f).pipe(Ee(m=>new Rt(f,m instanceof Rt?[m]:[])))}))):tr(i)))}getChildConfig(e,i,n){return i.children?_e({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?_e({routes:i._loadedRoutes,injector:i._loadedInjector}):YE(e,i,n,this.urlSerializer).pipe(Ke(r=>r?this.configLoader.loadChildren(e,i).pipe(st(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):QE(i))):_e({routes:[],injector:e})}};function aC(t){t.sort((e,i)=>e.value.outlet===we?-1:i.value.outlet===we?1:e.value.outlet.localeCompare(i.value.outlet))}function lC(t){let e=t.value.routeConfig;return e&&e.path===""}function zg(t){let e=[],i=new Set;for(let n of t){if(!lC(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=zg(n.children);e.push(new Rt(n.value,r))}return e.filter(n=>!i.has(n))}function bg(t){return t.data||{}}function _g(t){return t.resolve||{}}function cC(t,e,i,n,r,s){return Ke(o=>sC(t,e,i,n,o.extractedUrl,r,s).pipe(Ee(({state:a,tree:h})=>Fe(ue({},o),{targetSnapshot:a,urlAfterRedirects:h}))))}function uC(t,e){return Ke(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return _e(i);let s=new Set(r.map(h=>h.route)),o=new Set;for(let h of s)if(!o.has(h))for(let d of Wg(h))o.add(d);let a=0;return ze(o).pipe(On(h=>s.has(h)?dC(h,n,t,e):(h.data=fa(h,h.parent,t).resolve,_e(void 0))),st(()=>a++),Oi(1),Ke(h=>a===o.size?_e(i):Dt))})}function Wg(t){let e=t.children.map(i=>Wg(i)).flat();return[t,...e]}function dC(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!Fg(r)&&(s[ds]=r.title),hC(s,t,e,n).pipe(Ee(o=>(t._resolvedData=o,t.data=fa(t,t.parent,i).resolve,null)))}function hC(t,e,i,n){let r=ru(t);if(r.length===0)return _e({});let s={};return ze(r).pipe(Ke(o=>fC(t[o],e,i,n).pipe(tn(),st(a=>{if(a instanceof ls)throw ga(new ts,a);s[o]=a}))),Oi(1),tl(s),Rn(o=>Ug(o)?Dt:Pi(o)))}function fC(t,e,i,n){let r=hs(e)??n,s=ur(t,r),o=s.resolve?s.resolve(e,i):qt(r,()=>s(e,i));return Kn(o)}function nu(t){return It(e=>{let i=t(e);return i?ze(i).pipe(Ee(()=>e)):_e(e)})}var Gg=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(n){return n.data[ds]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>ae(pC),providedIn:"root"});let t=e;return t})(),pC=(()=>{let e=class e extends Gg{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(be(fg))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nu=new me("",{providedIn:"root",factory:()=>({})}),gC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ct({type:e,selectors:[["ng-component"]],standalone:!0,features:[Vt],decls:1,vars:0,template:function(r,s){r&1&&Qe(0,"router-outlet")},dependencies:[Ru],encapsulation:2});let t=e;return t})();function ku(t){let e=t.children&&t.children.map(ku),i=e?Fe(ue({},t),{children:e}):ue({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==we&&(i.component=gC),i}var Lu=new me(""),mC=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(kc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return _e(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Kn(n.loadComponent()).pipe(Ee(qg),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ti(()=>{this.componentLoaders.delete(n)})),s=new Mi(r,()=>new lt).pipe(Ii());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _e({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=vC(r,this.compiler,n,this.onLoadEndListener).pipe(ti(()=>{this.childrenLoaders.delete(r)})),a=new Mi(o,()=>new lt).pipe(Ii());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vC(t,e,i,n){return Kn(t.loadChildren()).pipe(Ee(qg),Ke(r=>r instanceof Mr||Array.isArray(r)?_e(r):ze(e.compileModuleAsync(r))),Ee(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(Lu,[],{optional:!0,self:!0}).flat()),{routes:o.map(ku),injector:s}}))}function yC(t){return t&&typeof t=="object"&&"default"in t}function qg(t){return yC(t)?t.default:t}var Fu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>ae(bC),providedIn:"root"});let t=e;return t})(),bC=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_C=new me("");var wC=new me(""),EC=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=ae(mC),this.environmentInjector=ae(wt),this.urlSerializer=ae(Tu),this.rootContexts=ae(va),this.location=ae(Vr),this.inputBindingEnabled=ae(Ou,{optional:!0})!==null,this.titleStrategy=ae(Gg),this.options=ae(Nu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ae(Fu),this.createViewTransition=ae(_C,{optional:!0}),this.navigationErrorHandler=ae(wC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_e(void 0),this.rootComponentType=null;let n=s=>this.events.next(new fu(s)),r=s=>this.events.next(new pu(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Fe(ue(ue({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new ct({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Jr,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(o=>o.id!==0),Ee(o=>Fe(ue({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),It(o=>{let a=!1,h=!1;return _e(o).pipe(It(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ot.SupersededByNewNavigation),Dt;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Fe(ue({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload"){let c="";return this.events.next(new wi(d.id,this.urlSerializer.serialize(d.rawUrl),c,lu.IgnoredSameUrlNavigation)),d.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return _e(d).pipe(It(c=>{let g=this.transitions?.getValue();return this.events.next(new rs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),g!==this.transitions?.getValue()?Dt:Promise.resolve(c)}),cC(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(c=>{o.targetSnapshot=c.targetSnapshot,o.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Fe(ue({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let g=new ua(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:c,extractedUrl:g,source:f,restoredState:p,extras:y}=d,v=new rs(c,this.urlSerializer.serialize(g),f,p);this.events.next(v);let A=kg(this.rootComponentType).snapshot;return this.currentTransition=o=Fe(ue({},d),{targetSnapshot:A,urlAfterRedirects:g,extras:Fe(ue({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,_e(o)}else{let c="";return this.events.next(new wi(d.id,this.urlSerializer.serialize(d.extractedUrl),c,lu.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Dt}}),st(d=>{let u=new cu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Ee(d=>(this.currentTransition=o=Fe(ue({},d),{guards:xE(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),VE(this.environmentInjector,d=>this.events.next(d)),st(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw ga(this.urlSerializer,d.guardsResult);let u=new uu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(u)}),mt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Ot.GuardRejected),!1)),nu(d=>{if(d.guards.canActivateChecks.length)return _e(d).pipe(st(u=>{let l=new du(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),It(u=>{let l=!1;return _e(u).pipe(uC(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",Ot.NoDataFromResolver)}}))}),st(u=>{let l=new hu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),nu(d=>{let u=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(st(g=>{l.component=g}),Ee(()=>{})));for(let g of l.children)c.push(...u(g));return c};return Bs(u(d.targetSnapshot.root)).pipe(Nn(null),pn(1))}),nu(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:d,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,d.root,u.root);return l?ze(l).pipe(Ee(()=>o)):_e(o)}),Ee(d=>{let u=AE(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Fe(ue({},d),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),st(()=>{this.events.next(new os)}),ME(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),pn(1),st({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _i(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),Ue(this.transitionAbortSubject.pipe(st(d=>{throw d}))),ti(()=>{!a&&!h&&this.cancelNavigationTransition(o,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(d=>{if(h=!0,Vg(d))this.events.next(new Sn(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),IE(d)?this.events.next(new ar(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let u=new ss(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let l=qt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof ls){let{message:c,cancellationCode:g}=ga(this.urlSerializer,l);this.events.next(new Sn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,g)),this.events.next(new ar(l.redirectTo,l.navigationBehaviorOptions))}else{this.events.next(u);let c=n.errorHandler(d);o.resolve(!!c)}}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Dt}))}))}cancelNavigationTransition(n,r,s){let o=new Sn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CC(t){return t!==Jr}var AC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>ae(SC),providedIn:"root"});let t=e;return t})(),xu=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},SC=(()=>{let e=class e extends xu{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=mc(e)))(s||e)}})(),e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:()=>ae(DC),providedIn:"root"});let t=e;return t})(),DC=(()=>{let e=class e extends Yg{constructor(){super(...arguments),this.location=ae(Vr),this.urlSerializer=ae(Tu),this.options=ae(Nu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ae(Fu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kg(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof rs)this.stateMemento=this.createStateMemento();else if(n instanceof wi)this.rawUrlTree=r.initialUrl;else if(n instanceof ua){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else n instanceof os?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Sn&&(n.code===Ot.GuardRejected||n.code===Ot.NoDataFromResolver)?this.restoreHistory(r):n instanceof ss?this.restoreHistory(r,!0):n instanceof _i&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=n instanceof Dn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=ue(ue({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=ue(ue({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=mc(e)))(s||e)}})(),e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Qr||{});function IC(t,e){t.events.pipe(mt(i=>i instanceof _i||i instanceof Sn||i instanceof ss||i instanceof wi),Ee(i=>i instanceof _i||i instanceof wi?Qr.COMPLETE:(i instanceof Sn?i.code===Ot.Redirect||i.code===Ot.SupersededByNewNavigation:!1)?Qr.REDIRECTING:Qr.FAILED),mt(i=>i!==Qr.REDIRECTING),pn(1)).subscribe(()=>{e()})}function MC(t){throw t}var xC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xg=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ae(Oo),this.stateManager=ae(Yg),this.options=ae(Nu,{optional:!0})||{},this.pendingTasks=ae(Un),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ae(EC),this.urlSerializer=ae(Tu),this.location=ae(Vr),this.urlHandlingStrategy=ae(Fu),this._events=new lt,this.errorHandler=this.options.errorHandler||MC,this.navigated=!1,this.routeReuseStrategy=ae(AC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ae(Lu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ae(Ou,{optional:!0}),this.eventsSubscription=new Xe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Sn&&r.code!==Ot.Redirect&&r.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _i)this.navigated=!0;else if(r instanceof ar){let a=r.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),d=ue({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||CC(s.source)},a);this.scheduleNavigation(h,Jr,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}RC(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let d=ue({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let h=this.parseUrl(n);this.scheduleNavigation(h,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ku),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:h,preserveFragment:d}=r,u=d?this.currentUrlTree.fragment:a,l=null;switch(h??this.options.defaultQueryParamsHandling){case"merge":l=ue(ue({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let c;try{let g=s?s.snapshot:this.routerState.snapshot.root;c=Pg(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),c=this.currentUrlTree.root}return Rg(c,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=ns(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Jr,null,r)}navigate(n,r={skipLocationChange:!1}){return PC(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=ue({},xC):r===!1?s=ue({},TC):s=r,ns(n))return pg(this.currentUrlTree,n,s);let o=this.parseUrl(n);return pg(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let h,d,u;a?(h=a.resolve,d=a.reject,u=a.promise):u=new Promise((c,g)=>{h=c,d=g});let l=this.pendingTasks.add();return IC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:h,reject:d,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(c=>Promise.reject(c))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PC(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new pe(4008,!1)}function RC(t){return!(t instanceof os)&&!(t instanceof ar)}var OC=new me("");function Kg(t,...e){return qi([{provide:Lu,multi:!0,useValue:t},[],{provide:lr,useFactory:NC,deps:[Xg]},{provide:No,multi:!0,useFactory:kC},e.map(i=>i.\u0275providers)])}function NC(t){return t.routerState.root}function kC(){let t=ae(hi);return e=>{let i=t.get(Wn);if(e!==i.components[0])return;let n=t.get(Xg),r=t.get(LC);t.get(FC)===1&&n.initialNavigation(),t.get(jC,null,Se.Optional)?.setUpPreloading(),t.get(OC,null,Se.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var LC=new me("",{factory:()=>new lt}),FC=new me("",{providedIn:"root",factory:()=>1});var jC=new me("");var gt=Yu(im(),1),ht=Yu(rm(),1);var QC=["pdfViewerContainer"];function ZC(t,e){let i=new t.EventBus;return JC(i,e),i}function JC(t,e){We(t,"documentload").pipe(Ue(e)).subscribe(()=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(i)}),We(t,"pagerendered").pipe(Ue(e)).subscribe(({pageNumber:i,cssTransform:n,source:r})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:i,cssTransform:n}),r.div.dispatchEvent(s)}),We(t,"textlayerrendered").pipe(Ue(e)).subscribe(({pageNumber:i,source:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:i}),n.textLayerDiv?.dispatchEvent(r)}),We(t,"pagechanging").pipe(Ue(e)).subscribe(({pageNumber:i,source:n})=>{let r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=i,n.container.dispatchEvent(r)}),We(t,"pagesinit").pipe(Ue(e)).subscribe(({source:i})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("pagesinit",!0,!0,null),i.container.dispatchEvent(n)}),We(t,"pagesloaded").pipe(Ue(e)).subscribe(({pagesCount:i,source:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:i}),n.container.dispatchEvent(r)}),We(t,"scalechange").pipe(Ue(e)).subscribe(({scale:i,presetValue:n,source:r})=>{let s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=i,s.presetValue=n,r.container.dispatchEvent(s)}),We(t,"updateviewarea").pipe(Ue(e)).subscribe(({location:i,source:n})=>{let r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=i,n.container.dispatchEvent(r)}),We(t,"find").pipe(Ue(e)).subscribe(({source:i,type:n,query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:h})=>{if(i===window)return;let d=document.createEvent("CustomEvent");d.initCustomEvent("find"+n,!0,!0,{query:r,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:h}),window.dispatchEvent(d)}),We(t,"attachmentsloaded").pipe(Ue(e)).subscribe(({attachmentsCount:i,source:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:i}),n.container.dispatchEvent(r)}),We(t,"sidebarviewchanged").pipe(Ue(e)).subscribe(({view:i,source:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:i}),n.outerContainer.dispatchEvent(r)}),We(t,"pagemode").pipe(Ue(e)).subscribe(({mode:i,source:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:i}),n.pdfViewer.container.dispatchEvent(r)}),We(t,"namedaction").pipe(Ue(e)).subscribe(({action:i,source:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:i}),n.pdfViewer.container.dispatchEvent(r)}),We(t,"presentationmodechanged").pipe(Ue(e)).subscribe(({active:i,switchInProgress:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:i,switchInProgress:n}),window.dispatchEvent(r)}),We(t,"outlineloaded").pipe(Ue(e)).subscribe(({outlineCount:i,source:n})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:i}),n.container.dispatchEvent(r)})}function Hu(t,e,i){t[e]=i}function gs(){return typeof window>"u"}gs()||Hu(gt,"verbosity",gt.VerbosityLevel.INFOS);var $u=function(t){return t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",t}($u||{}),wa=(()=>{class t{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof gt<"u"?`https://unpkg.com/pdfjs-dist@${gt.version}/cmaps/`:null;_imageResourcesPath=typeof gt<"u"?`https://unpkg.com/pdfjs-dist@${gt.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=$u.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new lt;afterLoadComplete=new He;pageRendered=new He;pageInitialized=new He;textLayerRendered=new He;onError=new He;onProgress=new He;pageChange=new He(!0);src;set cMapsUrl(i){this._cMapsUrl=i}set page(i){i=parseInt(i,10)||1;let n=i;this._pdf&&(i=this.getValidPageNumber(i)),this._page=i,n!==i&&this.pageChange.emit(i)}set renderText(i){this._renderText=i}set renderTextMode(i){this._renderTextMode=i}set originalSize(i){this._originalSize=i}set showAll(i){this._showAll=i}set stickToPage(i){this._stickToPage=i}set zoom(i){i<=0||(this._zoom=i)}get zoom(){return this._zoom}set zoomScale(i){this._zoomScale=i}get zoomScale(){return this._zoomScale}set rotation(i){if(!(typeof i=="number"&&i%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=i}set externalLinkTarget(i){this._externalLinkTarget=i}set autoresize(i){this._canAutoResize=!!i}set fitToPage(i){this._fitToPage=!!i}set showBorders(i){this._showBorders=!!i}static getLinkTarget(i){switch(i){case"blank":return ht.LinkTarget.BLANK;case"none":return ht.LinkTarget.NONE;case"self":return ht.LinkTarget.SELF;case"parent":return ht.LinkTarget.PARENT;case"top":return ht.LinkTarget.TOP}return null}constructor(i,n){if(this.element=i,this.ngZone=n,gs())return;let r,s=gt.version,o=window[`pdfWorkerSrc${s}`];o?r=o:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?r=window.pdfWorkerSrc:r=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`,Hu(gt.GlobalWorkerOptions,"workerSrc",r)}ngAfterViewChecked(){if(this.isInitialized)return;let i=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&i==null){this.isVisible=!1;return}this.isVisible===!1&&i!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(i){if(!(gs()||!this.isVisible)){if("src"in i)this.loadPDF();else if(this._pdf){if(("renderText"in i||"showAll"in i)&&(this.setupViewer(),this.resetPdfDocument()),"page"in i){let{page:n}=i;if(n.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){ze(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Ue(this.destroy$)).subscribe({next:i=>{let n=this._rotation+i.rotate,r=i.getViewport({scale:this._zoom,rotation:n}).width*t.CSS_UNITS,s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){let a=i.getViewport({scale:1,rotation:n});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=s,o&&this.pdfViewer.scrollPageIntoView({pageNumber:i.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let i=t.getLinkTarget(this._externalLinkTarget);return i?{externalLinkTarget:i}:{}}initEventBus(){this.eventBus=ZC(ht,this.destroy$),We(this.eventBus,"pagerendered").pipe(Ue(this.destroy$)).subscribe(i=>{this.pageRendered.emit(i)}),We(this.eventBus,"pagesinit").pipe(Ue(this.destroy$)).subscribe(i=>{this.pageInitialized.emit(i)}),We(this.eventBus,"pagechanging").pipe(Ue(this.destroy$)).subscribe(({pageNumber:i})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=i,this.pageChange.emit(i)},100)}),We(this.eventBus,"textlayerrendered").pipe(Ue(this.destroy$)).subscribe(i=>{this.textLayerRendered.emit(i)})}initPDFServices(){this.pdfLinkService=new ht.PDFLinkService(ue({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new ht.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:$u.DISABLED,findController:this.pdfFindController,l10n:new ht.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:gt.AnnotationEditorType.DISABLE}}setupViewer(){Hu(gt,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new ht.PDFViewer(this.getPDFOptions()):this.pdfViewer=new ht.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(i){return i<1?1:i>this._pdf.numPages?this._pdf.numPages:i}getDocumentParams(){let i=typeof this.src;if(!this._cMapsUrl)return this.src;let n={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return n.isEvalSupported=!1,i==="string"?n.url=this.src:i==="object"&&(this.src.byteLength!==void 0?n.data=this.src:Object.assign(n,this.src)),n}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=gt.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=n=>{this.onProgress.emit(n)};let i=this.src;ze(this.loadingTask.promise).pipe(Ue(this.destroy$)).subscribe({next:n=>{this._pdf=n,this.lastLoaded=i,this.afterLoadComplete.emit(n),this.resetPdfDocument(),this.update()},error:n=>{this.lastLoaded=null,this.onError.emit(n)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(i,n){let r=this._showBorders?2*t.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,o=this.pdfViewerContainer.nativeElement.clientHeight-r;if(o===0||n===0||s===0||i===0)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/n,s/i);break;case"page-height":a=o/n;break;case"page-width":default:a=s/i;break}return this._zoom*a/t.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){gs()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){gs()||this.ngZone.runOutsideAngular(()=>{We(window,"resize").pipe(el(100),mt(()=>this._canAutoResize&&!!this._pdf),Ue(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(n){return new(n||t)(ut(cn),ut(Ge))};static \u0275cmp=Ct({type:t,selectors:[["pdf-viewer"]],viewQuery:function(n,r){if(n&1&&To(QC,5),n&2){let s;Lr(s=Fr())&&(r.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Yi],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(n,r){n&1&&(Ae(0,"div",1,0),Qe(2,"div",2),De())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return t})(),sm=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=gi({type:t});static \u0275inj=pi({})}return t})();var tA=t=>({width:t}),Ea=class t{progress=0;ngOnInit(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ct({type:t,selectors:[["app-progress"]],inputs:{progress:"progress"},standalone:!0,features:[Vt],decls:2,vars:3,consts:[[1,"progress-container"],[1,"progress-bar",3,"ngStyle"]],template:function(i,n){i&1&&(Ae(0,"div",0),Qe(1,"div",1),De()),i&2&&(Tt(),Kt("ngStyle",zn(1,tA,n.progress+"%")))},dependencies:[vi,er],styles:[".progress-container[_ngcontent-%COMP%]{width:100%;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#3f51b5;transition:width 2s ease-in-out}"]})};var nA=t=>({height:t}),iA=t=>({visibility:t}),Aa=class t{pdfComponent;progressEmit=new He;pdfSrc="assets/Kholapharda.pdf";pageNumber=1;totalPages=0;zoom=1;afterLoadComplete(e){this.totalPages=e.numPages}previousPage(){this.pageNumber>1&&this.pageNumber--}nextPage(){this.pageNumber<this.totalPages&&this.pageNumber++}zoomIn(){this.zoom+=.1}zoomOut(){this.zoom>.1&&(this.zoom-=.1)}size=!0;fit=!0;pageFit(){this.zoom=1,this.fit=!0,this.size=!0}onPageChange(e){this.pageNumber=e.pageNumber,console.log(this.pageNumber)}downloadPdf(){let e=document.createElement("a");e.href=this.pdfSrc,e.download=this.pdfSrc.split("/").pop()||"download.pdf",e.click()}onPagesLoaded(e){this.totalPages=e.pagesCount}currentProgress=0;displayHeader="flex";display="Hidden";progress="visible";onProgress(e){this.currentProgress=e.loaded/e.total*100;var i=Number(this.currentProgress.toFixed(0));this.progressEmit.emit(i),this.currentProgress==100&&(this.display="visible",this.progress="Hidden",this.isFullWidth=!1)}isFullWidth=!0;closeNav(){this.isFullWidth=!this.isFullWidth}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ct({type:t,selectors:[["app-pdf"]],viewQuery:function(i,n){if(i&1&&To(wa,5),i&2){let r;Lr(r=Fr())&&(n.pdfComponent=r.first)}},outputs:{progressEmit:"progressEmit"},standalone:!0,features:[Vt],decls:9,vars:15,consts:[["id","myNav",1,"overlay",3,"ngStyle"],[1,"overlay-content"],[3,"progress"],[3,"ngStyle"],[1,"pdf-viewer",3,"pagesLoaded","on-progress","after-load-complete","page-change","src","render-text","original-size","fit-to-page","show-borders","show-all","zoom","page"]],template:function(i,n){i&1&&(Ae(0,"div",0)(1,"div",1)(2,"a"),je(3,"Kholapharda.in "),Qe(4,"br"),je(5,"\u0B15\u0B41 \u0B38\u0B4D\u0B71\u0B3E\u0B17\u0B24"),De()()(),Qe(6,"app-progress",2),Ae(7,"div",3)(8,"pdf-viewer",4),Qi("pagesLoaded",function(s){return n.onPagesLoaded(s)})("on-progress",function(s){return n.onProgress(s)})("after-load-complete",function(s){return n.afterLoadComplete(s)})("page-change",function(s){return n.onPageChange(s)}),De()()),i&2&&(Kt("ngStyle",zn(11,nA,n.isFullWidth?"100%":"0%")),Tt(6),Kt("progress",n.currentProgress),Tt(),Kt("ngStyle",zn(13,iA,n.display)),Tt(),Kt("src",n.pdfSrc)("render-text",!0)("original-size",n.size)("fit-to-page",n.fit)("show-borders",!0)("show-all",!0)("zoom",n.zoom)("page",n.pageNumber))},dependencies:[sm,wa,Ea,vi,er],styles:[".pdf-viewer[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:32.8rem}header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;background-color:#f8f9fa;border-bottom:1px solid #e0e0e0;box-shadow:0 2px 4px #0000001a}.toolbar[_ngcontent-%COMP%]{width:302px;display:flex}.pdf-toolbar[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#c5cbd1;height:28px}.pdf-toolbar[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]   #page[_ngcontent-%COMP%]{margin:0 1px;padding:5px 10px}.pdf-toolbar[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]   .pervious-btn[_ngcontent-%COMP%]{margin-left:3px;border-radius:4px 0 0 4px}.pdf-toolbar[_ngcontent-%COMP%]   .page-navigate[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{border-radius:0 4px 4px 0}.overlay[_ngcontent-%COMP%]{height:0%;width:100%;position:fixed;z-index:1;top:0;left:0;background-color:#000000e6;overflow-x:hidden;transition:.5s}.overlay-content[_ngcontent-%COMP%]{position:relative;top:25%;width:100%;text-align:center;margin-top:30px}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px;text-decoration:none;font-size:36px;color:#818181;display:block;transition:.3s}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#f1f1f1}.overlay[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:20px;right:45px;font-size:60px}@media screen and (max-height: 450px){.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px}.overlay[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{font-size:40px;top:15px;right:35px}}@media (min-height:696px){.pdf-viewer[_ngcontent-%COMP%]{height:43.5rem}}"]})};var om=[{path:"",component:Aa}];var am={providers:[xp({eventCoalescing:!0}),Kg(om),rg()]};var zu={production:!1,pdfSrc:"/assets/Kholapharda.pdf",visitorCount:65505};var dr=class t{constructor(e){this.http=e}configUrl="assets/config/appconfig.json";config=null;loadConfig(){return this.http.get(this.configUrl)}updateConfig(e){return this.http.post(this.configUrl,e,{headers:new Jt({"Content-Type":"application/json"})})}getConfig(){return console.log(this.config?.version),this.config}setConfig(e){console.log(this.config?.version),this.config=e}static \u0275fac=function(i){return new(i||t)(be(Gc))};static \u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"})};var rA=t=>({display:t}),sA=t=>({width:t}),Sa=class t{constructor(e){this.appConfigService=e}visitorCount;isFullWidth=!1;display="none";config=null;currentDateTime="";intervalId;ngOnInit(){this.appConfigService.loadConfig().subscribe(e=>{this.visitorCount=e.visitorCount,this.getVistorsCount()}),this.updateDateTime(),this.intervalId=setInterval(()=>{this.updateDateTime()},1e3)}updateDateTime(){let e=new Date;this.currentDateTime=e.toLocaleString()}openNavigation(){this.isFullWidth=!this.isFullWidth}getVistorsCount(){let e=Number(window.localStorage.getItem("page_view"));isNaN(Number(e))?this.setVistorCount(this.visitorCount):this.visitorCount>Number(e)?this.setVistorCount(this.visitorCount):this.setVistorCount(e)}setVistorCount(e){this.visitorCount=e+1,window.localStorage.setItem("page_view",this.visitorCount.toString())}downloadPdf(){let e=document.createElement("a");e.href=zu.pdfSrc,e.download=zu.pdfSrc.split("/").pop()||"download.pdf",e.click()}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}static \u0275fac=function(i){return new(i||t)(ut(dr))};static \u0275cmp=Ct({type:t,selectors:[["app-header"]],standalone:!0,features:[Vt],decls:32,vars:11,consts:[[1,"logo"],["src","assets/content/kholapharda_logo.png","width","150px"],[2,"margin","auto"],[1,"visitors-counter"],[1,"visitor"],[1,"counter"],["title","Download PDF",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512"],["d","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"],[1,"datetime","visitor"],["id","menu",3,"ngStyle"],["href","#news"],["href","#contact"],["href","#about"],["id","myNav",1,"overlay",3,"ngStyle"],[1,"overlay-content"],["href","/archive"],["href","/settings"],["href","/contact"],["href","#"]],template:function(i,n){i&1&&(Ae(0,"header")(1,"div",0),Qe(2,"img",1),De(),Qe(3,"div",2),Ae(4,"div",3)(5,"div",4),je(6,"\u0B2A\u0B3E\u0B20\u0B15 Readers"),De(),Ae(7,"div",5),je(8),De()(),Ae(9,"button",6),Qi("click",function(){return n.downloadPdf()}),Or(),Ae(10,"svg",7),Qe(11,"path",8),De()(),Nr(),Ae(12,"p",9),je(13),Ep(14,"date"),De()(),Ae(15,"div",10)(16,"a",11),je(17,"News"),De(),Ae(18,"a",12),je(19,"Contact"),De(),Ae(20,"a",13),je(21,"About"),De()(),Ae(22,"div",14)(23,"div",15)(24,"a",16),je(25,"Archive"),De(),Ae(26,"a",17),je(27,"Services"),De(),Ae(28,"a",18),je(29,"Contact us"),De(),Ae(30,"a",19),je(31,"Theme mode"),De()()()),i&2&&(Tt(8),Po(n.visitorCount),Tt(5),Po(Cp(14,4,n.currentDateTime,"medium")),Tt(2),Kt("ngStyle",zn(7,rA,n.display)),Tt(7),Kt("ngStyle",zn(9,sA,n.isFullWidth?"30%":"0%")))},dependencies:[vi,er,Gp],styles:["header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;background-color:#f8f9fa;border-bottom:1px solid #e0e0e0;box-shadow:0 2px 4px #0000001a;position:sticky;top:0;z-index:1}button[_ngcontent-%COMP%]{display:inline-flex;background:none;border:none;outline:none;padding:5px 10px;font-size:16px;color:#495057;cursor:pointer;transition:background-color 3s ease;align-items:center}button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;fill:#495057}button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{fill:#007bff}.visitors-counter[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-align:center}.visitor[_ngcontent-%COMP%]{color:#495057;font-family:Arial,Helvetica,sans-serif}.counter[_ngcontent-%COMP%]{background-color:#ee1d23;border-radius:30px;padding:0 10px;font-size:20px}.overlay[_ngcontent-%COMP%]{height:100%;width:0%;position:fixed;z-index:1;top:70px;left:0;background-color:#000000b3;overflow-y:hidden;transition:.5s}.overlay-content[_ngcontent-%COMP%]{position:relative;top:0%;width:100%;text-align:center}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;padding:8px;text-decoration:none;font-size:30px;color:#818181;display:block;transition:.3s}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:#f8f9fa;color:#000}#menu[_ngcontent-%COMP%]{display:none}.datetime[_ngcontent-%COMP%]{position:absolute;top:40px;right:12px;font-size:small;font-weight:600}"]})};var Da=class t{constructor(e){this.appConfigService=e}config=null;ngOnInit(){this.appConfigService.loadConfig().subscribe(e=>{this.config=e})}static \u0275fac=function(i){return new(i||t)(ut(dr))};static \u0275cmp=Ct({type:t,selectors:[["app-footer"]],standalone:!0,features:[Vt],decls:52,vars:1,consts:[[1,"footer"],[1,"footer-content"],[1,"contact-details"],["href","mailto:kholapharda@gmail.com"],["href","mailto:kholapharda@rediffmail.com"],[1,"developer-info"],["href","https://www.linkedin.com/in/bijankumarbhanjadeo/","target","_blank"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","width","16","height","16","viewBox","0 0 256 256",0,"xml","space","preserve"],["transform","translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)",2,"stroke","none","stroke-width","0","stroke-dasharray","none","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","fill","none","fill-rule","nonzero","opacity","1"],["d","M 0 6.447 C 0 2.887 2.978 0 6.651 0 h 76.698 C 87.022 0 90 2.887 90 6.447 v 77.106 C 90 87.114 87.022 90 83.349 90 H 6.651 C 2.978 90 0 87.114 0 83.553 V 6.447 z","transform"," matrix(1 0 0 1 0 0) ","stroke-linecap","round",2,"stroke","none","stroke-width","1","stroke-dasharray","none","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","fill","rgb(0,102,153)","fill-rule","nonzero","opacity","1"],["d","M 20.485 29.151 c 4.74 0 7.691 -3.121 7.691 -7.021 c -0.088 -3.988 -2.95 -7.022 -7.601 -7.022 c -4.65 0 -7.69 3.034 -7.69 7.022 c 0 3.9 2.95 7.021 7.512 7.021 H 20.485 L 20.485 29.151 z","transform"," matrix(1 0 0 1 0 0) ","stroke-linecap","round",2,"stroke","none","stroke-width","1","stroke-dasharray","none","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","fill","rgb(255,255,255)","fill-rule","nonzero","opacity","1"],["d","M 27.282 75.339 v -40.64 H 13.688 v 40.64 H 27.282 z","transform"," matrix(1 0 0 1 0 0) ","stroke-linecap","round",2,"stroke","none","stroke-width","1","stroke-dasharray","none","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","fill","rgb(255,255,255)","fill-rule","nonzero","opacity","1"],["d","M 34.804 75.339 h 13.594 V 52.644 c 0 -1.215 0.088 -2.428 0.447 -3.296 c 0.983 -2.427 3.219 -4.94 6.975 -4.94 c 4.919 0 6.887 3.727 6.887 9.19 v 21.741 h 13.592 V 52.037 c 0 -12.483 -6.706 -18.291 -15.65 -18.291 c -7.333 0 -10.553 4.073 -12.342 6.847 h 0.091 v -5.894 H 34.804 C 34.982 38.513 34.804 75.339 34.804 75.339 L 34.804 75.339 z","transform"," matrix(1 0 0 1 0 0) ","stroke-linecap","round",2,"stroke","none","stroke-width","1","stroke-dasharray","none","stroke-linecap","butt","stroke-linejoin","miter","stroke-miterlimit","10","fill","rgb(255,255,255)","fill-rule","nonzero","opacity","1"],["href","https://www.linkedin.com/in/imsanjay95/","target","_blank"],[1,"copyright"]],template:function(i,n){i&1&&(Ae(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),je(4,"Contact Us"),De(),Ae(5,"p")(6,"b"),je(7,"Email:"),De(),Ae(8,"a",3),je(9,"kholapharda@gmail.com"),De(),je(10,", "),Ae(11,"a",4),je(12,"kholapharda@rediffmail.com"),De()(),Ae(13,"p")(14,"b"),je(15,"Phone: "),De(),je(16,"9937057454, 9438021465, 9861126726, Office: (0674)- 2597071"),De(),Ae(17,"p")(18,"b"),je(19,"Address: "),De(),je(20,"Qtrs No-IVR-18/4, Road No-5,Unit No.1, Bhubaneswar, Dist- Khorda, Odisha, India"),De()(),Ae(21,"div",5)(22,"p")(23,"b"),je(24,"Designed & Developed by "),De()(),Ae(25,"p")(26,"a",6),Or(),Ae(27,"svg",7),Qe(28,"defs"),Ae(29,"g",8),Qe(30,"path",9)(31,"path",10)(32,"path",11)(33,"path",12),De()(),je(34," Bijan Kumar Bhanja Deo"),De()(),Nr(),Ae(35,"p"),Or(),Ae(36,"svg",7),Qe(37,"defs"),Ae(38,"g",8),Qe(39,"path",9)(40,"path",10)(41,"path",11)(42,"path",12),De()(),Nr(),Ae(43,"a",13),je(44,"Sanjay Kumar"),De()()(),Ae(45,"div",14)(46,"p")(47,"b"),je(48,"\xA9 2024 Kholapharda. All rights reserved."),De()(),Ae(49,"p")(50,"b"),je(51),De()()()()()),i&2&&(Tt(51),Ro("Currently ",n.config==null?null:n.config.version,""))},styles:[".footer[_ngcontent-%COMP%]{background-color:#f8f9fa67;color:#0e0067;position:absolute;z-index:2;width:100%}.footer-content[_ngcontent-%COMP%]{margin:0 auto;padding:0 50px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid #e0e0e0;background-color:#f8f9fa;border-top:1px solid #e0e0e0;box-shadow:inset 4px 2px 2px #0000001a}.contact-details[_ngcontent-%COMP%], .developer-info[_ngcontent-%COMP%], .copyright[_ngcontent-%COMP%]{margin:10px 0}.contact-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;font-size:18px}.contact-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .developer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px}.developer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.developer-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px;float:left}.contact-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .developer-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media (min-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between}.contact-details[_ngcontent-%COMP%], .developer-info[_ngcontent-%COMP%], .copyright[_ngcontent-%COMP%]{margin:0 20px}}@media (max-width: 767px){.toolbar[_ngcontent-%COMP%]{display:none}}"]})};var Ia=class t{title="kholapharda";static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Ct({type:t,selectors:[["app-root"]],standalone:!0,features:[Vt],decls:3,vars:0,template:function(i,n){i&1&&Qe(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ru,Sa,Da]})};hg(Ia,am).catch(t=>console.error(t));
